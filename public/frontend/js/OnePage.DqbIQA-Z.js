const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      'component-ShopPayWrapper.DITHrWhM.js',
      'app.YFeVIJ1k.js',
      'assets/app.whj6cDzT.css',
      'context.CKWj44aH.js',
      'usePreselectSpi.DWQFMVEZ.js',
      'useIsOriginatedFromShop.D_p8RxRO.js',
      'Section.DVUmF4Ga.js',
      'assets/Section.sQehCocD.css',
      'publishMessage.C2H334tF.js',
      'ShopPayLoginLoader.DijpPVOl.js',
      'assets/ShopPayLoginLoader.CjGSo8kt.css',
      'PayButtonSection.BNPV9A-l.js',
      'Rollup.D_DVU1MA.js',
      'assets/Rollup.o9Mx-fKL.css',
      'useShowShopPayOptin.CsUau2lX.js',
      'RageClickCapture.wW7TAQ18.js',
      'MarketsProDisclaimer.BPp3T8HM.js',
      'assets/RageClickCapture.DnkQ4tsk.css',
      'assets/PayButtonSection.DF7trkKf.css',
      'DeliveryMethodSelectorSection.45hAcTBm.js',
      'useUnauthenticatedErrorModal.Dgap6hbC.js',
      'LegacyVaultedShippingMethods.DGTCZkTx.js',
      'SubscriptionPriceBreakdown.GhzR2flD.js',
      'assets/SubscriptionPriceBreakdown.Bqs0s4oM.css',
      'ShopPayLogo.qW-3ANH5.js',
      'assets/ShopPayLogo.D_HPU8Dh.css',
      'index.DcTYqCBo.js',
      'PickupPointCarrierLogo.BqXvsPcc.js',
      'assets/PickupPointCarrierLogo.C0wRU6wV.css',
      'hooks.aHDY8Amc.js',
      'assets/DeliveryMethodSelectorSection.DNerkzQV.css',
      'VaultedPayment.RlVwirhz.js',
      'assets/VaultedPayment.BO3829nT.css',
      'useGooglePaySdk.C0yKvhOd.js',
      'DutyOptions.DU8ympzE.js',
      'useAmazonContact.HL8qh-Fn.js',
      'assets/useAmazonContact.D-Ox6Dnf.css',
      'assets/DutyOptions.Bd1Z60K2.css',
      'StockProblemsLineItemList.ycayP-NL.js',
      'assets/StockProblemsLineItemList.CxdIQKjw.css',
      'component-ShopPayVerificationSwitch.BssOwqND.js',
      'index.lnCcFIPd.js',
      'assets/ShopPayVerificationSwitch.DVQdwG9J.css',
      'ShopPayCaptcha.CoLvlF5Y.js',
      'ShopPay.jV2pVOzE.js',
      'actions.H2x1ya0r.js',
      'graphql-utilities.CmHK4Ej2.js',
      'constants.Bw8mBUAo.js',
      'assets/ShopPay.D8Af90Qm.css',
      'VaultedContact.2FCbcqTm.js',
      'VaultedShippingMethods.B2VsrFcy.js',
    ])
) => i.map((i) => d[i]);
import {
  bH as De,
  bI as we,
  _ as Re,
  e as D,
  dO as F,
  a as e,
  c5 as ht,
  cg as mt,
  aa as Z,
  eh as ir,
  a7 as W,
  E as Se,
  ab as O,
  mh as wn,
  mi as Rn,
  eW as Ln,
  eQ as qe,
  gP as rr,
  gN as or,
  kt as dr,
  A as Ne,
  y as B,
  gW as Tn,
  mj as rt,
  bP as ge,
  at as K,
  az as I,
  S as ke,
  hd as cr,
  dg as lr,
  mk as ur,
  gj as On,
  kL as Vn,
  d as T,
  dS as is,
  c0 as te,
  cx as _e,
  dC as xn,
  T as z,
  kS as re,
  J as ye,
  q as C,
  ml as pr,
  dI as gt,
  ja as Nn,
  h$ as Bn,
  cK as Qe,
  dv as Fn,
  hE as hr,
  hD as mr,
  lg as gr,
  mm as zn,
  dw as xe,
  cG as $n,
  l as yr,
  m as Be,
  dE as Un,
  p as fr,
  hQ as Gn,
  cM as Hn,
  lM as _r,
  aB as J,
  lz as yt,
  a8 as Y,
  aQ as oe,
  h as V,
  c1 as qn,
  mn as Ar,
  bO as ot,
  jD as br,
  a9 as Ae,
  cp as Yn,
  lp as Wn,
  dp as Is,
  dn as Ds,
  hy as ws,
  bJ as Cr,
  ae as ft,
  hf as cn,
  aO as Le,
  v as _t,
  cI as jn,
  mo as At,
  V as U,
  I as ne,
  a3 as rs,
  a4 as Ge,
  fH as Zn,
  fG as Kn,
  ay as He,
  bN as Qn,
  aW as Je,
  b as bt,
  cc as j,
  mp as Rs,
  b1 as Ct,
  e0 as Jn,
  d_ as os,
  dT as Fe,
  fS as Xn,
  dm as Xe,
  lE as vr,
  lC as Sr,
  c6 as ea,
  c9 as Ls,
  lD as Pr,
  iI as Pe,
  e3 as Er,
  mq as kr,
  mr as vt,
  lZ as ds,
  ms as sa,
  hR as fs,
  dt as ta,
  mt as Mr,
  hS as Ue,
  lL as Ir,
  mu as Dr,
  lK as na,
  jf as aa,
  mv as wr,
  hX as St,
  jy as Pt,
  jw as Ve,
  lB as Rr,
  c as Et,
  lW as Ts,
  lP as kt,
  eJ as es,
  eR as ia,
  lN as cs,
  j0 as Lr,
  bf as ze,
  mw as ra,
  eT as Tr,
  gd as oa,
  mx as Or,
  eZ as Os,
  f6 as da,
  f7 as Vr,
  my as xr,
  kO as Nr,
  iU as st,
  fR as Vs,
  bv as Br,
  iE as Fr,
  bA as zr,
  iV as ls,
  aN as us,
  bc as $r,
  bd as Ur,
  mz as Gr,
  aj as Hr,
  mA as ca,
  fB as la,
  jq as qr,
  bT as ua,
  aG as Ce,
  fT as Mt,
  mB as Yr,
  mC as Wr,
  mD as pa,
  mE as It,
  gG as jr,
  aZ as ha,
  gH as Zr,
  gI as Kr,
  mF as Qr,
  mG as Jr,
  mH as Xr,
  mI as eo,
  dB as ma,
  cZ as so,
  bj as Ss,
  ax as ln,
  mJ as to,
  d4 as Dt,
  bZ as no,
  b_ as ao,
  fO as io,
  iL as wt,
  aY as ro,
  c7 as Rt,
  c8 as ga,
  ca as ya,
  cb as fa,
  iM as be,
  mK as oo,
  mL as co,
  dX as lo,
  ce as ee,
  ci as Ps,
  a_ as uo,
  dN as po,
  fz as _a,
  mM as ho,
  fC as Aa,
  ba as Lt,
  g4 as ba,
  fw as mo,
  mN as go,
  kh as xs,
  fD as yo,
  lk as fo,
  fA as Ns,
  mO as Ca,
  bK as Ee,
  mP as ps,
  mQ as va,
  mR as _o,
  mS as Ao,
  mT as Sa,
  mU as Tt,
  iJ as bo,
  l_ as Co,
  mg as vo,
  u as Cs,
  i6 as Pa,
  ib as Es,
  N as Bs,
  fJ as Ea,
  bt as Ot,
  ef as ka,
  mV as Vt,
  mW as So,
  jJ as Po,
  mX as Eo,
  bl as ko,
  fK as Mo,
  f2 as Io,
  mY as he,
  lV as xt,
  lH as Do,
  bS as wo,
  lq as Ro,
  mZ as Lo,
  g0 as To,
  m_ as Oo,
  fm as Vo,
  a5 as Ma,
  m$ as xo,
  n0 as No,
  n1 as Nt,
  n2 as Bo,
  n3 as Fo,
  n4 as zo,
  g9 as $o,
  n5 as Bt,
  n6 as Uo,
  n7 as Go,
  n8 as Ho,
  fE as qo,
  bi as Ia,
  iQ as Da,
  as as wa,
  n9 as Yo,
  lQ as hs,
  dz as Wo,
  jC as dt,
  jx as Ra,
  na as La,
  al as Ta,
  h9 as jo,
  iN as Zo,
  mc as Ko,
  nb as Qo,
  eX as Jo,
  eY as Xo,
  cL as ed,
  iP as sd,
  iR as td,
  nc as nd,
  nd as ad,
  iS as id,
  ne as rd,
  ea as od,
  nf as dd,
  eU as Oa,
  dx as cd,
  md as ld,
  fM as ud,
  k as pd,
  b0 as hd,
  ng as Va,
  i7 as md,
  hG as gd,
  nh as yd,
  f1 as Oe,
  il as xa,
  em as Na,
  lS as fd,
  dd as _d,
  hM as Ad,
  ni as bd,
  fL as Cd,
  ch as vd,
  nj as Sd,
  a6 as Pd,
  n as Ed,
  Z as kd,
  f4 as Md,
  bk as Id,
  X as Dd,
  o as wd,
  cq as Rd,
  nk as Ld,
  nl as Td,
  nm as Od,
  fQ as Vd,
  ki as xd,
  bs as Nd,
  an as Bd,
  cs as Fd,
  kE as zd,
  eg as $d,
  a1 as $e,
  a0 as _s,
  aI as Ud,
  f5 as Gd,
  jB as Hd,
  kg as qd,
} from './app.js';
import {
  e as Yd,
  f as un,
  d as pn,
  C as Ba,
  P as Fa,
  D as Wd,
  g as jd,
  S as Zd,
  L as Kd,
  a as za,
  h as Qd,
  u as Jd,
  E as Xd,
  c as ec,
  b as sc,
} from './DeliveryMethodSelectorSection.45hAcTBm.js';
import { b as ss, P as tc, M as nc } from './MarketsProDisclaimer.BPp3T8HM.js';
import {
  W as $a,
  D as Ua,
  h as Ye,
  g as Fs,
  o as me,
  f as ac,
  A as ic,
  N as ks,
  p as rc,
  G as zs,
  d as Ga,
  q as oc,
  r as dc,
  s as ct,
  t as cc,
  v as lc,
  P as uc,
  U as pc,
  H as hc,
  b as Ft,
  T as mc,
  i as gc,
  w as Ha,
  x as qa,
  y as Ya,
  S as yc,
  c as fc,
  z as _c,
  u as Wa,
  V as ja,
  E as hn,
  F as Ac,
  e as Za,
  a as bc,
  L as Cc,
} from './VaultedPayment.RlVwirhz.js';
import {
  S as as,
  b as vc,
  M as vs,
  a as Sc,
  c as tt,
} from './Section.DVUmF4Ga.js';
import { u as zt, C as Pc } from './index.DcTYqCBo.js';
import { R as ie } from './Rollup.D_DVU1MA.js';
import { u as Ec, a as kc } from './useGooglePaySdk.C0yKvhOd.js';
import {
  O as ts,
  b as Ka,
  c as Mc,
  a as Qa,
  d as Ic,
} from './useIsOriginatedFromShop.D_p8RxRO.js';
import './ShopPayLoginLoader.DijpPVOl.js';
import {
  O as Dc,
  a as We,
  d as Ja,
  e as wc,
  R as Rc,
  P as Lc,
} from './PayButtonSection.BNPV9A-l.js';
import { U as Ie } from './useUnauthenticatedErrorModal.Dgap6hbC.js';
import {
  b as $s,
  c as Tc,
  u as Oc,
  f as Xa,
  e as mn,
  I as Vc,
  g as xc,
  h as Nc,
} from './context.CKWj44aH.js';
import './publishMessage.C2H334tF.js';
import { D as ei, u as si, S as Bc } from './DutyOptions.DU8ympzE.js';
import { I as $t, u as ti } from './useShowShopPayOptin.CsUau2lX.js';
import { S as Fc } from './StockProblemsLineItemList.ycayP-NL.js';
import { D as zc } from './useAmazonContact.HL8qh-Fn.js';
import $c from './component-ShopPayVerificationSwitch.BssOwqND.js';
const Uc = De({
  load: () =>
    we(() =>
      Re(
        () => import('./component-ShopPayWrapper.DITHrWhM.js'),
        __vite__mapDeps([
          0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,
          20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36,
          37, 38, 39, 40, 41, 42,
        ])
      )
    ),
});
function je() {
  const s = D(),
    t = F({
      shopPay: s(
        'marketing.accept_shop_pay_marketing_checkbox_label',
        'Sign me up for news and offers from this store'
      ),
      buyWithPrime: s(
        'marketing.accept_shop_pay_marketing_checkbox_label',
        'Sign me up for news and offers from this store'
      ),
      default: s(
        'marketing.accept_marketing_checkbox_label',
        'Email me with news and offers'
      ),
    });
  return e(Yd, { isShopPay: !0, label: t });
}
const Us = () => {
  const s = ht();
  return mt('review.review_notice_html', s)
    ? e(O, {
        children: [
          e(Z, { appearance: 'subdued', size: 'small', children: e(ir, {}) }),
          e(W, {
            spacing: Se.default('small300').when(
              { viewportInlineSize: { min: 'medium' } },
              'large200'
            ),
          }),
        ],
      })
    : null;
};
function le() {
  return null;
}
function wm(s) {
  return s;
}
function Gc() {
  return wn({ shouldResetCustomerInfo: !0 });
}
function Hc({ shouldResetCustomerInfo: s }) {
  return Rn({ shouldResetCustomerInfo: s });
}
function qc() {
  const s = Ln(),
    { value: t } = qe(),
    [n, a] = rr(),
    i = Hc({ shouldResetCustomerInfo: !1 }),
    [r, o] = or(),
    [, c] = dr(),
    d = zt(
      s?.status === 'failed' && s.failure.type === 'payment'
        ? s.failure
        : void 0
    ),
    l = Ne(i);
  return (
    (l.current = i),
    B(() => {
      const p = () => {
        l.current(), a({ ...n, receiptIdForPaymentFailure: s?.id });
      };
      !Tn(t, 'GOOGLE_PAY') && r?.type !== rt && (o({ type: rt }), p()),
        s?.id !== n?.receiptIdForPaymentFailure &&
          s?.status === 'failed' &&
          s?.failure.type === 'payment' &&
          (a({ ...n, receiptIdForPaymentFailure: s?.id }), c(d));
    }, [s, o, t, n, a, r?.type, c, d]),
    null
  );
}
function Yc() {
  const { label: s, to: t, onPress: n } = Gc();
  return e(ge, { to: t, onPress: n, children: s });
}
function Ut({ emailAddress: s, logo: t }) {
  const n = D(),
    i = K().email.value,
    r = s ?? i,
    o = r || e(ke, {});
  return e(ie, {
    id: 'contact',
    label: n('customer_account.rollup_label', 'Account'),
    summary: o,
    logo: t,
    children: e(I, { spacing: 'small200', children: o }),
  });
}
function Wc() {
  return e(Ut, { logo: e($a, { wallet: 'googlePay', size: 'small' }) });
}
const jc = lr('GooglePayChangePaymentLinkButton');
function Zc() {
  const s = cr(void 0, jc),
    t = D(),
    n = Ec(!1);
  return (
    kc(),
    e(ge, { onPress: n, id: s, children: t('vaulted.change_button', 'Change') })
  );
}
const Kc = {
    source: 'googlePay',
    features: {
      MarketingDisclosure: je,
      ReviewNotice: Us,
      PaymentErrorHandler: qc,
      CheckoutAsGuest: Yc,
      VaultedContact: Wc,
      PaymentAction: Zc,
    },
  },
  ni = ur('ShopCashContext'),
  Rm = ni.Provider,
  ms = () => On(ni);
var ai = ((s) => ((s.Vaulted = 'vaulted'), (s.Root = 'root'), s))(ai || {});
const Lm = Vn({
    draft: void 0,
    preferredOptionType: void 0,
    selectedOptionType: 'NONE',
    rollupOpen: !1,
    toggleStatus: { state: 'init' },
  }),
  Tm = () => T(ms().redemption.draft),
  Om = () => T(ms().redemption.preferredOptionType),
  Vm = () => T(ms().redemption.selectedOptionType),
  xm = () => T(ms().redemption.rollupOpen),
  Nm = () => T(ms().redemption.toggleStatus);
function Qc(s) {
  const { geolocation: t } = is(),
    n = te(_e.phoneNumber),
    a = te(_e.addresses),
    i = xn(),
    r = a[0]?.address,
    o = i.defaultShippingDetails.country?.code ?? t.country.code;
  return z(() => {
    if (s) return re(s.address);
    const d = {
      firstName: r?.firstName,
      lastName: r?.lastName,
      phone: n,
      countryCode: r?.countryCode || o,
      zoneCode: r?.zoneCode,
    };
    return re(d);
  }, [s, r, o, n]);
}
function ii() {
  const s = K(),
    { negotiate: t } = ye(),
    [n, a] = T(s.shippingAddress),
    [i, r] = T(s.billingAddress),
    o = xn(),
    c = (m) => o.isRequiredByMerchant('phone', m),
    [, d] = T(_e.checkoutErrors),
    [l] = T(_e.userStoredPaymentMethods);
  return {
    updateCheckoutAddress: C(
      async (
        { shippingAddress: m, billingAddress: u, fallbackPhoneNumber: g },
        h = !1
      ) => {
        if (!m && !u) return;
        const f = [];
        if (m) {
          f.push('shippingAddress');
          const k = c(m.countryCode) && !m.phone ? g : m.phone;
          a({ ...m, phone: k });
        }
        if (u) {
          f.push('billingAddress');
          const k = c(n.countryCode) && !u.phone ? g : u.phone;
          r({ ...u, phone: k });
        }
        const y = Jc(m ?? n, u ?? i);
        if (
          (l.length &&
            (y
              ? (s.billingAddressOption.value = 'shipping')
              : (s.billingAddressOption.value = 'custom')),
          h)
        )
          return;
        const P = (k) => {
          const { delivery: E, payments: _ } = pr(k, f);
          (E || _) &&
            d((b) => ({
              delivery: E ?? b.delivery,
              payments: _ ?? b.payments,
            }));
        };
        await t({
          include: f,
          silenceViolations: ['non-stock'],
          fieldsToResolve: f,
          onComplete: (k) => {
            P(k);
          },
        });
      },
      [t, c, r, a]
    ),
  };
}
function Jc(s, t) {
  return Object.keys(t).every((a) => {
    const i = t[a] ?? '',
      r = s[a] ?? '';
    return i === r;
  });
}
const Xc = {
  id: 'd114c900ef5fd1cf288a2a23c9b9139a687b61bf75687cec1bf999232f249385',
  type: 'mutation',
  name: 'AddressUpdate',
  source:
    'mutation AddressUpdate($address:AddressInput!,$id:ID!,$origin:String!,$preferred:Boolean){addressUpdate(address:$address id:$id origin:$origin preferred:$preferred){userErrors{field message __typename}userAddress{...ShippingAddressFragment __typename}__typename}}fragment ShippingAddressFragment on Address{fields{key value __typename}id lastUsedAt requiresVerification valid userPreferred explicitlyPreferred __typename}',
};
function el() {
  const s = gt(),
    t = $s();
  return C(
    async (n, a, i = t, r = !1) => {
      const { data: o, error: c } = await s.mutate(Xc, {
        variables: { id: a, address: Nn(n), origin: i, preferred: r },
      });
      if (c || o == null || o.addressUpdate == null)
        return { status: 'failed' };
      const { addressUpdate: d } = o;
      return d.userErrors.length > 0
        ? { status: 'failed', errors: d.userErrors }
        : {
            status: 'success',
            address: d.userAddress ? Bn(d.userAddress) : void 0,
          };
    },
    [s, t]
  );
}
const sl = {
  id: '1126f9597eb072b6444e450021f6dacf47a14b8b5cd59d0c32bb0e0b88934467',
  type: 'mutation',
  name: 'AddressDelete',
  source:
    'mutation AddressDelete($id:ID!,$origin:String!){addressDelete(id:$id,origin:$origin){userErrors{field message __typename}__typename}}',
};
function tl() {
  const s = gt(),
    t = $s();
  return C(
    async (n, a = t) => {
      const { data: i, error: r } = await s.mutate(sl, {
        variables: { id: n, origin: a },
      });
      if (r || i == null || i.addressDelete == null)
        return { status: 'failed' };
      const { addressDelete: o } = i;
      return o.userErrors.length > 0
        ? { status: 'failed', errors: o.userErrors }
        : { status: 'success' };
    },
    [s, t]
  );
}
const nl = {
  id: 'fcb2c6342d82afc8b04e05813a7840af2bfc4c1f93683abc40af07f73b08dfd3',
  type: 'mutation',
  name: 'AddressCreate',
  source:
    'mutation AddressCreate($address:AddressInput!,$checkoutContext:CheckoutContextInput,$origin:String!,$preferred:Boolean){addressCreate(address:$address origin:$origin checkoutContext:$checkoutContext preferred:$preferred){userErrors{message field __typename}userAddress{...ShippingAddressFragment __typename}__typename}}fragment ShippingAddressFragment on Address{fields{key value __typename}id lastUsedAt requiresVerification valid userPreferred explicitlyPreferred __typename}',
};
function al() {
  const s = gt(),
    t = $s();
  return C(
    async (n, a, i = t, r = !1) => {
      const { data: o, error: c } = await s.mutate(nl, {
        variables: {
          address: Nn(n),
          origin: i,
          checkoutContext: a,
          preferred: r,
        },
      });
      if (c || o == null || o.addressCreate == null)
        return { status: 'failed' };
      const { addressCreate: d } = o;
      return d.userErrors.length > 0
        ? { status: 'failed', errors: d.userErrors }
        : {
            status: 'success',
            address: d.userAddress ? Bn(d.userAddress) : void 0,
          };
    },
    [t, s]
  );
}
class gn extends Error {
  name = 'CannotUpdateAddressError';
}
function ri(s = 'shipping_address') {
  const { recordImmediately: t } = Qe(),
    n = al(),
    a = el(),
    i = tl(),
    [r, o] = Fn(),
    [c, d] = hr(),
    [l, p] = mr(),
    [m, u] = gr(),
    [g, h] = zn(),
    { shippingRequired: f } = xe(),
    y = Tc(),
    [P] = $n(),
    { updateCheckoutAddress: k } = ii(),
    E = te(Qc()),
    { checkoutSessionIdentifier: _ } = yr(),
    { id: b } = Be(),
    S = Un(),
    [v, w] = T(_e.explicitlyPreferredShippingAddressId),
    R = Oc() === 'IDEAL',
    x = $s(),
    M = C(
      async (q, N) => {
        if (r.length === 0)
          throw new gn('There are no shipping addresses to update!');
        const $ = await a(q, N, x, !0);
        if ($.status === 'success' && $.address) {
          const H = r.map((Q) =>
            Q.id === N ? $.address : { ...Q, userPreferred: !1 }
          );
          o(H), w(N);
        }
        return $;
      },
      [r, x, a, o, w]
    ),
    G = C(
      async (q, N, $ = !1, H = !1, Q = !1) => {
        const ue = { checkoutIdentifier: _, shopId: fr(b) },
          L = await n(q, H ? ue : void 0, Q ? 'merchant_defined' : x);
        if (L.status === 'success' && L.address) {
          let X = !1;
          o([...r, L.address]);
          const pe = {};
          ((f && !c) || N === 'shipping_address') &&
            (d(L.address), (pe.shippingAddress = L.address.address)),
            S &&
              R &&
              (h(L.address), (pe.billingAddress = L.address.address), (X = f)),
            (!l || (N === 'billing_address' && y)) &&
              (p(L.address), y && (pe.billingAddress = L.address.address)),
            (!m || (N === 'billing_address' && !y)) && u(L.address),
            $ || (await k({ ...pe, fallbackPhoneNumber: P }, X));
        }
        return L;
      },
      [_, x, b, n, o, r, f, c, S, R, l, y, m, d, h, p, u, k, P]
    ),
    se = C(
      async (q, N) => {
        if (r.length === 0)
          throw new gn('There are no shipping addresses to update!');
        const $ = await a(q, N, x);
        if ($.status === 'success' && $.address) {
          const H = r.findIndex((X) => X.id === N),
            Q = [...r];
          (Q[H] = $.address), o(Q);
          let ue = !1;
          const L = {};
          c?.id === $.address.id &&
            (d($.address), (L.shippingAddress = $.address.address)),
            g?.id === $.address.id &&
              (h($.address),
              S && R && ((L.billingAddress = $.address.address), (ue = f))),
            l?.id === $.address.id &&
              (p($.address), y && (L.billingAddress = $.address.address)),
            m?.id === N && u($.address),
            await k({ ...L, fallbackPhoneNumber: P }, ue);
        }
        return $;
      },
      [r, a, x, o, c?.id, g?.id, l?.id, m?.id, k, P, d, h, S, R, f, p, y, u]
    ),
    de = C(
      async (q) => {
        if ((await i(q)).status === 'success') {
          const $ = r.find((X) => X.id === q),
            H = r.filter((X) => X.id !== q),
            Q = Gn(H);
          let ue = !1;
          if ($?.userPreferred && Q) {
            t({
              schemaId: Hn.PayPaymentPageUiInteraction,
              payload: { action: 'set_default_address_auto' },
            });
            const X = H.findIndex((pe) => pe.id === Q.id);
            w(Q.id),
              (H[X] = {
                ...H[X],
                address: { ...H[X].address },
                userPreferred: !0,
              });
          }
          o(H);
          const L = {};
          c?.id === q &&
            (d(Q ?? void 0), (L.shippingAddress = Q?.address ?? E)),
            g?.id === q &&
              (h(Q ?? void 0),
              S && R && ((L.billingAddress = Q?.address ?? E), (ue = f))),
            l?.id === q &&
              (p(Q ?? void 0), y && (L.billingAddress = Q?.address ?? E)),
            m?.id === q && u(Q ?? void 0),
            await k({ ...L, fallbackPhoneNumber: P }, ue);
        }
      },
      [
        i,
        r,
        o,
        c?.id,
        g?.id,
        l?.id,
        m?.id,
        k,
        P,
        t,
        w,
        d,
        E,
        h,
        S,
        R,
        f,
        p,
        y,
        u,
      ]
    ),
    ae = C(
      async (q, N) => {
        const $ = { negotiateType: 'async' };
        let H = !1;
        N === 'shipping_address'
          ? (d(q), ($.shippingAddress = q.address))
          : y
          ? (p(q), ($.billingAddress = q.address))
          : S && R
          ? (h(q), ($.billingAddress = q.address), (H = f))
          : u(q),
          await k({ ...$, fallbackPhoneNumber: P }, H);
      },
      [y, R, k, P, d, p, u, h, S, f]
    ),
    ce = z(
      () => (s === 'shipping_address' ? c : S && R ? g : y ? l : m),
      [s, y, l, m, c, R, g, S]
    ),
    fe = C((q) => q === v, [v]);
  return {
    selectedAddress: ce,
    setSelectedAddress: ae,
    saveAddress: G,
    updateAddress: se,
    deleteAddress: de,
    setDefaultAddress: M,
    isAddressPreferred: fe,
  };
}
const il = 'bAwqP',
  rl = { Content: il };
function ol({ explicitlyPreferred: s, onSetDefault: t }) {
  const n = D(),
    a = s,
    i = !a && t;
  return e(O, {
    children: [
      a &&
        e(O, {
          children: [
            e(W, { spacing: 'small400' }),
            e(_r, { children: n('shop_pay.checkout.default', 'Default') }),
          ],
        }),
      i &&
        e(J, {
          inlineSize: 'fill',
          kind: 'plain',
          onPress: t,
          accessibilityLabel: n('shipping.address_default', 'Set as default'),
          inlineAlignment: 'start',
          textDecoration: 'none',
          children: n('shipping.address_default', 'Set as default'),
        }),
    ],
  });
}
function dl({ address: s }) {
  const t = D(),
    { saveAddress: n } = ri(),
    a = C(async () => {
      await n(s, 'shipping_address', void 0, void 0, !0);
    }, [s, n]);
  return e(J, {
    inlineSize: 'fill',
    kind: 'plain',
    onPress: a,
    accessibilityLabel: t('shipping.address_default', 'Set as default'),
    inlineAlignment: 'start',
    textDecoration: 'none',
    children: t('shop_pay.save_this_address', 'Save this address'),
  });
}
function Gt({
  address: s,
  actions: t,
  nameLinePosition: n,
  addressPrimary: a,
  explicitlyPreferred: i,
  onSetDefault: r,
  isEphemeralAddress: o,
  isSelected: c,
}) {
  const {
      nameLine: d,
      primary: l,
      secondary: p,
    } = yt({ address: s, nameLinePosition: n, addressPrimary: a }),
    m = o && c && s.vaultable;
  return e(oe, {
    columns: ['fill', 'auto'],
    spacing: 'base',
    blockAlignment: 'start',
    children: [
      e(I, {
        inlineAlignment: 'start',
        spacing: 'none',
        children: e('div', {
          className: rl.Content,
          children: [
            n === 'block' && e(Y, { children: d }),
            e(Y, { children: l }),
            e(Y, { appearance: 'subdued', children: p }),
            !o &&
              e(ol, { explicitlyPreferred: i, onSetDefault: c ? r : void 0 }),
            m && e(dl, { address: s }),
          ],
        }),
      }),
      t,
    ],
  });
}
function oi() {
  const [s, t] = V(!0),
    n = qn(),
    a = z(() => (n?.value || []).filter((i) => Ar.has(i.code)), [n?.value]);
  return (
    B(() => {
      t(a?.length === 0);
    }, [a]),
    { isValid: s, setIsValid: t, isLoading: n.loading }
  );
}
function cl({ state: s, title: t, description: n, onConfirm: a, onCancel: i }) {
  return e(ts, {
    open: s === 'active' || s === 'deleting',
    title: t,
    onClose: i,
    children: e(Ua, { state: s, description: n, onConfirm: a, onCancel: i }),
  });
}
function ll({ label: s, onDelete: t, onEdit: n, id: a, position: i }) {
  const r = ot({ base: !0, medium: !1 });
  return !n && !t
    ? null
    : e(J, {
        kind: 'plain',
        accessibilityLabel: s,
        overlay: e(br, {
          connector: r ? 'none' : 'arrow',
          id: a,
          position: i,
          children: e(I, {
            spacing: 'small200',
            padding: ['small100', 'base'],
            inlineAlignment: 'center',
            children: [
              n &&
                e(J, {
                  inlineSize: 'fill',
                  kind: 'plain',
                  onPress: n.callback,
                  accessibilityLabel: n.label,
                  inlineAlignment: 'start',
                  textDecoration: 'none',
                  children: n.title,
                }),
              t &&
                e(J, {
                  inlineSize: 'fill',
                  kind: 'plain',
                  onPress: t.callback,
                  accessibilityLabel: t.label,
                  appearance: 'critical',
                  inlineAlignment: 'start',
                  textDecoration: 'none',
                  children: t.title,
                }),
            ],
          }),
        }),
        children: e(Ae, {
          source: 'verticalDots',
          size: 'base',
          appearance: 'monochrome',
        }),
      });
}
const di = 'addressSelector--';
function ns({
  id: s = '',
  selectedId: t = '',
  addressType: n = 'shipping',
  isExternalVault: a = !1,
  onChange: i,
  onEdit: r,
  onDelete: o,
  onSetDefault: c,
  choices: d,
  disabledChoices: l,
  ephemeralAddressChoices: p,
  addressPrimary: m,
  isPreferredAddress: u,
  openAddressDeleteModal: g,
}) {
  const h = D(),
    [f, y] = V('idle'),
    P = Yn(),
    k = z(() => (p ? Array.from(p.entries()) : []), [p]),
    E = z(() => Array.from(d.entries()), [d]),
    _ = z(() => (l ? Array.from(l.entries()) : []), [l]),
    b = n === 'shipping',
    { isLoading: S } = oi(),
    [v, w] = V(!1),
    A = Wn(n),
    R = (L) => (r || o) && L === t,
    x = (L) => R(L) && !a,
    M = (L) => R(L) && a,
    [G, se] = V(A),
    de = r
      ? {
          label: h(
            b ? 'shipping.address_edit' : 'billing.address_edit',
            'Edit address'
          ),
          callback: r,
          title: h(b ? 'shipping.edit' : 'billing.edit', 'Edit'),
        }
      : void 0,
    ae = o
      ? {
          label: h(
            b ? 'shipping.address_delete' : 'billing.address_delete',
            'Delete address'
          ),
          callback: () => (se(A), g ? g() : y('active')),
          title: h(b ? 'shipping.delete' : 'billing.delete', 'Delete'),
        }
      : void 0,
    ce = yn(t, s),
    fe = C(
      ([L]) => {
        w(!0);
        const X = ul(L, s);
        i(X);
      },
      [i, s]
    );
  B(() => {
    S || w(!1);
  }, [S]);
  const q = E.length + _.length + k.length === 1,
    N = (L, X, pe = !1, ve = !1) =>
      e(
        oe,
        {
          columns: ['fill', 'auto'],
          blockAlignment: 'start',
          children: e(
            Ds,
            {
              id: yn(L, s),
              disabled: pe,
              children: [
                e(oe, {
                  blockAlignment: 'center',
                  columns: ['fill', 'auto'],
                  children: [
                    e(I, {
                      spacing: 'small400',
                      children: [
                        e(Gt, {
                          nameLinePosition: 'inline',
                          address: X,
                          addressPrimary: m && m(L),
                          explicitlyPreferred: u && u(L),
                          isEphemeralAddress: ve,
                          onSetDefault: c,
                          isSelected: t === L,
                        }),
                        M(L) &&
                          e(J, {
                            kind: 'plain',
                            inlineAlignment: 'start',
                            onPress: r,
                            children: e(Z, { children: de?.title }),
                          }),
                      ],
                    }),
                    a && t === L && e(ws, { size: 'small', active: S && v }),
                  ],
                }),
                x(L) &&
                  !ve &&
                  e(ll, {
                    label: h(
                      b ? 'shipping.address_more' : 'billing.address_more',
                      'More actions for this address'
                    ),
                    onEdit: de,
                    onDelete: ae,
                  }),
              ],
            },
            L
          ),
        },
        L
      ),
    $ = E.map(([L, X]) => N(L, X)),
    H = _.length ? _.map(([L, X]) => N(L, X, !0)) : null,
    Q = $.length + (H?.length || 0) > 0,
    ue = k?.length
      ? e(O, {
          children: [
            k.map(([L, X]) => N(L, X, !1, !0)),
            Q &&
              e(O, {
                children: [
                  e(W, { spacing: 'base' }),
                  e(Z, {
                    appearance: 'subdued',
                    children: h('shop_pay.saved_addresses', 'Saved addresses'),
                  }),
                  e(W, { spacing: 'base' }),
                ],
              }),
          ],
        })
      : null;
  return e(O, {
    children: [
      e(Is, {
        id: `${n}Address`,
        selectedItems: [ce],
        onChange: fe,
        hideRadioButton: q,
        children: [ue, $, H],
      }),
      o &&
        e(cl, {
          state: f,
          title: h(
            b ? 'shipping.address_delete' : 'billing.address_delete',
            'Delete address'
          ),
          description: h(
            'address_management.confirm_address_deletion',
            { address: G },
            'Are you sure you want to delete the address {{address}}?'
          ),
          onConfirm: async () => {
            y('deleting'), await o(), P.current && y('idle');
          },
          onCancel: () => y('idle'),
        }),
    ],
  });
}
function yn(s, t = '') {
  return `${t}${di}${s}`;
}
function ul(s, t = '') {
  return s.replace(`${t}${di}`, '');
}
const pl = 'sYMP2',
  hl = 'aPplN',
  ml = 'N5SeL',
  gl = 'fdTMm',
  yl = 'ekZTm',
  fl = 'UmHzB',
  _l = 'JPhUL',
  Al = '_7k6aq',
  bl = 'CmqN5',
  Cl = 'Evr2B',
  Ze = {
    Button: pl,
    disabled: hl,
    borderRadiusBase: ml,
    displayInlineBlock: gl,
    paddingInlineSmall400: yl,
    paddingInlineSmall300: fl,
    paddingInlineBase: _l,
    paddingBlockSmall400: Al,
    paddingBlockSmall300: bl,
    paddingBlockBase: Cl,
  },
  vl = Cr(function (
    {
      children: t,
      displayInlineBlock: n = !1,
      borderRadiusBase: a = !1,
      paddingInline: i = 'small300',
      paddingBlock: r = 'small300',
      ...o
    },
    c
  ) {
    return e('div', {
      className: ft(
        Ze.Button,
        a && Ze.borderRadiusBase,
        n && Ze.displayInlineBlock,
        o.disabled && Ze.disabled,
        Ze[cn('paddingInline', i)],
        Ze[cn('paddingBlock', r)]
      ),
      children: e(J, { kind: 'plain', ref: c, ...o, children: t }),
    });
  }),
  Sl = ['firstName', 'lastName'],
  Pl = ['address1', 'address2', 'city', 'company'],
  El = ['countryCode'],
  kl = ['zoneCode'],
  Ml = ['phone'],
  Il = ['postalCode'],
  Dl = [
    'blank',
    'too_long',
    'contains_emojis',
    'contains_html_tags',
    'contains_url',
    'contains_mathematical_symbols',
  ],
  wl = [
    'blank',
    'too_long',
    'contains_emojis',
    'contains_html_tags',
    'contains_mathematical_symbols',
  ],
  Rl = ['blank', 'invalid', 'not_supported'],
  Ll = ['blank', 'invalid'],
  Tl = ['blank', 'contains_emojis', 'invalid'],
  Ol = [
    'blank',
    'invalid',
    'too_long',
    'not_supported',
    'invalid_for_country',
    'invalid_for_province',
    'invalid_for_country_and_province',
    'contains_emojis',
    'contains_mathematical_symbols',
  ],
  Vl = ['blank', 'invalid'],
  xl = Vn({
    address1: void 0,
    address2: void 0,
    city: void 0,
    company: void 0,
    coordinates: void 0,
    countryCode: void 0,
    firstName: void 0,
    lastName: void 0,
    name: void 0,
    phone: void 0,
    postalCode: void 0,
    zoneCode: void 0,
    streetName: void 0,
    streetNumber: void 0,
    line2: void 0,
    neighborhood: void 0,
  });
function Bm(s) {
  const { recordImmediately: t } = Qe(),
    n = Le(),
    a = D(),
    i = _t(),
    r = s || xl;
  function o(c) {
    if (!c) return;
    const d = Nl(c);
    if (d.size === 0) return;
    for (const [p, m] of d)
      n.write(
        r[p],
        a(
          'field_errors',
          { scope: zl(p, m, i) },
          {
            address_address1_blank: 'Enter an address',
            address_address1_contains_emojis: 'Address1 cannot contain emojis',
            address_address1_contains_html_tags:
              'Address1 cannot contain HTML tags.',
            address_address1_contains_mathematical_symbols:
              'The first address line cannot contain mathematical symbols',
            address_address1_too_long:
              'The first address line is too long (maximum is 255 characters)',
            address_address2_blank: 'Enter an apartment, suite, etc.',
            address_address2_contains_emojis: 'Address2 cannot contain emojis',
            address_address2_contains_html_tags:
              'Address2 cannot contain HTML tags.',
            address_address2_contains_mathematical_symbols:
              'The second address line cannot contain mathematical symbols',
            address_address2_too_long:
              'The second address line is too long (maximum is 255 characters)',
            address_area_blank: 'Enter an area',
            address_barangay_blank: 'Enter a barangay',
            address_barangay_contains_emojis: 'Barangay cannot contain emojis',
            address_barangay_contains_html_tags:
              'Barangay cannot contain HTML tags.',
            address_barangay_contains_mathematical_symbols:
              'Barangay cannot contain mathematical symbols',
            address_barangay_too_long:
              'Barangay is too long (maximum is {{count}} characters)',
            address_block_blank: 'Enter a block',
            address_city_blank: 'Enter a city',
            address_city_contains_emojis: 'City cannot contain emojis',
            address_city_contains_html_tags: 'City cannot contain HTML tags.',
            address_city_contains_mathematical_symbols:
              'City cannot contain mathematical symbols',
            address_city_too_long:
              'City is too long (maximum is 255 characters)',
            address_colony_blank: 'Enter a colony',
            address_colony_contains_emojis: 'Colony cannot contain emojis',
            address_colony_contains_html_tags:
              'Colony cannot contain HTML tags.',
            address_colony_contains_mathematical_symbols:
              'Colony cannot contain mathematical symbols',
            address_colony_too_long:
              'Colony is too long (maximum is {{count}} characters)',
            address_commune_blank: 'Enter a commune',
            address_commune_contains_emojis: 'Commune cannot contain emojis',
            address_commune_contains_html_tags:
              'Commune cannot contain HTML tags.',
            address_commune_contains_mathematical_symbols:
              'Commune cannot contain mathematical symbols',
            address_commune_too_long:
              'Commune is too long (maximum is {{count}} characters)',
            address_company_blank: 'Enter a company name',
            address_company_contains_emojis: 'Company cannot contain emojis',
            address_company_contains_html_tags:
              'Company cannot contain HTML tags.',
            address_company_contains_mathematical_symbols:
              'Company cannot contain mathematical symbols',
            address_company_too_long:
              'Company name is too long (maximum is 255 characters)',
            address_country_blank: 'Select a country/region',
            address_country_invalid: 'Select a country/region from the list',
            address_country_not_supported:
              "We don't ship to this country or region. Enter a new shipping address and try again.",
            address_district_blank: 'Enter a district',
            address_district_contains_emojis: 'District cannot contain emojis',
            address_district_contains_html_tags:
              'District cannot contain HTML tags.',
            address_district_contains_mathematical_symbols:
              'District cannot contain mathematical symbols',
            address_district_too_long:
              'District is too long (maximum is {{count}} characters)',
            address_first_name_blank: 'Enter a first name',
            address_first_name_contains_emojis:
              'First name cannot contain emojis',
            address_first_name_contains_html_tags:
              'First name cannot contain HTML tags.',
            address_first_name_contains_mathematical_symbols:
              'First name cannot contain mathematical symbols',
            address_first_name_contains_url: 'First name cannot contain a URL',
            address_first_name_too_long:
              'First name is too long (maximum is 255 characters)',
            address_generic_blank: 'Required field',
            address_generic_error: 'Field error',
            address_generic_invalid: 'Invalid entry',
            address_last_name_blank: 'Enter a last name',
            address_last_name_contains_emojis:
              'Last name cannot contain emojis',
            address_last_name_contains_html_tags:
              'Last name cannot contain HTML tags.',
            address_last_name_contains_mathematical_symbols:
              'Last name cannot contain mathematical symbols',
            address_last_name_contains_url: 'Last name cannot contain a URL',
            address_last_name_too_long:
              'Last name is too long (maximum is 255 characters)',
            address_neighborhood_blank: 'Enter a neighborhood',
            address_neighborhood_contains_emojis:
              'Neighborhood cannot contain emojis',
            address_neighborhood_contains_html_tags:
              'Neighborhood cannot contain HTML tags.',
            address_neighborhood_contains_mathematical_symbols:
              'Neighborhood cannot contain mathematical symbols',
            address_neighborhood_too_long:
              'Neighborhood is too long (maximum is {{count}} characters)',
            address_phone_blank: 'Enter a valid phone number',
            address_phone_contains_emojis: 'Phone number cannot contain emojis',
            address_phone_invalid: 'Enter a valid phone number',
            address_province_blank: 'Select a state / province',
            address_province_invalid: 'Select a valid state / province',
            address_street_name_blank: 'Enter a street name',
            address_street_name_contains_emojis: 'Street cannot contain emojis',
            address_street_name_contains_html_tags:
              'Street cannot contain HTML tags.',
            address_street_name_contains_mathematical_symbols:
              'Street cannot contain mathematical symbols',
            address_street_name_too_long:
              'Street is too long (maximum is {{count}} characters)',
            address_street_number_blank: 'Enter a building number',
            address_street_number_contains_emojis:
              'Building number cannot contain emojis',
            address_street_number_contains_html_tags:
              'Building number cannot contain HTML tags.',
            address_street_number_contains_mathematical_symbols:
              'Building number cannot contain mathematical symbols',
            address_street_number_too_long:
              'Building number is too long (maximum is {{count}} characters)',
            address_suggestion_did_you_mean_html: 'Did you mean %{html}?',
            address_ward_blank: 'Enter a ward',
            address_ward_contains_emojis: 'Ward cannot contain emojis',
            address_ward_contains_html_tags: 'Ward cannot contain HTML tags.',
            address_ward_contains_mathematical_symbols:
              'Ward cannot contain mathematical symbols',
            address_ward_too_long:
              'Ward is too long (maximum is {{count}} characters)',
            address_zip_blank: 'Enter a ZIP / postal code',
            address_zip_contains_emojis:
              'ZIP / postal code cannot contain emojis',
            address_zip_contains_mathematical_symbols:
              'ZIP / postal code cannot contain mathematical symbols',
            address_zip_invalid: 'Enter a valid ZIP / postal code',
            address_zip_invalid_for_country:
              'Enter a valid ZIP / postal code for %{country}',
            address_zip_invalid_for_country_and_province:
              'Enter a valid ZIP / postal code for %{province}, %{country}',
            address_zip_invalid_for_province:
              'Enter a valid ZIP / postal code for %{province}',
            address_zip_not_supported: "This location isn't supported",
            address_zip_too_long:
              'ZIP / postal code is too long (maximum is 255 characters)',
            credit_card_expiry_invalid: 'Enter a valid expiration date',
            credit_card_month_invalid: 'Enter a valid expiration month',
            credit_card_name_blank:
              'Enter your name exactly as it’s written on your card',
            credit_card_name_invalid:
              'Enter your name exactly as it’s written on your card',
            credit_card_number_blank: 'Enter a card number',
            credit_card_number_invalid: 'Enter a valid card number',
            credit_card_start_invalid: 'Enter a valid card start date',
            credit_card_start_month_invalid: 'Enter a valid card start month',
            credit_card_start_year_invalid: 'Enter a valid card start year',
            credit_card_verification_value_blank:
              'Enter the CVV or security code on your card',
            credit_card_year_invalid: 'Enter a valid expiration year',
            delivery_line_detail_changed:
              'Some delivery details may have changed. Verify your shipping method and try again.',
            delivery_zone_not_found:
              'The specified zone was not found in the specified country.',
            email_blank: 'Enter an email',
            email_invalid: 'Enter a valid email',
            email_or_phone_blank: 'Enter an email or phone number',
            email_or_phone_invalid:
              'Enter a valid email or a mobile phone number',
            gift_card_already_applied:
              'This gift card has already been applied to your order',
            gift_card_buying_gift_card:
              "You can't use a gift card to buy another gift card",
            gift_card_currency_mismatch:
              'Only gift cards in %{checkout_currency} can be used with this order',
            gift_card_depleted: 'This gift card has no funds left',
            gift_card_disabled: 'This gift card is no longer available',
            gift_card_expired: 'This gift card has expired',
            gift_card_invalid:
              'Gift card "••••%{last_four_characters}" is no longer valid',
            gift_cards_not_supported_with_deferred_purchase_options:
              'Gift cards are not supported with deferred purchase options.',
            handle_email_invalid: 'Enter a valid email',
            handle_phone_invalid: 'Enter a valid phone number',
            payment_gateway_incompatible_with_multi_currency:
              'To complete this checkout in your local currency, you need to pay by credit card.',
            payment_gateway_missing: 'Choose a payment method.',
            payment_gateway_needs_paid_plan_error:
              'This payment method isn’t available on the store right now',
            payment_gateway_not_in_test_mode:
              "isn't setup to test orders. This store can't accept real orders or real payments.",
            payment_gateway_unsupported_for_country:
              "This payment method isn't available for your shipping country.",
            payment_gateway_unsupported_for_deferred_purchase_options:
              "This payment method isn't available for deferred purchase options.",
            payment_gateway_unsupported_for_development_store_html:
              'To place a test order, you’ll need to use a test payment gateway. Learn more about <a href="%{docs_link}">testing orders in development stores</a>.',
            payment_gateway_unsupported_for_order_above_maximum_orders_html:
              'You’ve reached the limit for development store orders with this payment processor. To place another order, you’ll need to use a test payment gateway. Learn more about <a href="%{docs_link}">testing orders in development stores</a>.',
            payment_gateway_unsupported_for_subscriptions:
              "This payment method isn't available for subscription orders.",
            phone_blank: 'Enter a phone number',
            physical_gift_card_duplicate_code:
              'Physical gift card line item contains duplicate code.',
            physical_gift_card_invalid_code:
              'Physical gift card code is invalid.',
            physical_gift_card_invalid_quantity:
              'Physical gift card line items must have a quantity that matches the number of gift card codes.',
            purchase_options_agreement_blank:
              'To continue with your purchase, agree to the deferred or recurring purchase terms.',
            reduction_code_code_not_found:
              'Enter a valid discount code or gift card',
            reduction_code_discount_not_found: 'Enter a valid discount code',
            reduction_code_gift_card_code_invalid: 'Enter a valid gift card',
            reduction_code_gift_card_unusable:
              'You can’t use a gift card to buy another gift card',
            reduction_code_gift_cards_not_supported_with_deferred_purchase_options:
              'Gift cards are not supported with deferred purchase options.',
            shipping_line_phone_blank:
              'Enter a phone number to use this delivery method',
            shipping_line_phone_invalid: 'Enter a valid phone number',
            sms_marketing_phone_invalid: 'Enter a valid phone number',
            split_cart_international_shipping_not_supported:
              'All items must use the same delivery method when shipping internationally. Update the delivery method or create multiple orders.',
            thank_you_remember_me_phone_invalid: 'Enter a valid phone number',
            tips_invalid_tip_amount: 'Enter a tip less than %{amount}',
            vaulting_agreement_blank:
              'Your card must be saved because payment for the balance of this order is due later.',
          }
        )
      );
    const l = Bl(c);
    t({
      schemaId: 'shopify_pay_payment_page_address_sheet_error/1.1',
      payload: { errors: l },
    });
  }
  return [r, o];
}
function Nl(s) {
  const t = new Map();
  for (const n of s)
    n.field.length > 1 &&
      (n.field[0] === 'address' || n.field[0] === 'billingAddress') &&
      t.set(Fl(n.field[1]), n.message);
  return t;
}
function Bl(s) {
  const t = [];
  return (
    s.forEach((n) => {
      n.field.forEach((a) => {
        t.push({ [a]: n.message });
      });
    }),
    JSON.stringify(t)
  );
}
function Fl(s) {
  switch (s) {
    case 'firstName':
    case 'first_name':
      return 'firstName';
    case 'lastName':
    case 'last_name':
      return 'lastName';
    case 'company':
    case 'address1':
    case 'address2':
    case 'city':
    case 'zoneCode':
    case 'phone':
      return s;
    case 'postalCode':
    case 'zip':
      return 'postalCode';
    case 'countryCode':
    case 'country':
      return 'countryCode';
    default:
      throw new jn(`Failed to normalize Shop Pay address field: ${s}`);
  }
}
function zl(s, t, n) {
  const a = $l(s, t);
  return (
    a ||
    (n.notify(
      new jn(
        `Failed to find translation key for fieldKey ${s} and errorCode ${t}. Falling back to generic address error`
      ),
      { severity: 'info' }
    ),
    Vl.includes(t) ? `address_generic_${t}` : 'address_generic_error')
  );
}
function $l(s, t) {
  if (Sl.includes(s)) return Dl.includes(t) ? `address_${Ul(s)}_${t}` : void 0;
  if (Pl.includes(s)) return wl.includes(t) ? `address_${s}_${t}` : void 0;
  if (El.includes(s)) return Rl.includes(t) ? `address_country_${t}` : void 0;
  if (kl.includes(s)) return Ll.includes(t) ? `address_province_${t}` : void 0;
  if (Ml.includes(s)) return Tl.includes(t) ? `address_phone_${t}` : void 0;
  if (Il.includes(s)) return Ol.includes(t) ? `address_zip_${t}` : void 0;
}
function Ul(s) {
  return s.replace(/[A-Z]/g, (t) => `_${t.toLowerCase()}`);
}
function Gs({
  addressType: s = 'shipping',
  disabledReason: t,
  onSave: n,
  onAddAction: a,
  showSavedAddressSelector: i = !0,
  addressErrorsAtom: r,
  showNewAddressButton: o = !0,
  combineViolationAndValidationErrors: c,
}) {
  const d = D(),
    [l, p] = T(Ye.addressModalState),
    m = te(At),
    u = s === 'shipping',
    g = () => {
      p({ status: 'idle', address: l.address });
    },
    h = () => {
      a();
    },
    f = l.status === 'editing',
    y = d(
      u
        ? 'shipping.address_form.add_address'
        : 'billing.address_form.add_address',
      'Add address'
    ),
    P = d(u ? 'shipping.address_edit' : 'billing.address_edit', 'Edit address'),
    k = d(
      u ? 'shipping.address_form.save' : 'billing.address_form.save',
      'Save'
    ),
    E = d(
      u ? 'shipping.address_form.cancel' : 'billing.address_form.cancel',
      'Cancel'
    ),
    _ = d(
      u ? 'shipping.add_address' : 'billing.add_address',
      'Use a different address'
    ),
    b = f ? P : y,
    S = F({
      businessCustomer:
        s === 'shipping'
          ? d('shipping.add_address', 'Use a different address')
          : b,
      default: b,
    }),
    v = F({
      businessCustomer:
        s === 'shipping'
          ? d(
              'shipping.address_form.one_time_address_subtitle',
              'Use a one-time address for this order'
            )
          : '',
      default: '',
    }),
    w = !!t,
    A = c === void 0 ? f : c;
  return e(O, {
    children: [
      o &&
        e(U, {
          children: [
            e(J, {
              kind: 'plain',
              disabled: w,
              textDecoration: 'none',
              onPress: h,
              children: e(ne, {
                spacing: 'small100',
                blockAlignment: 'center',
                children: [
                  e(Ae, {
                    source: 'plus',
                    size: 'base',
                    appearance: 'monochrome',
                  }),
                  e(Z, { children: _ }),
                ],
              }),
            }),
            w &&
              e('div', {
                style: {
                  paddingLeft:
                    'calc(var(--x-spacing-large-100) + var(--x-spacing-small-200) + 1px)',
                },
                children: e(Y, {
                  size: 'small',
                  appearance: 'subdued',
                  children: t,
                }),
              }),
          ],
        }),
      e(ts, {
        open: l.status === 'editing' || l.status === 'adding',
        title: S,
        onClose: g,
        children: [
          v &&
            e(O, {
              children: [
                e(I, {
                  children: e(Y, { appearance: 'subdued', children: v }),
                }),
                e(W, {}),
              ],
            }),
          e(I, {
            children: [
              m &&
                e(rs, {
                  status: 'critical',
                  errorType:
                    s === 'shipping' ? Ge.DeliveryError : Ge.PaymentError,
                  children: e(Y, {
                    children: d(
                      'shipping.address_form.generic_error',
                      'There was a problem saving your address. Please try again.'
                    ),
                  }),
                }),
              e(Fs, {
                editableAddress: l.address,
                addressType: s,
                saveText: k,
                cancelText: E,
                onSave: n,
                onSuccess: g,
                onCancel: g,
                showSavedAddressSelector: i,
                addressErrorsAtom: r,
                combineViolationAndValidationErrors: A,
              }),
            ],
          }),
        ],
      }),
    ],
  });
}
function ci() {
  const { method: s } = Zn(),
    { record: t } = Qe(),
    n = C(
      (i) =>
        t({
          schemaId: 'shopify_pay_payment_page_ui_interaction/1.1',
          payload: { action: i },
        }),
      [t]
    ),
    a = F({ shopPay: n });
  B(() => {
    s && a?.(`delivery_method_${s.toLowerCase()}_selected`);
  }, [s, a]);
}
function Gl() {
  ci();
  const t = D()('shipping.delivery_title', 'Delivery'),
    n = Kn(),
    a = F({ guest: !1, default: !0 });
  return n
    ? e(Qn.Provider, {
        value: !0,
        children: e(U, {
          padding: ['base', 'none'],
          children: e(He, {
            accessibilityLabel: t,
            children: e(I, {
              children: [a && e(Z, { appearance: 'subdued', children: t }), n],
            }),
          }),
        }),
      })
    : null;
}
function Hs(s) {
  const t = Le();
  return z(
    () =>
      s.some(
        (n) =>
          t.read(n.behaviors).value.blockProgress &&
          n.capabilities.blockProgress
      ),
    [s, t]
  );
}
function Hl() {
  const s = D(),
    { value: t, loading: n } = Je(),
    a = bt(),
    i = j('Checkout::PickupLocations::RenderBefore'),
    r = j('Checkout::PickupLocations::RenderAfter'),
    o = Rs([...i, ...r]),
    c = Hs([...i, ...r]),
    [d, l] = V(o);
  B(() => {
    a && o && l(!0);
  }, [o, l, a]);
  const p = C(() => l((u) => !u), [l]);
  return t?.status === 'unavailable' && t?.hasNoDeliveryMethods
    ? e(ie, {
        id: 'pickupLocations',
        label: s('shipping.local_pickup.rollup_title', 'Store location'),
        summary: e(O, { children: [e(W, { spacing: 'small200' }), e(un, {})] }),
      })
    : e(ie, {
        open: d,
        id: 'pickupLocations',
        label: s('shipping.local_pickup.rollup_title', 'Store location'),
        summary: e(ql, { loading: n, deliveryNext: t }),
        onToggle: p,
        disabled: c,
        children: e(I, { spacing: 'small200', children: e(un, {}) }),
      });
}
function ql({ loading: s, deliveryNext: t }) {
  const n = D(),
    a = Ct(),
    i = Jn(t),
    r = i && i[0],
    o = os(r?.pickupLocation?.address, {
      hiddenFields: ['postalCode', 'countryCode', 'phone'],
    });
  if (s) return e(ke, {});
  if (!r?.pickupLocation) return null;
  const {
      pickupLocation: { name: c },
      cost: { amount: d, currencyCode: l },
    } = r,
    p =
      r?.pickupLocation?.type === 'PickupInStoreLocation' &&
      r?.pickupLocation.instructions,
    m = d === 0 ? n('shipping.free_rate_label', 'Free') : a(d, { currency: l });
  let u = `${c}, ${o}`;
  return p && (u += `, ${p}`), m && (u += ` - ${m}`), e(O, { children: u });
}
const Yl = ({ buyerRefusesDuties: s }) => {
  const t = D(),
    [n, a] = V(!0),
    i = s
      ? t('shipping.duties_and_taxes_options.ddu_title', 'Pay on delivery')
      : t('shipping.duties_and_taxes_options.ddp_title', 'Pay now');
  return e(ie, {
    open: n,
    id: 'optionalDuties',
    label: t('shipping.duties_and_taxes_title', 'Duties and taxes'),
    summary: i,
    onToggle: () => a(!n),
    children: e(ei, {}),
  });
};
function li() {
  const { isOrderEditCheckout: s } = Fe();
  return s
    ? e(Dc, {})
    : e(Xe, {
        target: 'cart.deliveryGroups[0].deliveryAddress',
        children: e(Xn, { children: e(Wl, {}) }),
      });
}
function Wl() {
  const s = Kn(),
    {
      VaultedDeliveryAddress: t,
      VaultedShippingMethods: n,
      VaultedPickupPoint: a,
      DeliveryHeading: i,
    } = me(),
    [r] = vr('ONE_TIME_PURCHASE'),
    o = Sr(),
    { value: c } = ea(),
    d = Ls(),
    [l] = Pr(),
    p = d || o,
    m = p ? l : r,
    u = m.includes('SHIPPING') || m.includes('LOCAL'),
    g = (y) => (p ? l.every((P) => P === y) : r.includes(y)),
    h = F({ guest: !0, default: !1 }),
    f = [];
  return (
    h && f.push(e(i, {})),
    s && f.push(e(Gl, {})),
    u && (f.push(e(t, {})), f.push(e(n, {}))),
    g('PICK_UP') && f.push(e(Hl, {})),
    g('PICKUP_POINT') && f.push(e(a, {})),
    c?.refuseDutiesPermitted &&
      f.push(e(Yl, { buyerRefusesDuties: c.buyerRefusesDuties })),
    e(O, { children: f })
  );
}
function jl({
  state: s,
  addressInvalidMessage: t,
  addressIncompleteMessage: n,
}) {
  const a = D(),
    i = Ls(),
    { hasViolations: r } = Pe(vt),
    { hasViolations: o } = Pe(ds);
  switch (s.status) {
    case 'initial':
    case 'loading':
      return e(I, {
        spacing: 'none',
        children: [
          e(ke, { inlineSize: 'base', size: 'small' }),
          e(ke, { inlineSize: 'small', size: 'extraSmall' }),
        ],
      });
    case 'empty':
    case 'error': {
      let c;
      return (
        r
          ? (c =
              n ??
              a(
                'shipping.method_summary.incomplete_address_entered',
                'Enter a complete shipping address to view available shipping methods'
              ))
          : o
          ? (c = a(
              'shipping.different_shipping_method_summary',
              'Enter a different shipping address to view available shipping methods'
            ))
          : (c =
              t ??
              a(
                'shipping.invalid_shipping_method_summary',
                'Enter a valid shipping address to view available shipping methods'
              )),
        e(Z, { children: c })
      );
    }
    case 'filled':
      return i ? e(Er, {}) : Kl({ state: s });
  }
}
function Zl(s) {
  for (const t of s)
    if (t.status !== 'not_required') {
      for (const n of t.methods)
        if (n.handle === t.selectedDeliveryMethodHandle) return n;
    }
}
function Kl({ state: s }) {
  const t = Zl(s.deliveryLines);
  return e(O, {
    children: t && e(kr, { selectedShippingMethod: t, displayOnly: !1 }),
  });
}
const Ql = (s) =>
    z(
      () =>
        s
          ? s.nickname && s.nickname.trim().length > 0
            ? s.nickname
            : s.bank && s.bank.trim().length > 0
            ? s.bank
            : sa(s.brand)
          : '',
      [s]
    ),
  Fm = (s) => {
    const [t] = T(_e.selectedPaymentMethod),
      n = Ne(t);
    B(() => {
      n.current?.id !== t?.id && (n.current !== void 0 && s(), (n.current = t));
    }, [s, t]);
  };
function ui() {
  const [s, t] = T(_e.userStoredPaymentMethods),
    [n, a] = T(_e.selectedPaymentMethod),
    i = n && fs(n) ? n.paymentAttributes : void 0,
    { value: r } = qe(),
    o = ta(),
    { creditCardDisabled: c } = Xa(),
    { updateCheckoutAddress: d } = ii(),
    [l] = $n(),
    [p] = zn(),
    { shippingRequired: m } = xe(),
    u = z(() => (r?.length ? Mr(s, r) : []), [s, r]),
    g = z(() => {
      const S = s[0];
      return u.includes(S) ? S : u[0];
    }, [u, s]),
    h = z(() => {
      const S = s.map((v) => {
        const w = fs(v)
          ? v.paymentAttributes.expired
          : v.paymentMethod !== 'IDEAL';
        let A = fs(v) ? c(v.paymentAttributes) : !1;
        return (
          (A = Ue(v) ? !u.includes(v) : A),
          {
            method: v,
            isValidForCheckout: u.includes(v),
            isExpired: w,
            isDisabled: A,
          }
        );
      });
      return (
        Jl(r, s) &&
          S.push({
            method: { ...Ir },
            isValidForCheckout: !0,
            isExpired: !1,
            isDisabled: !1,
          }),
        S.sort((v, w) => Dr(v.method, w.method))
      );
    }, [s, c, u, r]),
    f = C(
      async (S) => {
        fn(S, s, r) && a(S),
          Ue(S) &&
            (await d(
              { billingAddress: p?.address, fallbackPhoneNumber: l },
              m
            ));
      },
      [s, r, a, l, p, d, m]
    );
  B(() => {
    (n && fn(n, s, r)) || a(g);
  }, [n, g, s, r, a]);
  const y = C(
      (S) => {
        const v = h.find(({ method: A }) => Ue(A))?.method;
        if (!v) return;
        const w = { ...v };
        (w.paymentAttributes.bank = S),
          t((A) => A.map((R) => (R.paymentMethod === 'IDEAL' ? w : R))),
          f(w);
      },
      [h, t, f]
    ),
    {
      activeOrExpiredCardPaymentMethods: P,
      disabledCardPaymentMethodsForInstallments: k,
      isEveryCardDisabled: E,
      isEveryCardExpired: _,
      cardPaymentMethods: b,
    } = z(() => {
      const S = [],
        v = [];
      let w = 0;
      const A = h.filter(({ method: se }) => fs(se));
      for (const se of A) {
        if (o.paymentMethodSelected && se.isDisabled) {
          v.push(se);
          continue;
        } else se.isExpired && w++;
        S.push(se);
      }
      const R = v.length + w,
        x = A.length > 0 && A.length === R,
        M = A.length > 0 && w === A.length,
        G = h.find(({ method: se }) => Ue(se));
      return (
        o.paymentMethodSelected && G && v.push(G),
        {
          activeOrExpiredCardPaymentMethods: S,
          disabledCardPaymentMethodsForInstallments: v,
          isEveryCardDisabled: x,
          isEveryCardExpired: M,
          cardPaymentMethods: A,
        }
      );
    }, [h, o.paymentMethodSelected]);
  return {
    lastSupportedUsedPaymentMethod: g,
    availableUserStoredPaymentMethods: u,
    paymentMethods: h,
    selectedCreditCard: i,
    selectedPaymentMethod: n,
    setSelectedPaymentMethod: f,
    activeOrExpiredCardMethods: P,
    disabledCardMethodsForInstallments: k,
    isEveryCardDisabled: E,
    isEveryCardExpired: _,
    cardPaymentMethods: b,
    onChangeIdealPaymentBank: y,
  };
}
const zm = (s, t, n) =>
    n.find(({ method: a }) => a.paymentMethod === t && a.id === s),
  fn = (s, t, n) => (na(s.id) && n?.some(aa)) || !!wr(s, t),
  Jl = (s, t) => s?.some(aa) && !t.some(Ue),
  Xl = 'ofvO4',
  eu = '_5aFHv',
  su = 'YgBK7',
  As = { Bullets: Xl, LabelWrapper: eu, Label: su };
function nt({ children: s }) {
  return e(oe, { columns: ['auto', 'fill'], spacing: 'small200', children: s });
}
function tu({ handleNoValidCards: s }) {
  const t = D(),
    [n, a] = V(!1),
    i = te(_e.paymentMethodOption),
    { creditCardDisabled: r } = Xa(),
    o = ta(),
    c = St(),
    {
      selectedCreditCard: d,
      selectedPaymentMethod: l,
      setSelectedPaymentMethod: p,
      paymentMethods: m,
    } = ui(),
    u = Ql(d),
    g = m.find((P) => !P.isDisabled);
  if (
    (B(() => {
      if (n) {
        const P = setTimeout(() => {
          a(!1);
        }, 750);
        return () => clearTimeout(P);
      }
    }, [n]),
    B(() => {
      const P = i?.name === 'SHOPIFY_INSTALLMENTS' && r(d);
      if (!g) {
        s();
        return;
      }
      P && (p(g.method), a(!0));
    }, [r, o.config?.availableLoanTypes, d, i?.name, s, g, p]),
    !l)
  )
    return null;
  if (n) return e(nt, { children: e(ke, {}) });
  if (Ue(l)) {
    const P = '·',
      k = Pt(l.paymentAttributes.bank);
    return e(nt, {
      children: [
        e(Ve, { name: 'ideal' }),
        e(Z, {
          children: [
            e(Z, { children: t('payment.ideal_label', 'iDEAL') }),
            e('span', {
              'aria-hidden': 'true',
              className: As.Bullets,
              children: P,
            }),
            e(Z, { children: k }),
          ],
        }),
      ],
    });
  }
  const h = c ? 'small' : 'base',
    f = '····',
    y = l.paymentAttributes;
  return e(nt, {
    children: [
      !c && e(Ve, { name: y.brand }),
      e(Z, {
        size: h,
        children: e('span', {
          className: As.LabelWrapper,
          children: [
            e('span', {
              className: As.Label,
              children: e(Rr, { children: u }),
            }),
            e('span', {
              'aria-hidden': 'true',
              className: As.Bullets,
              children: f,
            }),
            e(Z, { size: h, appearance: 'base', children: y.lastDigits }),
          ],
        }),
      }),
      c && e(Ve, { name: y.brand, size: 'small' }),
    ],
  });
}
const nu = '_6nNMz',
  au = 'Cg9Fv',
  iu = 'H2hhF',
  ru = 'kQFAI',
  ou = '_7PB5m',
  du = '_08T43',
  Ke = {
    Wrapper: nu,
    Active: au,
    'wrapper-reveal': 'OX2DE',
    NoAnimation: iu,
    Badge: ru,
    'badge-reveal': 'vj4Q4',
    Icon: ou,
    'icon-reveal': 'YHNIb',
    Label: du,
    'label-reveal': 'h2NjD',
  };
function cu(s) {
  const t = Ne(null);
  return (
    B(() => {
      if (!window.IntersectionObserver) return;
      const n = new IntersectionObserver(
          (i) => {
            const r = i.some(({ isIntersecting: o }) => o);
            a && r && (n.unobserve(a), s());
          },
          { threshold: 1 }
        ),
        a = t.current;
      return (
        a && n.observe(a),
        () => {
          a && n.unobserve(a);
        }
      );
    }, [s]),
    t
  );
}
function lu(s) {
  const [t, n] = T(s),
    a = C(() => {
      n((i) => i + 1);
    }, [n]);
  return [t, a];
}
const uu = Et(0);
function $m() {
  const [s, t] = lu(uu),
    [n, a] = V(!1),
    r = D()('shop_pay.installments_prequalified_status_badge', 'Prequalified'),
    o = cu(
      C(() => {
        a(!0), t();
      }, [t])
    );
  return e('div', {
    className: ft(Ke.Wrapper, { [Ke.Active]: n }, { [Ke.NoAnimation]: s > 1 }),
    ref: o,
    children: e('span', {
      className: Ke.Badge,
      children: [
        e('span', {
          className: Ke.Icon,
          children: e(Ae, {
            source: 'success',
            size: 'fill',
            appearance: 'monochrome',
          }),
        }),
        e('span', { className: Ke.Label, children: r }),
      ],
    }),
  });
}
function Ht() {
  const s = Ts(),
    t = kt(),
    n = es(),
    { shippingRequired: a } = xe(),
    i = ia(),
    r = a && !i,
    o = cs(),
    c = Lr(),
    { shippingRequired: d } = xe(),
    { isOrderEditCheckout: l } = Fe(),
    { purchasingCompany: p } = ze(),
    m = K().paymentLines.value,
    u = qe(),
    g = z(() => m[0], [m]),
    h = g?.method.type === 'direct',
    f = g?.method.type === 'wallet' && g?.method.name === 'APPLE_PAY',
    y = g?.method.type === 'wallet' && g?.method.name === 'PAYPAL_EXPRESS',
    P = F({ shopPay: o.delivery }),
    k = ra();
  return !(Tr(m, u?.value) || !r) || f || (y && oa(u?.value))
    ? 'hidden'
    : p && n
    ? Or(g)
      ? 'afterPayment'
      : 'inContext'
    : c
    ? 'afterPayment'
    : P
    ? 'inContext'
    : !n || s || t
    ? 'afterPayment'
    : l
    ? k?.pickupAddress
      ? 'afterPayment'
      : d && h
      ? 'inContext'
      : 'afterPayment'
    : r && h
    ? 'inContext'
    : 'afterPayment';
}
function pi() {
  const { hostedFieldsUrl: s } = Be(),
    t = _t(),
    n = Ka(),
    a = Ht(),
    { shippingRequired: i } = xe(),
    r = ra(),
    o = ia() || r?.pickupAddress,
    c = Os(),
    d = cs(),
    { value: l = [] } = qe(),
    { PaymentMethods: p } = me(),
    m = i && !o && !c,
    u = F({
      shopPay: a === 'inContext' && !d.payment,
      businessCustomer: !0,
      customerAccount: m,
      default: m,
    }),
    g = l.some((f) => f.type === 'direct' && f.paymentBrands.includes('BOGUS')),
    h = z(() => (g ? new Set(['number']) : new Set()), [g]);
  return e(da, {
    hostedFieldsUrl: s,
    blurValidationFieldDenylist: h,
    onError: t.notify,
    onSetFieldErrors: n,
    children: e(p, { billingAddressInContext: u }),
  });
}
function pu() {
  return Vr(), null;
}
function hu({ billingAddressInContext: s }) {
  return e(I, { children: [e(pu, {}), e(ac, { billingAddressInContext: s })] });
}
const mu = xr.map((s) => ({ value: s, label: Pt(s) })),
  gu = { label: '', options: [] };
function Um({ allowSelection: s, paymentMethod: t }) {
  const n = D(),
    { onChangeIdealPaymentBank: a, selectedPaymentMethod: i } = ui(),
    r = i && Ue(i) ? i.paymentAttributes.bank : t.paymentAttributes.bank,
    o = Pt(r),
    c = s || na(t.id),
    d = '·',
    l = s ? { label: n('payment.bank_picker_label', 'Bank'), options: mu } : gu;
  return e(oe, {
    spacing: 'small200',
    blockAlignment: 'start',
    children: e(I, {
      inlineAlignment: 'start',
      spacing: 'small400',
      children: [
        e(ne, {
          spacing: 'small200',
          children: [
            e(Ve, { name: 'ideal' }),
            e(Z, {
              children: [
                n('payment.ideal_label', 'iDEAL'),
                c
                  ? null
                  : e(O, {
                      children: [
                        e('span', {
                          'aria-hidden': 'true',
                          style: {
                            fontWeight: 800,
                            marginLeft: 4,
                            marginRight: 4,
                          },
                          children: d,
                        }),
                        o,
                      ],
                    }),
              ],
            }),
          ],
        }),
        s
          ? e(I, {
              spacing: 'none',
              minInlineSize: 'fill',
              minBlockSize: 'fill',
              children: e(Nr, {
                required: !0,
                onChange: a,
                value: r,
                label: l.label,
                options: l.options,
              }),
            })
          : null,
      ],
    }),
  });
}
const Gm = De({
  load: () =>
    we(() =>
      Re(
        () => import('./ShopPayCaptcha.CoLvlF5Y.js').then((s) => s.S),
        __vite__mapDeps([43, 1, 2])
      )
    ),
});
function at({
  open: s,
  blocking: t,
  title: n,
  description: a,
  onClose: i,
  cta: r,
  onPressCta: o,
  secondaryAction: c,
  onPressSecondaryAction: d,
  cancel: l,
  onPressCancel: p,
}) {
  const g = e(O, {
    children: [
      a,
      e(I, {
        spacing: 'small200',
        padding: ['base', 'none', 'none', 'none'],
        children: [
          e(J, {
            inlineSize: 'fill',
            kind: 'primary',
            onPress: o,
            children: r,
          }),
          c
            ? e(J, {
                inlineSize: 'fill',
                kind: 'secondary',
                onPress: d,
                children: c,
              })
            : null,
          l
            ? e(vl, {
                borderRadiusBase: !0,
                inlineSize: 'fill',
                onPress: p,
                paddingBlock: 'base',
                children: l,
              })
            : null,
        ],
      }),
    ],
  });
  return t
    ? e(mn, { blocking: !0, open: s, title: n, padding: !0, children: g })
    : e(mn, { open: s, title: n, onClose: i, padding: !0, children: g });
}
const yu = {
  [Ie.Generic]: st.PaymentErrorModalGeneric,
  [Ie.SignInFailed]: st.PaymentErrorModalSignInFailed,
  [Ie.ContinueWithShopPay]: st.PaymentErrorModalContinueWithShopPay,
};
function Hm() {
  const s = D(),
    { name: t } = Be(),
    { recordImmediately: n } = Qe(),
    { loggedIn: a } = Vs(),
    { currentUrl: i } = Br(),
    [r, o] = V(!1),
    [c, d] = T(_e.unauthenticatedErrorModal),
    [, l] = T(_e.shopPayVerificationTrigger),
    [p, m] = V(null),
    u = yu[p?.type ?? Ie.Generic],
    { to: g, onPress: h } = Fr(u),
    f = C(() => {
      d(void 0);
    }, [d]),
    y = C(() => {
      n({
        schemaId: 'shopify_pay_payment_page_ui_interaction/1.1',
        payload: { action: `${u}_close` },
      }),
        f();
    }, [f, u, n]),
    P = C(() => {
      if (!g) {
        f();
        return;
      }
      h?.(), window.location.assign(g);
    }, [g, f, h]),
    k = C(async () => {
      n({
        schemaId: 'shopify_pay_payment_page_ui_interaction/1.1',
        payload: { action: 'change_email' },
      }),
        f(),
        setTimeout(() => {
          a
            ? l({ source: pn.ErrorModalClearEmail })
            : window.dispatchEvent(new Event('shop_pay_verification_reset'));
        }, 0);
    }, [f, a, n, l]),
    E = C(async () => {
      n({
        schemaId: 'shopify_pay_payment_page_ui_interaction/1.1',
        payload: { action: 'continue_with_shop_pay' },
      }),
        f(),
        l({ source: pn.ErrorModalContinue });
    }, [f, n, l]);
  B(() => {
    if (!c) {
      o(!1);
      return;
    }
    m(c), o(!0);
  }, [n, c]);
  const _ = z(() => {
    switch (p?.type) {
      case Ie.Generic:
        return s(
          'shop_pay.checkout.unauthenticated_modals.generic.title',
          'Something went wrong'
        );
      case Ie.SignInFailed:
        return s(
          'shop_pay.checkout.unauthenticated_modals.sign_in_failed.title',
          'Sign in failed'
        );
      case Ie.ContinueWithShopPay:
        return s(
          'shop_pay.checkout.unauthenticated_modals.continue_with_shop_pay.title',
          'Continue with Shop Pay?'
        );
      default:
        return '';
    }
  }, [p, s]);
  if (
    (B(() => {
      r &&
        n({
          schemaId: 'shopify_pay_payment_page_ui_impression/2.0',
          payload: { elementText: _, elementType: u, shopAccountUuid: '' },
        });
    }, [r]),
    !p)
  )
    return null;
  const S = zr(i.search)
    ? e(ne, {
        blockAlignment: 'center',
        spacing: 'small500',
        children: [
          s(
            'shop_pay.checkout.unauthenticated_modals.continue_with_shop_pay.cancel',
            { shopName: t },
            'Check out at {{shopName}}'
          ),
          e(Ae, {
            source: 'external',
            size: 'small',
            display: 'inline',
            appearance: 'monochrome',
          }),
        ],
      })
    : s(
        'shop_pay.checkout.unauthenticated_modals.generic.cta',
        'Check out as guest'
      );
  switch (p.type) {
    case Ie.Generic:
      return e(at, {
        blocking: !0,
        open: r,
        onClose: y,
        title: _,
        description: s(
          'shop_pay.checkout.unauthenticated_modals.generic.description',
          { shopName: t },
          'Shop Pay is currently unavailable. You can still complete your checkout as a guest over at {{shopName}}.'
        ),
        cta: S,
        onPressCta: P,
      });
    case Ie.SignInFailed:
      return e(at, {
        open: r,
        onClose: y,
        title: _,
        description: s(
          'shop_pay.checkout.unauthenticated_modals.sign_in_failed.description',
          { shopName: t },
          'This is a problem on our end. You can still complete your checkout as a guest over at {{shopName}}.'
        ),
        cta: S,
        onPressCta: P,
      });
    case Ie.ContinueWithShopPay:
      return e(at, {
        blocking: !0,
        open: r,
        onClose: y,
        title: _,
        description: s(
          'shop_pay.checkout.unauthenticated_modals.continue_with_shop_pay.description',
          { email: e(Z, { emphasis: 'bold', children: p.email }), shopName: t },
          '{{email}} has a Shop Pay account. Complete sign in or use a different email.'
        ),
        cta: s(
          'shop_pay.checkout.unauthenticated_modals.continue_with_shop_pay.cta',
          'Continue'
        ),
        onPressCta: E,
        secondaryAction: s(
          'shop_pay.checkout.unauthenticated_modals.continue_with_shop_pay.secondary',
          'Change email'
        ),
        onPressSecondaryAction: k,
        cancel: S,
        onPressCancel: P,
      });
    default:
      return null;
  }
}
const fu = () => {
    const s = D();
    return e(ls, {
      status: 'info',
      children: s(
        'shop_pay.checkout.draft_order_delivery_address_reminder',
        "You can't change your shipping address because this order has pre-arranged shipping information"
      ),
    });
  },
  _u = De({
    load: () =>
      we(() =>
        Re(
          () => import('./ShopPay.jV2pVOzE.js'),
          __vite__mapDeps([
            44, 1, 2, 31, 5, 14, 12, 13, 32, 4, 3, 45, 46, 6, 7, 19, 20, 21, 22,
            23, 16, 24, 25, 26, 27, 28, 29, 30, 8, 9, 10, 11, 15, 17, 18, 47,
            33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 48,
          ])
        )
      ),
  });
function Au() {
  const { persistedPayPalAtom: s } = us(),
    [, t] = T(s),
    [, n] = $r(),
    a = C(async () => {
      t({ isVenmo: !1 }), n({ status: 'not_connected' });
    }, [n, t]);
  return wn({ onPress: a, shouldResetCustomerInfo: !0 });
}
function bu() {
  const { label: s, to: t, onPress: n } = Au();
  return e(ge, { to: t, onPress: n, children: s });
}
function Cu() {
  const s = Ur();
  return e(Ut, { logo: e($a, { wallet: s ? 'venmo' : 'payPal' }) });
}
function vu() {
  const { value: s } = qe(),
    [, t] = Gr(),
    n = Rn(),
    a = Ne(n);
  a.current = n;
  const i = z(() => Tn(s, 'PAYPAL_EXPRESS'), [s]);
  return (
    B(() => {
      i || (a.current(), t({ type: rt }));
    }, [i, t]),
    null
  );
}
function Su({ customAddressSettings: s }) {
  const t = D(),
    n = Hr(),
    a = ca(),
    { billingAddressOption: i } = K(),
    [, r] = T(K().billingAddress),
    [o] = T(K().shippingAddress);
  return (
    la(),
    e(O, {
      children: [
        a === 'selector'
          ? e(O, {
              children: e(qr, {
                id: 'billingAddress',
                name: 'billingAddress',
                checked: i.value === 'shipping',
                onChange: (d) => {
                  d ? (i.value = 'shipping') : ((i.value = 'custom'), c());
                },
                children: t(
                  'payment.same_billing_address_checkbox_label',
                  'Use shipping address as billing address'
                ),
              }),
            })
          : null,
        e(ua, {
          id: 'billingAddressDetails',
          open: i.value !== 'shipping',
          children: [
            n && e(W, { spacing: 'small200' }),
            e(Ce, {
              children: t('payment.billing_address_title', 'Billing address'),
            }),
            e(W, {}),
            e(Mt, { customAddressSettings: s }),
          ],
        }),
      ],
    })
  );
  function c() {
    const d = Yr({ zoneCode: void 0, countryCode: o.countryCode });
    r(d);
  }
}
function Pu(s) {
  const t = qe();
  return oa(t?.value) ? null : e(Su, { ...s });
}
const Eu = {
    source: 'payPal',
    features: {
      MarketingDisclosure: je,
      ReviewNotice: Us,
      CheckoutAsGuest: bu,
      VaultedContact: Cu,
      PaymentErrorHandler: vu,
      BillingSection: Pu,
    },
  },
  ku = De({
    load: () =>
      we(() =>
        Re(
          () => import('./VaultedContact.2FCbcqTm.js').then((s) => s.V),
          __vite__mapDeps([49, 1, 2, 12, 13, 31, 5, 14, 32, 35, 36])
        )
      ),
  });
function hi() {
  return e(ss, { id: 'amazonPayVaultedDeliveryAddress', children: e(ku, {}) });
}
const Mu = De({
  load: () =>
    we(() =>
      Re(
        () => import('./VaultedPayment.RlVwirhz.js').then((s) => s.I),
        __vite__mapDeps([31, 1, 2, 5, 14, 12, 13, 32])
      )
    ),
});
function Iu() {
  return e(ss, { id: 'buyWithPrimeVaultedPayment', children: e(Mu, {}) });
}
const Du = De({
  load: () =>
    we(() =>
      Re(
        () => import('./VaultedShippingMethods.B2VsrFcy.js'),
        __vite__mapDeps([
          50, 1, 2, 19, 20, 21, 12, 13, 22, 23, 16, 24, 25, 26, 27, 28, 29, 30,
          31, 5, 14, 32, 6, 7, 33, 9, 8, 10, 11, 15, 17, 18, 3, 34, 35, 36, 37,
          38, 39, 40, 41, 42,
        ])
      )
    ),
});
function wu() {
  return e(ss, {
    id: 'buyWithPrimeVaultedShippingMethods',
    children: e(Du, {}),
  });
}
De({
  load: () =>
    we(() =>
      Re(
        () =>
          import('./LegacyVaultedShippingMethods.DGTCZkTx.js').then((s) => s.L),
        __vite__mapDeps([21, 1, 2, 12, 13, 22, 23])
      )
    ),
});
const Ru = De({
  load: () =>
    we(() =>
      Re(
        () => import('./app.js').then((s) => s.qW),
        __vite__mapDeps([1, 2])
      )
    ),
});
function Lu() {
  return e(ss, { id: 'buyWithPrimeCheckoutAsGuest', children: e(Ru, {}) });
}
const Tu = De({
  load: () =>
    we(() =>
      Re(
        () => import('./VaultedContact.2FCbcqTm.js').then((s) => s.a),
        __vite__mapDeps([49, 1, 2, 12, 13, 31, 5, 14, 32, 35, 36])
      )
    ),
});
function Ou() {
  return e(ss, { id: 'buyWithPrimeVaultedContact', children: e(Tu, {}) });
}
const Vu = {
  source: 'buyWithPrime',
  features: {
    VaultedPayment: Iu,
    VaultedDeliveryAddress: hi,
    VaultedShippingMethods: wu,
    ReviewNotice: Us,
    CheckoutAsGuest: Lu,
    MarketingDisclosure: je,
    VaultedContact: Ou,
  },
};
function xu() {
  const s = D();
  return e(ie, {
    id: 'amazonPayDetails',
    label: s('payment.payment_method', 'Payment method'),
    summary: e(Nu, {}),
    action: e(ic, {}),
  });
}
function Nu() {
  const { brand: s, descriptor: t } = Wr(),
    n = es(),
    a = Ts(),
    i = pa(),
    r = !t || !i;
  return n
    ? a
      ? e(ks, { vaulted: !0, reason: 'giftCard' })
      : r
      ? e(ke, {})
      : e(rc, { brand: s, descriptor: t })
    : e(ks, { vaulted: !0, reason: 'freeOrder' });
}
function Bu() {
  const { recordImmediately: s } = Qe(),
    t = C(
      (a) => {
        s({
          schemaId: Hn.PayPaymentPageUiInteraction,
          payload: {
            action: a ? 'shipping_rates_expand' : 'shipping_rates_collapse',
          },
        });
      },
      [s]
    ),
    n = C(
      (a, i) => {
        s({
          schemaId: 'shopify_pay_payment_page_select_shipping_rate/3.1',
          payload: {
            currentRate: a.handle ?? '',
            currentRatePrice: `${a?.cost?.amount ?? 0}`,
            isLocalDelivery: !a.pickupLocation && a.methodType === 'LOCAL',
            isLocalPickup: !!a.pickupLocation,
            previousRate: i?.handle,
            previousRatePrice:
              typeof i?.cost?.amount == 'number'
                ? `${i?.cost?.amount}`
                : void 0,
          },
        });
      },
      [s]
    );
  return { trackOnDeliveryToggle: t, trackSelectShippingMethod: n };
}
function mi(s) {
  const t = D(),
    n = C(
      (i) =>
        i.reduce(
          (r, o, c) =>
            c === i.length - 1
              ? t(
                  'shipping.shipping_method_combinations.combination',
                  { rest: r, current: o },
                  '%{rest} and %{current}'
                )
              : t(
                  'shipping.shipping_method_combinations.with_separator',
                  { rest: r, current: o },
                  '%{rest}, %{current},'
                ),
          ''
        ),
      [t]
    );
  return z(() => {
    if (!It(s)) return [];
    const i = jr(s),
      r = {
        businessDays: (o) =>
          t(
            'shipping.estimated_delivery_date',
            { count: o },
            { one: '%{count} business day', other: '%{count} business days' }
          ),
        businessDaysRange: (o, c) =>
          t(
            'shipping.estimated_delivery_date_range',
            { minimum: o, maximum: c },
            '%{minimum} to %{maximum} business days'
          ),
        subscriptionsOnlyShippingTitle: t(
          'shipping.subscription_shipping',
          'Subscription shipping'
        ),
        combineTwoShippingTitles: (o, c) =>
          t(
            'shipping.shipping_method_combinations.combination',
            { rest: o, current: c },
            '%{rest} and %{current}'
          ),
        combineMultipleShippingTitles: n,
        localDeliveryTitle: t('shipping.local_delivery', 'Local delivery'),
      };
    return Fu(r, i);
  }, [n, s, t]);
}
function Fu(s, t) {
  const n = (t || []).filter(ha).map(Zr);
  return Kr(n)
    .filter((i) => i.length)
    .map((i) => zu(i, s));
}
function zu(s, t) {
  return { ...Qr(s), title: Jr(s, t), cost: Xr(s), costAfterDiscounts: eo(s) };
}
function gi({ onChange: s, prerequisitesLoading: t }) {
  const { value: n, loading: a } = Je(),
    i = ma(n, 'ONE_TIME_PURCHASE', !0),
    r = mi(n),
    [o] = so(i?.type ?? 'ONE_TIME_PURCHASE'),
    c = z(() => {
      if (!(t || a || !o || i == null || i.status !== 'available'))
        return It(n)
          ? r.find((l) => l.handle === o)
          : i.methods.find((l) => l.handle === o);
    }, [t, a, o, i, n, r]),
    d = Ne(c);
  return (
    B(() => {
      c && d.current && d.current.handle !== c.handle && s(c, d.current),
        (d.current = c);
    }, [c, s]),
    { selectedDeliveryMethod: c }
  );
}
function yi() {
  const { value: s, loading: t } = Je(),
    n = ma(s, 'ONE_TIME_PURCHASE', !0),
    a = z(() => (n && n.status === 'available' ? n.methods : []), [n]),
    i = mi(s),
    r = It(s) ? i : a,
    o = z(
      () =>
        r.reduce(
          (u, g) => {
            const h = g.methodType === 'LOCAL' ? 'SHIPPING' : g.methodType;
            return h === 'PICK_UP' || h === 'SHIPPING'
              ? { ...u, [h]: [...u[h], g] }
              : u;
          },
          { SHIPPING: [], PICK_UP: [] }
        ),
      [r]
    ),
    [c, d] = V(!0),
    [l] = T(_e.selectedShippingAddress);
  B(() => {
    d(!0);
  }, [l]),
    B(() => {
      t || d(!1);
    }, [t]);
  const [, p] = V(),
    m = si(p);
  return {
    methodsByType: o,
    availableDeliveryMethods: r,
    availableDeliveryMethodsLoading: c,
    progressiveShippingRatesLoading: m,
  };
}
const $u = [{ handle: 'first' }, { handle: 'second' }],
  Uu = () => {};
function Gu() {
  const { asyncDeliveryPromiseExperienceEnabled: s } = Be(),
    { value: t } = Je(),
    n = t?.status === 'filled' ? t.lines[0] : void 0,
    a = n?.status === 'available' && n.methods.length > 0 ? n.methods : $u;
  return e(Dt, {
    name: 'shippingMethods',
    value: '',
    onChange: Uu,
    variant: 'group',
    hideRadioButton: a.length === 1,
    children: a.map(
      ({ handle: i, title: r, description: o, estimatedTimeInTransit: c }, d) =>
        e(
          Ss,
          {
            id: i,
            disabled: !0,
            secondaryContent: e(ln, { inlineSize: '5ch' }),
            children: [
              e(Y, {
                emphasis: 'bold',
                children: e(ln, {
                  inlineSize: d === 0 ? '12ch' : '6ch',
                  children: r,
                }),
              }),
              s || c != null ? e(ke, { inlineSize: 'small' }) : null,
              o && !s ? e(to, { size: 'small', children: o }) : null,
            ],
          },
          i
        )
    ),
  });
}
const Hu = () => {
    const s = D(),
      t = F({
        shopPay: s(
          'shop_pay.invalid_shipping_method_summary',
          'Select a different shipping address to view available shipping methods'
        ),
        default: s(
          'shipping_errors.empty_state',
          'Enter your shipping address to view available shipping methods.'
        ),
      });
    return e(ao, { children: e(no, { children: t }) });
  },
  fi = io(function () {
    const t = wt(),
      { InvalidShippingMethodBanner: n } = me();
    switch (t.status) {
      case 'initial':
      case 'empty':
        return e(Hu, {});
      case 'loading':
        return e(Gu, {});
      case 'error':
        return e(n, {});
      case 'filled': {
        const a = ro(t.deliveryLines).filter(
            (r) => r.status !== 'not_required'
          ),
          i = a.flatMap(({ methods: r }) => r.map(({ title: o }) => o));
        return e($t, {
          impressionType: 'shipping_methods',
          impressionFeatures: i,
          children: e(qu, { lines: a }),
        });
      }
    }
  });
function qu({ lines: s }) {
  const t = Rt(),
    n = ga(),
    [, a] = V(),
    i = si(a),
    r = F({ shopPay: Yu, default: O });
  return (
    B(() => {
      t('shippingMethodsFilled', { timestamp: new Date() }),
        n({ type: 'shipping_methods_filled' });
    }, [t, n]),
    e(O, {
      children: [
        e(r, {}),
        e(I, {
          spacing: 'large200',
          children: e(Bc, { lines: s, loading: i }),
        }),
      ],
    })
  );
}
function Yu() {
  const { trackSelectShippingMethod: s } = Bu(),
    { availableDeliveryMethodsLoading: t, progressiveShippingRatesLoading: n } =
      yi();
  return gi({ onChange: s, prerequisitesLoading: t || (t && !n) }), null;
}
const _n = (s) => e(He, { padding: ['small400', 'none'], children: s });
function qt({ initiallyOpen: s = !1, summaryContent: t, onToggle: n }) {
  const a = ht(),
    i = D(),
    r = bt(),
    { hasMultipleDeliveryGroups: o, onlyDeliveryGroupType: c } = ya(),
    {
      extensionsBefore: d,
      extensionsAfter: l,
      extensionsForRollupReveal: p,
    } = fa({
      hasMultipleDeliveryGroups: o,
      targeted: !1,
      shouldHandleRollup: !0,
    }),
    m = j('Checkout::ShippingMethodDetails::RenderAfter'),
    u = j('Checkout::ShippingMethodDetails::RenderExpanded'),
    g = wt(),
    { hasViolations: h } = be(new Set([...oo])),
    f = F({ businessCustomer: !1, default: Wu(g) }),
    y = Rs([...p, ...m, ...u]),
    P = Hs([...p, ...m, ...u]),
    { currentReturnSection: k } = We(),
    [E, _] = V(s || y || k === 'VaultedShippingMethods');
  B(() => {
    r && y && _(!0);
  }, [y, _, r]),
    B(() => {
      (h || f || P) && _(!0);
    }, [_, h, f, P]);
  const b = C(() => {
      _((ae) => {
        const ce = !ae;
        return n?.(ce), ce;
      });
    }, [n]),
    { value: S } = Je(),
    v = Jn(S),
    w = v && v[0],
    A = co('ONE_TIME_PURCHASE'),
    [R] = T(A),
    { value: x } = lo(),
    M = Ls();
  B(() => {
    if (!w?.phoneRequired) return;
    !R && !x?.phone && _(!0);
  }, [w?.handle]);
  const G = (g.status === 'error' || g.status === 'empty') && !y;
  B(() => {
    G && !y && _(!1);
  }, [G, y]);
  const se = () => {
      if (M && g.status === 'filled') {
        const ae = g.deliveryLines.filter(ha),
          { oneTimePurchaseLines: ce, subscriptionLines: fe } = uo(ae),
          q =
            fe.length === 0
              ? i(
                  'shipping.split_shipping_multiple_shipment_quantity_label',
                  { quantity: ce.length },
                  '%{quantity} shipments'
                )
              : i(
                  'shipping.split_shipping_multiple_shipment_label',
                  'Multiple shipments'
                );
        return `${i(
          'shipping.shipping_method_title',
          'Shipping method'
        )} · ${q}`;
      }
      return i('shipping.shipping_method_title', 'Shipping method');
    },
    de = p.length > 0;
  return e(ie, {
    open: E,
    id: 'shippingMethod',
    label: se(),
    summary: e(jl, {
      state: g,
      addressIncompleteMessage: t?.addressIncompleteMessage,
      addressInvalidMessage: t?.addressInvalidMessage,
    }),
    onToggle: b,
    disabled: P,
    children: [
      de &&
        e(ee, {
          extensions: d,
          options: {
            groupType: c && Ps(c),
            includeDeliverySelectionGroups: !1,
          },
          render: _n,
        }),
      g.status === 'error'
        ? null
        : e(I, {
            spacing: 'base',
            padding: de ? ['small300', 'none'] : void 0,
            children: [
              mt('shipping.shipping_method_notice', a)
                ? e(Y, { children: i('shipping.shipping_method_notice', ' ') })
                : null,
              e(fi, {}),
            ],
          }),
      de &&
        e(ee, {
          extensions: l,
          options: {
            groupType: c && Ps(c),
            includeDeliverySelectionGroups: !1,
          },
          render: _n,
        }),
    ],
  });
}
function Wu(s) {
  return s.status !== 'filled'
    ? !1
    : s.deliveryLines.some(
        (t) => t.status === 'available' && t.hasDeliveryLineChange
      );
}
function ju(s) {
  const t = pa(),
    n = D();
  return t
    ? e(qt, { ...s })
    : e(ne, {
        children: e(ie, {
          id: 'amazonPayShippingMethods',
          label: n('shipping.shipping_method_title', 'Shipping method'),
          summary: e(ne, { children: e(ke, {}) }),
        }),
      });
}
function Zu() {
  const { label: s, to: t, onPress: n } = po();
  return e(ge, { to: t, onPress: n, children: s });
}
const Ku = De({
  load: () =>
    we(() =>
      Re(
        () => import('./VaultedContact.2FCbcqTm.js').then((s) => s.b),
        __vite__mapDeps([49, 1, 2, 12, 13, 31, 5, 14, 32, 35, 36])
      )
    ),
});
function Qu() {
  return e(ss, { id: 'amazonPayVaultedContact', children: e(Ku, {}) });
}
const Ju = {
  source: 'amazonPay',
  features: {
    VaultedDeliveryAddress: hi,
    VaultedPayment: xu,
    VaultedShippingMethods: ju,
    MarketingDisclosure: je,
    ReviewNotice: Us,
    CheckoutAsGuest: Zu,
    VaultedContact: Qu,
  },
};
function qs({ addressType: s, ...t }) {
  const n = _a(),
    a = ho();
  return e(Aa, { addressType: s, countries: s === 'shipping' ? n : a, ...t });
}
const Xu = {
    id: '759287ed01c3f55059976a7a1b2c6a23138806816c7471892af068332cf8e472',
    type: 'mutation',
    name: 'CreateCustomerAddress',
    source:
      'mutation CreateCustomerAddress($address:CustomerMailingAddressInput!){createCustomerAddress(address:$address){result{id default address{name address1 address2 firstName lastName postalCode zoneCode countryCode city company phone coordinates{latitude longitude __typename}__typename}__typename}errors{code target localizedMessage nonLocalizedMessage __typename}__typename}}',
  },
  ep = {
    id: 'ea765e44a8a9fa13789316e2e0b39c50b9353e6752df33b0ac0c8be6c4134027',
    type: 'mutation',
    name: 'DeleteCustomerAddress',
    source:
      'mutation DeleteCustomerAddress($id:ID!){deleteCustomerAddress(addressId:$id){result{id default address{name address1 address2 firstName lastName postalCode zoneCode countryCode city company phone coordinates{latitude longitude __typename}__typename}__typename}errors{code target localizedMessage nonLocalizedMessage __typename}__typename}}',
  },
  sp = {
    id: '1fd6b0d3b12d38c7e2007b8a6747dee27d18e029d6e1b8fb88da4e88eb0752cb',
    type: 'mutation',
    name: 'ModifyCustomerAddress',
    source:
      'mutation ModifyCustomerAddress($address:CustomerMailingAddressInput!,$id:ID!){modifyCustomerAddress(address:$address,addressId:$id){result{id default address{name address1 address2 firstName lastName postalCode zoneCode countryCode city company phone coordinates{latitude longitude __typename}__typename}__typename}errors{code target localizedMessage nonLocalizedMessage __typename}__typename}}',
  };
function tp() {
  const s = ap(),
    t = ip(),
    n = rp();
  return {
    createAddressMutation: s,
    updateAddressMutation: t,
    deleteAddressMutation: n,
  };
}
const np = new Set([
  'BUYER_IDENTITY_CUSTOMER_ACCOUNT_REQUIRED',
  'BUYER_IDENTITY_CONTACT_INFO_DOES_NOT_MATCH_CUSTOMER_PROFILE',
  'DESTINATION_ADDRESS_REQUIRED',
]);
function _i(s, t) {
  return s || t.errors.some((n) => np.has(n.code));
}
function ap() {
  const s = Lt();
  return C(
    async (n) => {
      const { data: a, error: i } = await s.mutate(Xu, {
        variables: { address: Ai(n.address) },
      });
      if (!a?.createCustomerAddress || _i(i, a.createCustomerAddress))
        return { status: 'failed_unknown' };
      const { result: r, errors: o } = a.createCustomerAddress;
      return !r || o.length > 0
        ? { status: 'failed', errors: Wt(o) }
        : { status: 'success', address: Yt(r) };
    },
    [s]
  );
}
function ip() {
  const s = Lt();
  return C(
    async (n) => {
      const { data: a, error: i } = await s.mutate(sp, {
        variables: { address: Ai(n.address), id: n.id },
      });
      if (!a?.modifyCustomerAddress || _i(i, a.modifyCustomerAddress))
        return { status: 'failed_unknown' };
      const { result: r, errors: o } = a.modifyCustomerAddress;
      return !r || o.length > 0
        ? { status: 'failed', errors: Wt(o) }
        : { status: 'success', address: Yt(r) };
    },
    [s]
  );
}
function rp() {
  const s = Lt();
  return C(
    async (n) => {
      const { data: a, error: i } = await s.mutate(ep, {
        variables: { id: n.id },
      });
      if (i || a?.deleteCustomerAddress == null)
        return { status: 'failed_unknown' };
      const { result: r, errors: o } = a.deleteCustomerAddress;
      return !r || o.length > 0
        ? { status: 'failed', errors: Wt(o) }
        : { status: 'success', address: Yt(r) };
    },
    [s]
  );
}
function Ai(s) {
  return {
    firstName: s.firstName,
    lastName: s.lastName,
    company: s.company,
    address1: s.address1,
    address2: s.address2,
    city: s.city,
    countryCode: s.countryCode,
    zoneCode: s.zoneCode,
    zip: s.postalCode,
    phone: s.phone,
  };
}
function Yt(s) {
  const { address: t } = s;
  return {
    id: s.id,
    address: {
      address1: t.address1 ?? void 0,
      address2: t.address2 ?? void 0,
      firstName: t.firstName ?? void 0,
      lastName: t.lastName ?? void 0,
      postalCode: t.postalCode ?? void 0,
      zoneCode: t.zoneCode ?? void 0,
      countryCode: t.countryCode ?? void 0,
      city: t.city ?? void 0,
      company: t.company ?? void 0,
      phone: t.phone ?? void 0,
    },
    default: s.default,
  };
}
function Wt(s) {
  return s.map(
    ({
      __typename: t,
      code: n,
      target: a,
      nonLocalizedMessage: i,
      localizedMessage: r,
    }) => ({
      __typename: t,
      code: n,
      target: a ?? void 0,
      nonLocalizedMessage: i,
      localizedMessage: r ?? void 0,
    })
  );
}
function op(s, t) {
  const n = ba(),
    a = `${s}Address`,
    i = K(),
    [r, o] = T(i[a]),
    { details: c } = mo(r?.countryCode),
    { activeWalletSessionAtom: d } = us(),
    l = Le();
  return z(
    () => ({
      selectedCustomerAddress: go(r, t, c),
      setSelectedCustomerAddress: ({ address: m }) => {
        l.read(d).value || (o(m), n?.dispatch?.('addressReplaced'));
      },
    }),
    [d, t, c, r, o, n, l]
  );
}
function dp(s) {
  const t = `${s}Addresses`,
    { value: n } = xs();
  return z(
    () =>
      n?.customerProfile?.__typename === 'CustomerProfile'
        ? n.customerProfile[t]
        : [],
    [t, n?.customerProfile]
  );
}
function cp(s, t, n) {
  const { setAddressError: a } = yo(t),
    i = fo(n);
  return (o) => {
    i(`${s}_address`, o).forEach((d, l) => {
      a(l, d);
    });
  };
}
function bi(s) {
  const [t, n] = V(!1),
    a = dp(s),
    { addresses: i } = Ns(),
    [r, o] = V(a),
    c = z(() => [...i, ...r], [i, r]);
  B(() => {
    o(a);
  }, [a]);
  const { selectedCustomerAddress: d, setSelectedCustomerAddress: l } = op(
      s,
      c
    ),
    {
      createAddressMutation: p,
      updateAddressMutation: m,
      deleteAddressMutation: u,
    } = tp(),
    g = cp(s, Ca, d?.address.countryCode),
    { negotiate: h } = ye(),
    [, f] = T(At),
    y = C(
      async ({ mutate: _, getNewAddresses: b, getNewSelectedAddress: S }) => {
        n(!0);
        const v = await _();
        if (v.status === 'success') {
          const w = b(v.address),
            A = S(v.address, w);
          o(w),
            l(A),
            f(!1),
            await h({
              include: [`${s}Address`],
              silenceViolations: ['non-stock'],
            });
        } else
          v.status === 'failed'
            ? (g(v.errors), f(!1))
            : v.status === 'failed_unknown' && f(!0);
        return n(!1), v.status === 'success';
      },
      [s, h, g, l, f]
    ),
    P = C(
      (_) =>
        y({
          mutate: () => p({ address: _ }),
          getNewAddresses: (b) => [...r, b],
          getNewSelectedAddress: (b) => b,
        }),
      [p, r, y]
    ),
    k = C(
      (_, b) =>
        y({
          mutate: () => m({ address: _, id: b }),
          getNewAddresses: (S) => {
            const v = [...r],
              w = v.findIndex((A) => A.id === S.id);
            return (v[w] = S), v;
          },
          getNewSelectedAddress: (S) => S,
        }),
      [r, y, m]
    ),
    E = C(
      async (_) =>
        y({
          mutate: () => u({ id: _ }),
          getNewAddresses: (b) => c.filter((v) => v.id !== b.id),
          getNewSelectedAddress: (b, S) => (d && d.id !== b.id ? d : S[0]),
        }),
      [c, u, y, d]
    );
  return {
    createAddress: P,
    deleteAddress: E,
    updateAddress: k,
    selectedAddress: d,
    setSelectedAddress: l,
    loading: t,
    addresses: r,
  };
}
class An extends Error {
  name = 'InvalidSelectedAddressError';
}
function lp({ addressType: s = 'shipping' }) {
  const t = is().geolocation.country.code,
    {
      createAddress: n,
      deleteAddress: a,
      updateAddress: i,
      loading: r,
      selectedAddress: o,
      setSelectedAddress: c,
      addresses: d,
    } = bi(s),
    { addresses: l, mustSelectProvidedAddress: p } = Ns(),
    m = z(() => (p ? l : [...l, ...d]), [l, d, p]),
    [u, g] = T(Ye.addressModalState),
    h = z(() => new Map(m.map(({ id: b, address: S }) => [b ?? Ee(), S])), [m]),
    f = o?.id && !l.find(({ id: b }) => b === o.id),
    y = C(
      (b) => {
        const S = h.get(b);
        if (!S) throw new An();
        c({ id: b, address: S, default: !1 });
      },
      [h, c]
    ),
    P = C(async () => (o ? a(o.id) : !1), [a, o]),
    k = C(() => {
      if (!o) throw new An();
      g({ status: 'editing', address: re(o.address) });
    }, [o, g]),
    E = C(() => {
      const b = d[0]?.address,
        S = re({
          firstName: b?.firstName,
          lastName: b?.lastName,
          countryCode: t ?? b?.countryCode,
        });
      g({ status: 'adding', address: S });
    }, [d, t, g]),
    _ = C(
      async (b) =>
        u.status === 'adding'
          ? n(b)
          : u.status === 'editing' && o
          ? i(b, o.id)
          : !1,
      [u.status, n, o, i]
    );
  return e(ws, {
    active: r,
    children: e(U, {
      opacity: r ? 70 : void 0,
      children: e(I, {
        spacing: 'small200',
        children: [
          e(ns, {
            addressType: s,
            selectedId: o?.id,
            onChange: y,
            onEdit: f ? k : void 0,
            choices: h,
            onDelete: h.size > 1 && f ? P : void 0,
          }),
          e(U, {
            padding: ['none', 'small100'],
            children: e(Gs, {
              addressType: s,
              onSave: _,
              onAddAction: E,
              showNewAddressButton: !p,
              showSavedAddressSelector: !1,
              addressErrorsAtom: Ca,
            }),
          }),
        ],
      }),
    }),
  });
}
function up({ emailAddress: s }) {
  const t = D(),
    { showLogoutLink: n, logoutUrl: a } = Vs(),
    { currentReturnSection: i } = We(),
    [r, o] = V(i === 'VaultedContact'),
    c = C(() => {
      o((l) => !l);
    }, []),
    d =
      n &&
      e(U, {
        children: e(ge, {
          to: a,
          children: t('customer_account.sign_out_link_label', 'Log out'),
        }),
      });
  return e(ie, {
    id: 'contact',
    open: r,
    label: t('customer_account.rollup_label', 'Account'),
    summary: s,
    onToggle: n ? c : void 0,
    children: e(I, { spacing: 'small200', children: [s, d] }),
  });
}
function pp() {
  const s = D();
  return e(qt, {
    summaryContent: {
      addressIncompleteMessage: s(
        'shipping.method_summary.incomplete_address_selected',
        'Select a complete shipping address to view available shipping methods'
      ),
      addressInvalidMessage: s(
        'customer_account.invalid_shipping_method_summary',
        'Select a valid shipping address to view available shipping methods'
      ),
    },
  });
}
function Ms({ message: s }) {
  const t = ({ condition: n, wrapper: a, children: i }) => (n ? a(i) : i);
  return s
    ? e(rs, {
        errorType: Ge.DeliveryError,
        status: 'critical',
        children: e(t, {
          condition: !!s,
          wrapper: (n) =>
            e(I, {
              inlineAlignment: 'start',
              spacing: 'small500',
              children: n,
            }),
          children: s ? e(Y, { children: s }) : null,
        }),
      })
    : null;
}
function hp() {
  const s = D(),
    { hasViolations: t } = Pe(ds),
    { hasViolations: n } = Pe(Sa),
    { hasError: a, error: i } = ps(va),
    { deliveryAddressErrors: r } = _o(),
    o = zt(i ? { type: 'payment', code: i } : void 0);
  return a && o
    ? e(rs, { status: 'critical', errorType: Ge.DeliveryError, children: o })
    : t
    ? e(Ms, {
        message: s(
          'shipping_errors.shipping_method_not_available_generic.one',
          "Your order cannot be shipped to the selected address. Review your address to ensure it's correct and try again, or select a different address."
        ),
      })
    : n
    ? e(Ms, {
        message: s(
          'shipping_errors.shipping_method_not_available_due_to_unsatisfied_conditions',
          'Items in the cart do not meet price or weight requirements to qualify for shipping. Update your cart and try again.'
        ),
      })
    : r.length > 0
    ? e(Ao, { errors: r, errorType: Ge.DeliveryError })
    : null;
}
const mp = new Set([...Tt, ...ds, ...bo, ...Co]);
function Ys({ summary: s, invalidAddressBanner: t, onToggle: n } = {}) {
  const a = te(K().shippingAddress),
    i = K().availableDeliveryAddresses.value,
    r = D(),
    { currentReturnSection: o } = We(),
    c = hp(),
    d = vo(),
    l = bt(),
    p = Cs(Pa),
    { addresses: m, mustSelectProvidedAddress: u } = Ns(),
    g = j('Checkout::DeliveryAddress::RenderBefore'),
    h = j('purchase.checkout.delivery-address.render-after'),
    f = Rs([...g, ...h]),
    y = Hs([...g, ...h]),
    P = i && i.find((ve) => Es(a, ve.address)) && u,
    k = F({ shopPay: P && p, default: !1 }),
    [E, _] = V(f || o === 'VaultedDeliveryAddress' || k);
  B(() => {
    l && f && _(!0);
  }, [f, _, l]);
  const { hasViolations: b, clearViolations: S } = Pe(mp),
    { hasError: v, clearError: w } = ps(va),
    [A, R] = T(_e?.installmentsAgreementError),
    x = A === Vc.InvalidShippingAddress,
    { loading: M } = Je(),
    G = wt();
  B(() => {
    G?.status === 'loading' && (S(), w(), R(null));
  }, [w, S, R, G?.status]);
  const { DeliveryAddressEdit: se } = me(),
    de = F({
      customerAccount: { hiddenFields: [] },
      guest: { hiddenFields: [] },
      default: { hiddenFields: ['phone'] },
    }),
    ae = os(a, de),
    ce = C(() => {
      _((ve) => {
        const gs = !ve;
        return n?.(gs), gs;
      });
    }, [n]),
    fe = (b && !M) || v || x,
    q = (ve) => e(U, { children: [ve, e(W, {})] }),
    N = M ? null : fe && t ? q(t) : c ? q(c) : null;
  let H = F({ payPal: !0 }) ? null : N;
  t && (H = N);
  const Q = !!N,
    ue = E || (b && G?.status !== 'loading') || v || Q || y;
  B(() => {
    ue && _(!0);
  }, [_, ue]);
  const L = F({ shopPay: d, default: !1 }),
    X = g.length === 0 && h.length === 0,
    pe = F({ shopPay: L, default: L || (m.length === 1 && u && X) });
  return e(I, {
    spacing: 'none',
    children: [
      L && e(U, { children: [e(W, {}), e(fu, {})] }),
      e(ie, {
        open: E,
        id: 'deliveryAddress',
        label: r('shipping.shipping_address_title', 'Ship to'),
        error: H,
        summary: s ?? ae,
        onToggle: pe ? void 0 : ce,
        disabled: y,
        children: e(I, {
          spacing: 'small200',
          children: [
            e(ee, { extensions: g }),
            e(se, {}),
            e(ee, { extensions: h }),
          ],
        }),
      }),
    ],
  });
}
function gp() {
  const s = D(),
    t = K(),
    [n] = T(t.shippingAddress),
    { hasViolations: a } = Pe(vt),
    { hasViolations: i } = Pe(Tt),
    { hasViolations: r } = Pe(ds),
    [, o] = T(Ye.addressModalState),
    c = C(() => {
      o({ status: 'editing', address: re(n) });
    }, [n, o]);
  let d;
  return (
    a
      ? (d = s(
          'customer_account.incomplete_address',
          {
            update_address_link: e(ge, {
              appearance: 'monochrome',
              onPress: c,
              children: s('shipping.address_update', 'Update address'),
            }),
          },
          'Selected address is incomplete. %{update_address_link} or select a different address.'
        ))
      : i
      ? (d = s(
          'customer_account.invalid_address',
          {
            update_address_link: e(ge, {
              appearance: 'monochrome',
              onPress: c,
              children: s('shipping.address_update', 'Update address'),
            }),
          },
          'Selected address is invalid. %{update_address_link} or select a different address.'
        ))
      : r &&
        (d = s(
          'shipping_errors.shipping_method_not_available_generic.one',
          "Your order cannot be shipped to the selected address. Review your address to ensure it's correct and try again, or select a different address."
        )),
    e(Ms, { message: d })
  );
}
function yp() {
  return e(Ys, { invalidAddressBanner: e(gp, {}) });
}
const fp = {
  source: 'customerAccount',
  features: {
    AddressForm: qs,
    DeliveryAddressEdit: lp,
    GiftCardRedemption: zs,
    MarketingDisclosure: je,
    VaultedContact: up,
    StoreCreditRedemption: Ga,
    VaultedShippingMethods: pp,
    VaultedDeliveryAddress: yp,
  },
};
function _p({ emailAddress: s }) {
  const t = D(),
    { purchasingCompany: n } = ze(),
    { showLogoutLink: a, logoutUrl: i } = Vs(),
    r = Bs('draftOrder'),
    { isOrderEditCheckout: o } = Fe(),
    { currentReturnSection: c } = We(),
    [d, l] = V(c === 'VaultedContact'),
    p = C(() => {
      l((g) => !g);
    }, [l]),
    m = n?.company.name ?? '',
    u =
      a &&
      !r &&
      !o &&
      e(U, {
        children: e(ge, {
          to: i,
          children: t('customer_account.sign_out_link_label', 'Log out'),
        }),
      });
  return e(ie, {
    id: 'contact',
    label: t('customer_account.rollup_label', 'Account'),
    summary: e(I, {
      spacing: 'none',
      children: [e(Y, { children: s }), e(Y, { children: m })],
    }),
    onToggle: o || !u ? void 0 : p,
    open: o ? void 0 : d,
    children: e(U, {
      children: [e(Y, { children: s }), e(Y, { children: m }), u],
    }),
  });
}
function Ws({ showIcon: s = !1 }) {
  const t = D(),
    n = Ea();
  return e(ge, {
    to: n,
    accessibilityLabel: t(
      'contact.change_company_location_link_label',
      'Change company location'
    ),
    textDecoration: s ? 'none' : void 0,
    children: e(ne, {
      spacing: 'small100',
      blockAlignment: 'center',
      children: [
        s &&
          e(Ae, { source: 'marker', size: 'base', appearance: 'monochrome' }),
        e(Z, {
          children: t('contact.change_location_link_label', 'Change location'),
        }),
      ],
    }),
  });
}
function js() {
  const { purchasingCompany: s } = ze(),
    t = Ea(),
    n = Bs('draftOrder'),
    { isOrderEditCheckout: a } = Fe(),
    i = (s?.contact.locationCount || 0) > 1;
  return !!(t && !n && !a && i);
}
function Ap({
  addressType: s = 'shipping',
  disabledReason: t,
  onSave: n,
  onAddAction: a,
  showSavedAddressSelector: i = !0,
  addressErrorsAtom: r,
  showNewAddressButton: o = !0,
  modalState: c,
  setModalState: d,
  address: l,
}) {
  const p = D(),
    m = s === 'shipping',
    u = () => {
      d('idle');
    },
    g = () => {
      a();
    },
    h = p(
      m
        ? 'shipping.address_form.add_address'
        : 'billing.address_form.add_address',
      'Add address'
    ),
    f = p(m ? 'shipping.address_edit' : 'billing.address_edit', 'Edit address'),
    y = p(
      m ? 'shipping.add_address' : 'billing.add_address',
      'Use a different address'
    ),
    P = c === 'editing' ? f : h,
    k = F({
      businessCustomer:
        s === 'shipping'
          ? p('shipping.add_address', 'Use a different address')
          : P,
      default: P,
    }),
    E = !!t;
  return e(O, {
    children: [
      o &&
        e(U, {
          children: [
            e(J, {
              kind: 'plain',
              disabled: E,
              textDecoration: 'none',
              onPress: g,
              children: e(ne, {
                spacing: 'small100',
                blockAlignment: 'center',
                children: [
                  e(Ae, {
                    source: 'plus',
                    size: 'base',
                    appearance: 'monochrome',
                  }),
                  e(Z, { children: y }),
                ],
              }),
            }),
            E &&
              e('div', {
                style: {
                  paddingLeft:
                    'calc(var(--x-spacing-large-100) + var(--x-spacing-small-200) + 1px)',
                },
                children: e(Y, {
                  size: 'small',
                  appearance: 'subdued',
                  children: t,
                }),
              }),
          ],
        }),
      e(Ot, {
        open: c === 'adding' || c === 'editing',
        size: 'large',
        padding: !0,
        title: k,
        onClose: u,
        children: e(oc, {
          addressType: s,
          onSave: n,
          showSavedAddressSelector: i,
          addressErrorsAtom: r,
          showNewAddressButton: o,
          modalState: c,
          setModalState: d,
          address: l,
        }),
      }),
    ],
  });
}
const bp = 2;
function Ci({
  addressType: s = 'shipping',
  onAddAction: t,
  onEditAction: n,
  onDeleteAction: a,
  paymentModalState: i,
  addressDeleteModalState: r,
}) {
  const o = ka(),
    c = is().geolocation.country.code,
    {
      addresses: d,
      selectedAddressChoiceId: l,
      setSelectedAddress: p,
      createAddress: m,
      deleteAddress: u,
    } = dc(s),
    { purchasingCompany: g } = ze(),
    h = js(),
    f = (g?.contact.locationCount || 0) > 1,
    y = g?.location.shippingAddress,
    { negotiate: P } = ye(),
    [k, E] = V('idle'),
    [_, b] = V(re({})),
    S = () => {
      if (s === 'shipping') {
        const M = re({ countryCode: c ?? y?.countryCode, company: '' });
        E('adding'), b(M);
      } else t && t();
    },
    v =
      l === ct(s)
        ? void 0
        : () => {
            if (s === 'shipping') {
              const M = d.get(l);
              if (!M) return;
              E('editing'), b(re(M));
            } else n && n();
          },
    w = l === ct(s) ? void 0 : async () => u(),
    A = () => {
      s === 'billing' && P({ fieldsToResolve: ['billingAddress'] });
    },
    R = (s === 'shipping' && o) || s === 'billing',
    x = i === 'editing' || r === 'deleting' || r === 'active';
  return e(U, {
    children: e(I, {
      spacing: 'small200',
      children: [
        e(Vt, { section: 'delivery' }),
        e(ns, {
          addressType: s,
          selectedId: l,
          choices: d,
          onChange: (M) => {
            const G = d.get(M);
            G && (A(), p(G));
          },
          onEdit: x ? void 0 : v,
          onDelete: x ? void 0 : w,
          openAddressDeleteModal: a,
          addressPrimary: (M) => {
            if (M === cc.CompanyLocationShippingAddress)
              return f ? g?.location.name : g?.company.name;
          },
        }),
        s === 'shipping' &&
          h &&
          e(U, {
            padding: ['none', 'small100'],
            children: e(Ws, { showIcon: !0 }),
          }),
        R &&
          e(U, {
            padding: ['none', 'small100'],
            children: e(Ap, {
              addressType: s,
              onSave: (M) => (A(), m(M)),
              onAddAction: S,
              showNewAddressButton: d.size < bp,
              modalState: k,
              setModalState: E,
              address: _,
              addressErrorsAtom: So,
            }),
          }),
      ],
    }),
  });
}
function vi() {
  const s = D(),
    { purchasingCompany: t } = ze(),
    { selectedAddressChoiceId: n } = lc('shipping'),
    a = te(K().shippingAddress),
    i = os(a, { hiddenFields: ['phone'] }),
    r = n === ct('shipping'),
    o = t && t.contact.locationCount > 1;
  return e(I, {
    spacing: 'none',
    children: [
      ((r && o) || !i) && e(Y, { children: t?.location.name }),
      i
        ? e(Y, { children: i })
        : e(Y, {
            appearance: 'subdued',
            children: s('review.blocks.no_address', '(No address)'),
          }),
    ],
  });
}
function Cp() {
  const s = D(),
    t = Po(),
    n = ka(),
    { purchasingCompany: a } = ze(),
    i = js(),
    [r, o] = V(!1),
    c = (d) => {
      o(!d);
    };
  return t && !n && !a?.location.shippingAddress
    ? e(U, {
        children: e(ie, {
          id: 'shipping',
          label: s('shipping.shipping_address_title', 'Ship to'),
          open: r,
          onToggle: c,
          summary: e(vi, {}),
          children: [
            e(Is, {
              id: 'no_address_list',
              selectedItems: ['no_address'],
              onChange: () => {},
              hideRadioButton: !0,
              children: e(Ds, {
                id: 'no_address',
                children: e(I, {
                  spacing: 'none',
                  children: [
                    e(Y, { children: a?.location.name }),
                    e(Y, {
                      appearance: 'subdued',
                      children: s('review.blocks.no_address', '(No address)'),
                    }),
                  ],
                }),
              }),
            }),
            i &&
              e(U, {
                padding: ['small200', 'small100', 'none', 'small100'],
                children: e(Ws, { showIcon: !0 }),
              }),
          ],
        }),
      })
    : e(li, {});
}
function vp({
  onAddAction: s,
  onEditAction: t,
  onDeleteAction: n,
  paymentModalState: a,
  addressDeleteModalState: i,
}) {
  const { isLoadingSuggestedAddress: r, isValidSuggestedAddress: o } = Eo();
  return !o && !r
    ? e(Mt, {})
    : e(Ci, {
        addressType: 'billing',
        onAddAction: s,
        onEditAction: t,
        onDeleteAction: n,
        paymentModalState: a,
        addressDeleteModalState: i,
      });
}
function Sp({ initiallyOpen: s = !1 } = {}) {
  const t = D(),
    n = js(),
    { purchasingCompany: a } = ze(),
    i = a?.location.shippingAddress,
    r = a?.location.name,
    { currentReturnSection: o } = We(),
    [c, d] = V(s || o === 'VaultedBillingAddress'),
    l = () => {
      d((u) => !u);
    },
    { secondary: p } = yt({
      address: i ?? {},
      nameLinePosition: 'inline',
      addressPrimary: r,
    }),
    m = i ? p : t('review.blocks.no_address', '(No address)');
  return e(ie, {
    id: 'billingAddress',
    label: t('company_location.location_title', 'Location'),
    open: c,
    onToggle: l,
    summary: e(I, {
      spacing: 'none',
      children: [
        e(Y, { children: r }),
        e(Y, { appearance: i ? void 0 : 'subdued', children: m }),
      ],
    }),
    children: [
      e(Is, {
        id: 'billingAddressList',
        selectedItems: ['billToAddress'],
        onChange: () => {},
        hideRadioButton: !0,
        children: e(Ds, {
          id: 'billToAddress',
          children: e(oe, {
            blockAlignment: 'center',
            columns: ['fill', 'auto'],
            children: e(I, {
              spacing: 'small400',
              children: e(oe, {
                columns: ['fill', 'auto'],
                spacing: 'base',
                blockAlignment: 'start',
                children: e(I, {
                  inlineAlignment: 'start',
                  spacing: 'none',
                  children: [
                    e(Y, { children: r }),
                    e(Y, { appearance: 'subdued', children: m }),
                  ],
                }),
              }),
            }),
          }),
        }),
      }),
      n &&
        e(U, {
          padding: ['small200', 'small100', 'none', 'small100'],
          children: e(Ws, { showIcon: !0 }),
        }),
    ],
  });
}
function Si() {
  const s = D();
  return e(Ce, {
    level: 1,
    children: s('shipping.delivery_title', 'Delivery'),
  });
}
function Pp() {
  const s = D(),
    { purchasingCompany: t } = ze(),
    n = js();
  return t && t.contact.locationCount > 1
    ? e(ko, {
        columns: Se.default(['1fr']).when(
          { viewportInlineSize: { min: 'small' } },
          ['fill', 'auto']
        ),
        spacing: Se.when({ viewportInlineSize: { min: 'small' } }, 'base'),
        blockAlignment: Se.when(
          { viewportInlineSize: { min: 'small' } },
          'center'
        ),
        inlineAlignment: Se.when(
          { viewportInlineSize: { min: 'small' } },
          'start'
        ),
        children: [
          e(Ce, {
            level: 1,
            children: s(
              'contact.ship_to_company',
              { companyName: t.location.name },
              'Ship to {{companyName}}'
            ),
          }),
          n && e(Ws, {}),
        ],
      })
    : e(Si, {});
}
function Ep() {
  return e(Ys, { summary: e(vi, {}) });
}
function kp({ addressType: s, ...t }) {
  const n = Mo(s);
  return e(qs, { ...t, addressType: s, addressSettings: n });
}
const Mp = {
    source: 'businessCustomer',
    features: {
      AddressForm: kp,
      DeliveryAddressEdit: Ci,
      BillingAddressEdit: vp,
      VaultedContact: _p,
      VaultedBillingAddress: Sp,
      VaultedDelivery: Cp,
      PurchaseOrderNumberField: uc,
      NoticeBanners: Vt,
      BillingAddressSelector: Io,
      DeliveryHeading: Pp,
      VaultedDeliveryAddress: Ep,
    },
  },
  Pi = ({ creditCard: s, showAddress: t = !1, actions: n }) => {
    const a = D(),
      i = os(s.billingAddress, {
        hiddenFields: ['firstName', 'lastName', 'phone', 'company'],
        countryFormat: 'explicit',
      }),
      r = sa(s.cardType),
      o = '····',
      c = s.lastFourDigits?.match(/\d{4}/)?.[0],
      d = `${o} ${c}`,
      l = ` ${a(
        'payment.ends_with_label',
        { last_digits: String(c) },
        'ending with %{last_digits}'
      )}`;
    return e(oe, {
      columns: ['fill', ...(n ? ['auto'] : [])],
      spacing: 'small200',
      blockAlignment: 'start',
      children: [
        e(I, {
          inlineAlignment: 'start',
          spacing: 'none',
          children: [
            e(ne, {
              spacing: 'small200',
              children: [
                e(Ve, { name: s.cardType }),
                e(ne, {
                  spacing: 'small400',
                  children: [
                    e(Z, { children: r }),
                    e(Z, { visibility: 'hidden', children: l }),
                    e(Z, { accessibilityVisibility: 'hidden', children: d }),
                  ],
                }),
              ],
            }),
            t
              ? e(Y, { appearance: 'subdued', size: 'small', children: i })
              : null,
          ],
        }),
        n,
      ],
    });
  },
  Ip = ({ onClose: s, isShown: t, addressErrorsAtom: n = xt() }) => {
    const a = D(),
      { negotiate: i } = ye(),
      r = Le(),
      [o, c] = T(he.selectedCreditCard),
      [d, l] = T(K().billingAddress),
      [p, m] = T(he.creditCards),
      u = C(
        () => Object.entries(n).some(([h, f]) => r.read(f).value !== void 0),
        [r, n]
      ),
      g = C(
        async (h) => {
          if (u()) return !1;
          const f = d;
          l(h), await i({});
          const y = !u();
          return (
            y
              ? (o && c({ ...o, billingAddress: h }),
                m(
                  [...p].map((P) =>
                    P.referenceId === o?.referenceId
                      ? { ...P, billingAddress: h }
                      : P
                  )
                ))
              : l(f),
            y
          );
        },
        [u, p, i, o, d, m, c, l]
      );
    return e(ts, {
      open: t,
      title: a('checkout_sdk.edit_billing_address', 'Edit billing address'),
      onClose: s,
      children: e('div', {
        id: 'billingAddressForm',
        children: e(Fs, {
          addressType: 'billing',
          onCancel: s,
          onSuccess: s,
          onSave: g,
          editableAddress: re(d),
          cancelText: a('billing.address_form.cancel', 'Cancel'),
          saveText: a('billing.address_form.save', 'Save'),
          addressErrorsAtom: n,
        }),
      }),
    });
  },
  Ei = 'creditCardSelector--',
  Dp = ({ selectedId: s = '', onChange: t, creditCards: n }) => {
    const a = bn(s),
      i = D(),
      [r, o] = V(!1),
      [c, d] = V(!1),
      l = C(
        async (u) => {
          o(!0);
          const g = wp(u);
          await t(g), o(!1);
        },
        [t]
      ),
      p = C(() => {
        d(!0);
      }, []),
      m = C(() => {
        d(!1);
      }, []);
    return e(O, {
      children: [
        e(Dt, {
          name: 'CreditCardPaymentSelector',
          value: a,
          onChange: l,
          children: e(I, {
            children: n?.map((u) =>
              e(
                oe,
                {
                  blockAlignment: 'center',
                  columns: ['fill', 'auto'],
                  children: e(
                    Ss,
                    {
                      id: bn(u.referenceId),
                      children: [
                        e(oe, {
                          columns: ['fill', 'auto'],
                          children: [
                            e(Pi, { creditCard: u, showAddress: !0 }),
                            s === u.referenceId &&
                              e(ws, { size: 'small', active: r }),
                          ],
                        }),
                        s === u.referenceId &&
                          e(J, {
                            kind: 'plain',
                            inlineAlignment: 'start',
                            id: 'edit-billing-address',
                            onPress: p,
                            children: e(Z, {
                              children: i(
                                'checkout_sdk.edit_billing_address',
                                'Edit billing address'
                              ),
                            }),
                          }),
                      ],
                    },
                    u.referenceId
                  ),
                },
                u.referenceId
              )
            ),
          }),
        }),
        e(Ip, { isShown: c, onClose: m }),
      ],
    });
  };
function bn(s) {
  return `${Ei}${s}`;
}
function wp(s) {
  return s && s.replace(Ei, '');
}
function lt(s) {
  return {
    ...s,
    referenceId: s.referenceId?.includes('tmp://') ? void 0 : s.referenceId,
  };
}
function Rp({ children: s, id: t, label: n, selected: a, opened: i = !1 }) {
  const [r, o] = V(!1);
  B(() => {
    o(i);
  }, [i]);
  const c = C(() => {
    o(!r);
  }, [r, o]);
  return e(O, {
    children: [
      e(Do, {
        noWrap: !0,
        label: n,
        action: s
          ? e(J, {
              id: t,
              onPress: c,
              kind: 'plain',
              children: e(Ae, {
                source: r ? 'chevronUp' : 'chevronDown',
                size: 'extraSmall',
                appearance: 'monochrome',
              }),
            })
          : void 0,
        children: !r && (s ? e(wo, { onPress: c, children: a }) : a),
      }),
      s &&
        e(ua, {
          open: r,
          id: t,
          children: e(U, {
            padding: ['none', 'none', 'small200', 'none'],
            children: s,
          }),
        }),
    ],
  });
}
const Lp = ({
    id: s,
    label: t,
    onCreateAddressPress: n,
    allowEmpty: a,
    onAddressSelected: i,
  }) => {
    const r = D(),
      [o, c] = T(he.addedBillingAddress),
      d = te(he.addresses),
      l = te(he.creditCards),
      p = z(() => {
        const y = [...l?.map((k) => k.billingAddress), ...d],
          P = Vp(y);
        return new Map(P.map(Op));
      }, [l, d]),
      m = C(
        (f) => {
          const y = p.get(f) || null;
          h(y), i(y), c(void 0);
        },
        [p, i, c]
      ),
      u = C(() => {
        const f = Array.from(p.values())[0] ?? null;
        return i && i(f), f;
      }, [p, i]),
      [g, h] = V(u);
    return (
      B(() => {
        o && o.referenceId !== g?.referenceId && (h(o), i(o));
      }, [o, g, h, i]),
      e(Rp, {
        id: s,
        selected: e(Tp, { addreess: g, showEmpty: a }),
        label: t,
        opened: !g && a,
        children: [
          e(ns, {
            id: s,
            addressType: 'billing',
            choices: p,
            selectedId: g?.referenceId,
            onChange: m,
            isExternalVault: !0,
          }),
          e(U, {
            padding: ['small200', 'small200'],
            children: e(J, {
              inlineAlignment: 'start',
              onPress: n,
              kind: 'plain',
              children: e(ne, {
                children: [
                  e(Ae, {
                    source: 'plus',
                    size: 'base',
                    appearance: 'monochrome',
                  }),
                  e(Z, {
                    children: r(
                      'checkout_sdk.address_form.add_address',
                      'Use a different address'
                    ),
                  }),
                ],
              }),
            }),
          }),
        ],
      })
    );
  },
  Tp = ({ addreess: s, showEmpty: t = !1 }) => {
    const n = D();
    return s
      ? e(Gt, {
          address: {
            address1: s.address1,
            address2: s.address2,
            city: s.city,
            countryCode: s.countryCode,
            firstName: s.firstName,
            lastName: s.lastName,
            name: s.name,
            phone: s.phone,
            postalCode: s.postalCode,
            zoneCode: s.zoneCode,
          },
          nameLinePosition: 'block',
        })
      : t
      ? e(Y, {
          appearance: 'subdued',
          children: n('checkout_sdk.address_form.add', 'Add address'),
        })
      : e(I, {
          spacing: 'none',
          children: [e(ke, {}), e(ke, { size: 'small' })],
        });
  };
function Op(s) {
  const t = s.referenceId?.startsWith('tmp') ? s.referenceId : `tmp://${Ee()}`;
  return [
    t,
    {
      referenceId: t,
      address1: s.address1,
      address2: s.address2,
      city: s.city,
      countryCode: s.countryCode,
      firstName: s.firstName,
      lastName: s.lastName,
      name: s.name,
      phone: s.phone,
      postalCode: s.postalCode,
      zoneCode: s.zoneCode,
    },
  ];
}
function Vp(s) {
  return s.reduce(xp, []);
}
function xp(s, t) {
  return s.find((a) => Np(a, t)) || s.push(t), s;
}
function Np(s, t) {
  return (
    s.address1 === t.address1 &&
    s.address2 === t.address2 &&
    s.city === t.city &&
    s.countryCode === t.countryCode &&
    s.firstName === t.firstName &&
    s.lastName === t.lastName &&
    s.name === t.name &&
    s.phone === t.phone &&
    s.postalCode === t.postalCode &&
    s.zoneCode === t.zoneCode
  );
}
function Bp({ onClose: s, onCreateAddress: t }) {
  const n = D(),
    { sdk: a, validate: i, errors: r } = Ro(),
    o = qe(),
    [c, d] = V(!1),
    [l, p] = T(he.creditCards),
    [, m] = T(he.selectedCreditCard),
    u = Le(),
    g = K(),
    [h, f] = V(!1),
    [y, P] = V(null),
    { negotiate: k } = ye(),
    E = C(
      async (A) => {
        const R = Lo(g),
          x = y;
        (g.paymentLines.value = To(g.paymentLines.peek(), Oo(A, R, !1))),
          u.write(g.billingAddress, x);
      },
      [g, u, y]
    ),
    _ = C(
      async (A) => {
        const R = [...l],
          x = A.negotiated.paymentLines?.lines[0].method,
          M = {
            referenceId: `tmp://${Ee()}`,
            cardType: x.brand,
            lastFourDigits: x.creditCardLastFourDigits,
            expirationMonth: '',
            expirationYear: '',
            billingAddress: lt(y),
          };
        R.push(M), m(M), p(R);
      },
      [l, p, m, y]
    ),
    b = C(async () => {
      await k({
        fieldsToResolve: ['paymentLines'],
        onComplete(A) {
          switch (A.status) {
            case 'success': {
              _(A), s();
              break;
            }
            case 'error': {
              f(!0), d(!1);
              break;
            }
            case 'invalid':
            case 'stale':
            case 'denied':
            case 'throttled':
            case 'alreadyCompleted':
              break;
            default:
              Vo(A);
          }
        },
      });
    }, [k, s, _]),
    S = C(async () => {
      f(!1);
      const { isValid: A } = i();
      if (!(!A || !y)) {
        d(!0);
        try {
          const R = await a.vaultCard();
          if (!R) {
            f(!0);
            return;
          }
          E(R), b();
        } catch (R) {
          d(!1), a.setErrors(R.message);
        }
      }
    }, [i, a, E, b, y]),
    w = z(
      () => (o.value ?? []).filter((A) => A.type === 'direct'),
      [o]
    ).flatMap((A) => A.paymentBrands);
  return e(Ma, {
    onSubmit: S,
    children: [
      h &&
        e(O, {
          children: [
            e(ls, {
              status: 'critical',
              children: n(
                'checkout_sdk.credit_card_form.generic_card_error',
                'There was an error adding this card'
              ),
            }),
            e(W, { spacing: 'base' }),
          ],
        }),
      e(I, {
        spacing: 'small200',
        children: [
          e(I, {
            children: [
              r.sdk && e(pc, {}),
              e(hc, { cardBrands: w, prefillCardholderName: !0 }),
            ],
          }),
          !r?.sdk &&
            e(U, {
              border: 'base',
              cornerRadius: 'base',
              children: e(Lp, {
                id: 'billing_address_credit_card',
                label: n('checkout_sdk.checkout.bill_to', 'Bill to'),
                onCreateAddressPress: t,
                allowEmpty: !0,
                onAddressSelected: P,
              }),
            }),
          e(I, {
            spacing: 'large200',
            children: [
              !r?.sdk &&
                e(J, {
                  loading: c,
                  accessibilityRole: 'submit',
                  children: n('checkout_sdk.credit_card_form.save', 'Save'),
                }),
              s &&
                e(J, {
                  kind: 'plain',
                  inlineSize: 'fill',
                  onPress: s,
                  children: n('checkout_sdk.credit_card_form.cancel', 'Cancel'),
                }),
            ],
          }),
        ],
      }),
    ],
  });
}
function Fp() {
  const s = D(),
    [t, n] = V('idle');
  return e(I, {
    spacing: 'base',
    children: [
      e(U, {
        children: e(J, {
          kind: 'plain',
          inlineAlignment: 'start',
          onPress: () => {
            n('card');
          },
          children: e(ne, {
            spacing: 'small100',
            blockAlignment: 'center',
            children: [
              e(Ae, { source: 'plus', size: 'base', appearance: 'monochrome' }),
              e(Z, {
                children: s(
                  'payment.use_different_credit_card_label',
                  'Use a different card'
                ),
              }),
            ],
          }),
        }),
      }),
      e(zp, { modalStatus: t, setModalStatus: n }),
    ],
  });
}
const zp = ({ modalStatus: s, setModalStatus: t }) => {
  const n = D(),
    [a, i] = T(he.addresses),
    [, r] = T(he.addedBillingAddress),
    o = te(he.addresses)[0] ?? {},
    {
      name: c,
      firstName: d,
      lastName: l,
      phone: p,
      countryCode: m,
      zoneCode: u,
    } = o,
    g = {
      name: c,
      firstName: d,
      lastName: l,
      phone: p,
      countryCode: m,
      zoneCode: u,
    },
    h = re(g),
    f = Le(),
    y = C(() => {
      t('card');
    }, [t]),
    P = () => {
      f.write(h, g), t('billingAddress');
    },
    k = C(() => {
      t('idle');
    }, [t]),
    E = async (_) => {
      const b = [...a];
      return (_.referenceId = `tmp://${Ee()}`), b.push(_), i(b), r(_), !0;
    };
  return e(O, {
    children: e(ts, {
      open: s !== 'idle',
      title:
        s === 'billingAddress'
          ? n('checkout_sdk.address_form.add', 'Add address')
          : n('checkout_sdk.credit_card_form.add_new_card', 'Add card'),
      onClose: k,
      children: [
        e('div', {
          style: { display: s === 'billingAddress' ? 'none' : 'block' },
          children: [e(Bp, { onCreateAddress: P, onClose: k }), e(W, {})],
        }),
        s === 'billingAddress' &&
          e(Fs, {
            addressType: 'billing',
            onCancel: y,
            onSuccess: y,
            onSave: E,
            editableAddress: h,
            cancelText: n('checkout_sdk.credit_card_form.go_back', 'Go back'),
            saveText: n(
              'checkout_sdk.address_form.save_billing_address',
              'Save billing address'
            ),
          }),
      ],
    }),
  });
};
function $p() {
  return {
    name: void 0,
    firstName: void 0,
    lastName: void 0,
    address1: void 0,
    address2: void 0,
    city: void 0,
    zoneCode: void 0,
    postalCode: void 0,
    phone: void 0,
    coordinates: void 0,
    company: void 0,
    countryCode: void 0,
  };
}
function Up(s) {
  return {
    name: s.name,
    firstName: s.firstName,
    lastName: s.lastName,
    address1: s.address1,
    address2: s.address2,
    city: s.city,
    zoneCode: s.zoneCode,
    postalCode: s.postalCode,
    phone: s.phone,
    countryCode: s.countryCode ? s.countryCode : void 0,
    coordinates: void 0,
    company: void 0,
  };
}
function ki() {
  const s = Ka(),
    [t, n] = T(K().billingAddress),
    a = te(he.creditCards),
    [i, r] = T(he.selectedCreditCard),
    { hostedFieldsUrl: o } = Be(),
    c = _t(),
    { negotiate: d } = ye();
  if (a.length === 0) return e(pi, {});
  async function l(p) {
    const m = a.find((u) => u.referenceId === p);
    if (m?.billingAddress) {
      const u = Up(m.billingAddress);
      n(u);
    } else n($p());
    r(m),
      await d({
        include: ['billingAddress'],
        fieldsToResolve: ['billingAddress', 'paymentMethods'],
        silenceViolations: ['non-stock'],
      });
  }
  return e(da, {
    hostedFieldsUrl: o,
    onError: c.notify,
    onSetFieldErrors: s,
    children: e(I, {
      children: [
        e(Dp, { selectedId: i?.referenceId, creditCards: a, onChange: l }),
        e(Fp, {}),
      ],
    }),
  });
}
const Gp = ({ emailAddress: s }) => {
  const t = D();
  return e(ie, {
    id: 'contact',
    open: !1,
    label: t('customer_account.rollup_label', 'Account'),
    summary: s,
    children: e(Z, { children: s }),
  });
};
function Hp() {
  const { hasViolations: s } = be(new Set([...xo, ...No])),
    { hasError: t } = ps(Nt),
    n = Ft();
  return { isValid: !!(!s && (!t || (t && n))) };
}
function qp() {
  const s = D(),
    t = te(he.selectedCreditCard),
    { isValid: n } = Hp(),
    [a, i] = V(!t),
    r = t ? e(Pi, { creditCard: t }) : null,
    o = C(() => {
      i((d) => !d);
    }, [i]),
    c =
      !n &&
      e(ls, {
        status: 'critical',
        children: s(
          'payment.generic_incorrect_card_info',
          'Your payment details couldn’t be verified. Check your card details and try again.'
        ),
      });
  return e(ie, {
    id: 'payment',
    open: a,
    onToggle: o,
    label: s('payment.payment_method', 'Payment method'),
    summary: r,
    error: c,
    children: e(ki, {}),
  });
}
const Yp = {
    name: void 0,
    firstName: void 0,
    lastName: void 0,
    coordinates: void 0,
    company: void 0,
    address1: void 0,
    address2: void 0,
    city: void 0,
    postalCode: void 0,
    phone: void 0,
    zoneCode: void 0,
  },
  Wp = ({
    addressType: s = 'shipping',
    id: t,
    addressErrorsAtom: n = xt(),
  }) => {
    const a = `${s}_address`,
      i = t || a,
      r = Le(),
      [o, c] = T(he.addresses),
      [d, l] = T(K().shippingAddress),
      [p, m] = T(he.selectedAddress),
      [u, g] = T(Ye.addressModalState),
      { negotiate: h } = ye(),
      [f, y] = T(Bo.selectedShippingAddressRef),
      P = Ne(!1);
    B(() => {
      p && !f && !P.current && ((P.current = !0), y(p.referenceId));
    }, [p, f, y]);
    const k = z(
        () =>
          new Map(
            o.map((A) => [
              String(A.referenceId),
              {
                referenceId: A.referenceId,
                address1: A.address1,
                address2: A.address2,
                city: A.city,
                countryCode: A.countryCode,
                firstName: A.firstName,
                lastName: A.lastName,
                name: A.name,
                phone: A.phone,
                postalCode: A.postalCode,
                zoneCode: A.zoneCode,
              },
            ])
          ),
        [o]
      ),
      E = () => {
        const {
          name: A,
          firstName: R,
          lastName: x,
          countryCode: M,
          zoneCode: G,
        } = o[o.length - 1];
        g({
          status: 'adding',
          address: re({
            ...Yp,
            name: A,
            firstName: R,
            lastName: x,
            zoneCode: G,
            countryCode: M,
          }),
        });
      },
      _ = () => {
        g({ status: 'editing', address: re(k.get(f)) });
      },
      b = C(async () => {
        const A = s === 'shipping' ? 'shippingAddress' : 'billingAddress';
        await h({ include: [A], fieldsToResolve: [A] });
      }, [h, s]),
      S = async (A) => {
        if (v()) return !1;
        const R = d;
        let x = [...o];
        u.status === 'editing' &&
          f &&
          ((A.referenceId = f),
          (x = o.map((G) => (G.referenceId === A.referenceId ? A : G)))),
          u.status === 'adding' &&
            ((A.referenceId = `tmp://${Ee()}`), x.push(A)),
          l(A),
          await b();
        const M = !v();
        return M ? (y(A.referenceId), m(lt(A)), c(x)) : l(R), M;
      },
      v = () => Object.entries(n).some(([A, R]) => r.read(R).value !== void 0);
    return e(I, {
      children: [
        e(ns, {
          id: i,
          addressType: s,
          selectedId: f,
          onChange: (A) => {
            const R = k.get(A);
            R && (y(R.referenceId), m(lt(R)), l(R));
          },
          onEdit: _,
          choices: k,
          isExternalVault: !0,
        }),
        e(U, {
          padding: ['none', 'small100'],
          children: e(Gs, {
            addressType: s,
            onAddAction: E,
            onSave: S,
            combineViolationAndValidationErrors: !1,
            addressErrorsAtom: n,
          }),
        }),
      ],
    });
  };
function jp() {
  const s = D(),
    { negotiate: t } = ye(),
    { dispatch: n } = On(Fo),
    a = Zp(),
    i = zo(),
    r = s(
      'checkout_sdk.use_another_payment_method',
      'Use another payment method'
    );
  return z(
    () => ({
      label: r,
      onPress: async () => {
        n('addressReset'),
          a(),
          i(),
          await t({
            silenceViolations: ['non-stock'],
            onComplete() {
              n('reset');
            },
          });
      },
    }),
    [i, a, n, r, t]
  );
}
function Zp() {
  const s = $o(Bt),
    t = K(),
    n = Le(),
    a = te(t.shippingAddress),
    i = te(t.billingAddress),
    r = Uo(),
    o = Go();
  return C(() => {
    s(),
      (t.email.value = ''),
      n.write(t.shippingAddress, r(a)),
      n.write(t.billingAddress, r(i)),
      o();
  }, [s, n, t.email, t.shippingAddress, t.billingAddress, r, a, i, o]);
}
function Kp() {
  const { label: s, onPress: t } = jp(),
    { progressing: n } = ye(),
    a = C(() => {
      n || t?.();
    }, [n, t]);
  return e(ge, { to: void 0, onPress: a, children: s });
}
function Qp() {
  const s = D(),
    t = K(),
    [n] = T(t.shippingAddress),
    { hasViolations: a } = Pe(vt),
    i = Jp(),
    { hasViolations: r } = Pe(ds),
    [o, c] = T(Ye.addressModalState),
    d = C(() => {
      c({ status: 'editing', address: re(n) });
    }, [n, c]);
  let l;
  return (
    a
      ? (l = s(
          'customer_account.incomplete_address',
          {
            update_address_link: e(ge, {
              appearance: 'monochrome',
              onPress: d,
              children: s('shipping.address_update', 'Update address'),
            }),
          },
          'Selected address is incomplete. %{update_address_link} or select a different address.'
        ))
      : i
      ? (l = s(
          'customer_account.invalid_address',
          {
            update_address_link: e(ge, {
              appearance: 'monochrome',
              onPress: d,
              children: s('shipping.address_update', 'Update address'),
            }),
          },
          'Selected address is invalid. %{update_address_link} or select a different address.'
        ))
      : r &&
        (l = s(
          'shipping_errors.shipping_method_not_available_generic.one',
          "Your order cannot be shipped to the selected address. Review your address to ensure it's correct and try again, or select a different address."
        )),
    e(Ms, { message: l })
  );
}
const Jp = () => {
  const { hasViolations: s } = Pe(Tt);
  return s;
};
function Xp() {
  return e(Ys, { invalidAddressBanner: e(Qp, {}) });
}
const eh = {
  source: 'externalVault',
  features: {
    AddressForm: qs,
    PaymentMethodSelector: ki,
    VaultedContact: Gp,
    VaultedPayment: qp,
    DeliveryAddressEdit: Wp,
    MarketingDisclosure: je,
    CheckoutAsGuest: Kp,
    VaultedDeliveryAddress: Xp,
  },
};
function sh() {
  const s = is().geolocation.country.code,
    { addresses: t, mustSelectProvidedAddress: n } = Ns(),
    [a, i] = V(),
    [r, o] = V(t),
    [c, d] = T(Ye.addressModalState),
    l = a?.id && !t.find(({ id: v }) => v === a.id),
    p = r.length > t.length,
    m = Le(),
    u = ba(),
    { activeWalletSessionAtom: g } = us(),
    h = K(),
    [f, y] = T(h.shippingAddress),
    P = z(() => new Map(r.map(({ id: v, address: w }) => [v ?? Ee(), w])), [r]);
  B(() => {
    if (!a) {
      const v = r.find(({ address: w }) => Es(w, f, ['phone']));
      if (v) i(v);
      else {
        const w = { id: Ee(), address: { ...f, oneTimeUse: !1 } };
        o([...r, w]), i(w);
      }
    }
  }, [r, f, a]);
  const k = C(
      (v) => {
        const w = P.get(v);
        w &&
          (m.read(g).value ||
            (i({ id: v, address: w }), y(w), u?.dispatch?.('addressReplaced')));
      },
      [g, P, y, u, m]
    ),
    E = C(() => {
      const v = re({ countryCode: s, oneTimeUse: !1 });
      d({ status: 'adding', address: v });
    }, [s, d]),
    _ = C(() => {
      a?.id && d({ status: 'editing', address: re(a.address) });
    }, [a, d]),
    b = C(() => {
      if (!a?.id) return;
      const v = r.filter((w) => w.id !== a.id);
      o(v), i(v[0]), y(v[0].address), u?.dispatch?.('addressReplaced');
    }, [r, a?.id, y, u]),
    S = C(
      async (v) => {
        if (c.status === 'adding') {
          const w = { id: Ee(), address: v };
          o([...r, w]), i(w), y(w.address), u?.dispatch?.('addressReplaced');
        }
        if (c.status === 'editing' && a) {
          const w = { id: a.id, address: v },
            A = r.map((R) => (R.id === a.id ? w : R));
          o(A), i(w), y(v), u?.dispatch?.('addressReplaced');
        }
        return !0;
      },
      [c.status, r, a, y, u]
    );
  return e(I, {
    spacing: 'small200',
    children: [
      e(ns, {
        selectedId: a?.id,
        onChange: k,
        onEdit: l ? _ : void 0,
        onDelete: l ? b : void 0,
        choices: P,
      }),
      e(U, {
        padding: ['none', 'small100'],
        children: e(Gs, {
          addressType: 'shipping',
          onSave: S,
          onAddAction: E,
          showSavedAddressSelector: !1,
          showNewAddressButton: !n && !p,
          addressErrorsAtom: Ho,
        }),
      }),
    ],
  });
}
const th = {
  source: Bt,
  features: { DeliveryAddressEdit: sh, GiftCardRedemption: zs },
};
function nh({ onEdit: s, onDelete: t, onCancel: n }) {
  const a = D();
  return e(I, {
    spacing: 'small200',
    children: [
      s &&
        e(J, {
          kind: 'primary',
          onPress: s,
          children: a('shipping.address_edit', 'Edit address'),
        }),
      t &&
        e(J, {
          appearance: 'critical',
          kind: 'secondary',
          onPress: t,
          children: a('shipping.address_delete', 'Delete address'),
        }),
      e(U, {
        padding: 'base',
        inlineAlignment: 'center',
        children: e(J, {
          kind: 'plain',
          onPress: n,
          children: a('shipping.address_form.cancel', 'Cancel'),
        }),
      }),
    ],
  });
}
const Mi = 'addressSelector--';
function ah({
  addressErrorsAtom: s,
  addressPrimary: t,
  addressType: n = 'shipping',
  choices: a,
  id: i = '',
  onChange: r,
  onDelete: o,
  onEdit: c,
  selectedId: d = '',
}) {
  const l = D(),
    p = te(At),
    [m, u] = V(!1),
    [g, h] = V('idle'),
    [f, y] = V(d),
    P = Yn(),
    k = z(() => Array.from(a.entries()), [a]),
    E = n === 'shipping',
    { isLoading: _ } = oi(),
    [b, S] = V(!1),
    v = Wn(n),
    w = (N) => N === d,
    A = Cn(d, i),
    R = C(
      ([N]) => {
        S(!0);
        const $ = ih(N, i);
        r($);
      },
      [r, i]
    );
  B(() => {
    _ || S(!1);
  }, [_]);
  const x = C(() => {
      u(!1), h('idle'), y('');
    }, []),
    M = C((N) => {
      y(N), u(!0), h('context');
    }, []),
    G = C(() => {
      h('delete');
    }, []),
    se = C(() => {
      h('edit');
    }, []),
    de = C(async () => {
      h('deleting'), o?.(), P.current && x();
    }, [o, P, x]),
    ae = C(async (N) => c?.(f, N) ?? !1, [f, c]),
    ce = (() => {
      switch (g) {
        case 'context':
          return e(nh, { onEdit: se, onDelete: o ? G : void 0, onCancel: x });
        case 'edit':
          return e(I, {
            children: [
              p &&
                e(ls, {
                  status: 'critical',
                  children: e(Y, {
                    children: l(
                      'shipping.address_form.generic_error',
                      'There was a problem saving your address. Please try again.'
                    ),
                  }),
                }),
              e(Fs, {
                editableAddress: re(a.get(f)),
                addressType: n,
                onSave: ae,
                onSuccess: x,
                onCancel: x,
                addressErrorsAtom: s,
                combineViolationAndValidationErrors: !0,
              }),
            ],
          });
        case 'delete':
          return (
            o &&
            e(Ua, {
              state: g,
              description: l(
                'address_management.confirm_address_deletion',
                { address: v },
                'Are you sure you want to delete the address {{address}}?'
              ),
              onConfirm: de,
              onCancel: x,
            })
          );
        default:
          return null;
      }
    })(),
    fe = (() => {
      switch (g) {
        case 'edit':
          return l('shipping.address_edit', 'Edit address');
        case 'delete':
          return l('shipping.address_delete', 'Delete address');
        case 'context':
        default:
          return '';
      }
    })(),
    q = k.length === 1;
  return e(O, {
    children: [
      e(Is, {
        id: `${n}Address`,
        selectedItems: [A],
        onChange: R,
        hideRadioButton: q,
        children: k.map(([N, $]) =>
          e(
            oe,
            {
              columns: ['fill', 'auto'],
              blockAlignment: 'start',
              children: e(
                Ds,
                {
                  id: Cn(N, i),
                  children: [
                    e(oe, {
                      blockAlignment: 'center',
                      columns: ['fill', 'auto'],
                      children: [
                        e(I, {
                          spacing: 'small400',
                          children: e(Gt, {
                            nameLinePosition: 'inline',
                            address: $,
                            addressPrimary: t && t(N),
                          }),
                        }),
                        d === N && e(ws, { size: 'small', active: _ && b }),
                      ],
                    }),
                    w(N) &&
                      e(J, {
                        kind: 'plain',
                        id: 'action-sheet-trigger',
                        onPress: () => M(N),
                        accessibilityLabel: l(
                          E ? 'shipping.address_more' : 'billing.address_more',
                          'More actions for this address'
                        ),
                        children: e(Ae, {
                          source: 'verticalDots',
                          size: 'base',
                        }),
                      }),
                  ],
                },
                N
              ),
            },
            N
          )
        ),
      }),
      e(ts, { title: fe, open: m, onClose: x, children: ce }),
    ],
  });
}
function Cn(s, t = '') {
  return `${t}${Mi}${s}`;
}
function ih(s, t = '') {
  return s.replace(`${t}${Mi}`, '');
}
const vn = (s) => {
    const { referenceId: t, ...n } = s;
    return n;
  },
  rh = Et(new Map()),
  oh = Et(void 0),
  dh = xt(),
  ch = ({ id: s }) => {
    const t = s || 'shipping_address',
      n = is().geolocation.country.code,
      { value: a } = xs(),
      i = a?.shippingAddresses ?? [],
      [r, o] = T(K().shippingAddress),
      [c, d] = T(rh),
      [l, p] = T(Ye.addressModalState),
      [m, u] = T(oh);
    if (c.size === 0) {
      const E = Ee(),
        _ = { ...r, referenceId: E };
      d(
        (b) => (
          b.set(E, _),
          i?.forEach((S) => {
            const v = { ...S, referenceId: s };
            qo(v, r) || b.set(Ee(), v);
          }),
          b
        )
      ),
        u(E);
    }
    const g = (E) => {
        const _ = c.get(E);
        _ && (o(vn(_)), u(E));
      },
      h = () => {
        if (!m) return;
        d((_) => (_.delete(m), new Map(_)));
        const E = c.keys().next().value;
        if (E) {
          u(E);
          const _ = c.get(E);
          _ && o(vn(_));
        }
      },
      f = C(() => {
        const E = r;
        p({
          status: 'adding',
          address: re({
            firstName: E.firstName,
            lastName: E.lastName,
            countryCode: n ?? E.countryCode,
          }),
        });
      }, [r, p, n]),
      y = C(
        async (E, _) =>
          E
            ? (d((b) => (b.set(E, { ..._, referenceId: m }), new Map(b))),
              o(_),
              !0)
            : !1,
        [d, o, m]
      ),
      P = C(
        async (E) => {
          if (l.status === 'adding') {
            const _ = Ee();
            d((b) => (b.set(_, { ...E, referenceId: _ }), new Map(b))), u(_);
          }
          return o(E), !0;
        },
        [d, o, l, u]
      ),
      k = c.size > 1;
    return e(I, {
      children: [
        e(ah, {
          id: t,
          addressType: 'shipping',
          choices: c,
          selectedId: m,
          onChange: g,
          onEdit: y,
          onDelete: k ? h : void 0,
          addressErrorsAtom: dh,
        }),
        e(Gs, {
          addressType: 'shipping',
          onSave: P,
          onAddAction: f,
          showSavedAddressSelector: !1,
        }),
      ],
    });
  },
  lh = ({ emailAddress: s, phone: t }) => {
    const n = D(),
      [a, i] = V(!1),
      r = C(() => {
        i((d) => !d);
      }, []),
      { label: o, summary: c } = z(
        () =>
          t
            ? { label: n('contact.phone_label', 'Phone'), summary: t }
            : { label: n('contact.email_label', 'Email'), summary: s },
        [s, t, n]
      );
    return e(ie, {
      id: 'contact',
      open: a,
      label: o,
      summary: c,
      error: !s && !t,
      onToggle: r,
      children: e(Ba, { showEmailMarketingOptIn: !1 }),
    });
  },
  uh = {
    source: 'sdkCartHints',
    features: {
      AddressForm: qs,
      VaultedContact: lh,
      DeliveryAddressEdit: ch,
      MarketingDisclosure: je,
    },
  };
function ph({ renderInSection: s }) {
  const t = D(),
    n = e(O, {
      children: [
        e(W, { spacing: 'small100' }),
        e(Ce, { level: 2, children: t('tips.title', 'Add tip') }),
        e(W, {}),
        e(mc, {}),
      ],
    });
  return s
    ? e(as, {
        accessibilityLabel: t('tips.title', 'Add tip'),
        padding: Se.default(['base', 'large200']).when(
          { viewportInlineSize: { min: 'extraSmall' } },
          ['none', 'none', 'large200', 'none']
        ),
        children: n,
      })
    : e(U, { accessibilityLabel: t('tips.title', 'Add tip'), children: n });
}
const hh = 'bSo96',
  mh = { HeaderWrapper: hh };
function gh({ loginLink: s, title: t }) {
  return e('div', {
    className: mh.HeaderWrapper,
    children: [e(Ce, { level: 1, children: t }), s],
  });
}
function yh() {
  const s = D(),
    { showLoginLink: t, loginUrl: n } = Vs(),
    a = Bs('simulated');
  return t
    ? e(ge, {
        to: a ? void 0 : n,
        children: s('customer_account.sign_in_link_label', 'Log in'),
      })
    : null;
}
function fh({ showSmsMarketingOptIn: s }) {
  const t = D();
  return e(O, {
    children: [
      e(gh, {
        title: t('contact.contact_method_title', 'Contact'),
        loginLink: e(yh, {}),
      }),
      e(W, {}),
      e(Ba, { showSmsMarketingOptIn: s }),
    ],
  });
}
function Ii({ dynamicPaymentExtensions: s = [], children: t }) {
  const n = D(),
    a = Ht(),
    i = Os(),
    { BillingAddressSelector: r } = me(),
    [o] = gc();
  return z(() => Object.values(Ia).every((d) => o !== d), [o])
    ? e(I, {
        spacing: 'large300',
        children: [
          a === 'beforePayment' && !i
            ? e(I, {
                children: [
                  e(Ce, {
                    level: 2,
                    children: n(
                      'payment.billing_address_title',
                      'Billing address'
                    ),
                  }),
                  e(r, {}),
                ],
              })
            : null,
          t,
          a === 'afterPayment'
            ? e(O, {
                children: [
                  i
                    ? null
                    : e(I, {
                        children: [
                          e(Ce, {
                            level: 2,
                            children: n(
                              'payment.billing_address_title',
                              'Billing address'
                            ),
                          }),
                          e(r, {}),
                        ],
                      }),
                  e(ee, { extensions: s }),
                ],
              })
            : null,
        ],
      })
    : e(O, { children: t });
}
function _h({ showTips: s, billingFormPosition: t }) {
  const n = j('Checkout::Dynamic::Render', 'PAYMENT1'),
    a = j('Checkout::Dynamic::Render', 'PAYMENT2'),
    i = j('Checkout::Dynamic::Render', 'PAYMENT3'),
    r = j('Checkout::Dynamic::Render', 'PAYMENT4'),
    o = t === 'inContext' ? [[], n, a] : [a, n];
  return s
    ? (o.push(i), t === 'afterPayment' && o.push(r), o)
    : (t === 'afterPayment' && o.push(i), o);
}
function Ah(
  { clearReceiptErrorOnPaymentLineChange: s } = {
    clearReceiptErrorOnPaymentLineChange: !0,
  }
) {
  const { hasViolations: t } = be(
      new Set([...Da, 'PAYMENTS_PHONE_NUMBER_DOES_NOT_MATCH_EXPECTED_PATTERN'])
    ),
    { hasError: n, clearError: a } = ps(Nt),
    i = wa(),
    r = i.type === 'failed' && i.negotiationStage === 'completion',
    o = Ft();
  Yo(() => {
    s && a();
  });
  const c = n && !o;
  return {
    hasAnyPaymentError: t || c || r,
    errors: {
      hasExpiryViolation: t,
      hasReceiptPaymentFailure: n,
      hasReceiptPaymentError: c,
      hasSubmitCompletionFailure: r,
    },
    clearReceiptError: a,
  };
}
function bh({ openRedeemablesModal: s }) {
  const t = D(),
    n = Ha(),
    a = qa(n),
    i = Ya(),
    { canApplyGiftCards: r } = hs(),
    { value: o } = Wo(),
    c = o?.amount || 0,
    d = i.length === 0 && a;
  if ((!d && !r) || c === 0) return null;
  let l = '';
  return (
    r && d
      ? (l = t(
          'payment.gift_card_store_credit.add_label',
          'Add a gift card or store credit'
        ))
      : r
      ? (l = t('payment.gift_card_wrapper.add_label', 'Add a gift card'))
      : (l = t('payment.store_credit.add_label', 'Add store credit')),
    e(U, {
      padding: ['none', 'small100'],
      children: e(J, {
        onPress: s,
        kind: 'plain',
        textDecoration: 'none',
        children: e(ne, {
          spacing: 'small100',
          blockAlignment: 'center',
          children: [
            e(Ae, { source: 'plus', size: 'base', appearance: 'monochrome' }),
            e(Z, { children: l }),
          ],
        }),
      }),
    })
  );
}
function Ch({ openRedeemablesModal: s }) {
  const t = D(),
    n = Ya(),
    { paymentLines: a } = hs(),
    i = n.length > 0,
    r = a.length > 0,
    o = [...n, ...a];
  if (!o.length) return null;
  let c = '';
  return (
    r && i
      ? (c = t(
          'payment.gift_card_store_credit.manage_label',
          'Manage gift cards or store credit'
        ))
      : r
      ? (c = t('payment.gift_card_wrapper.manage_label', 'Manage gift cards'))
      : (c = t('payment.store_credit.manage_label', 'Manage store credit')),
    e(I, {
      spacing: 'none',
      children: [
        e(I, {
          spacing: 'small200',
          padding: 'small100',
          border: 'base',
          cornerRadius: ['base', 'base', 'none', 'none'],
          children: o.map((d) => e(vh, { paymentLine: d }, dt(d.method))),
        }),
        e(U, {
          inlineAlignment: 'start',
          padding: 'small200',
          border: ['none', 'base', 'base', 'base'],
          cornerRadius: ['none', 'none', 'base', 'base'],
          children: e(J, {
            onPress: s,
            kind: 'plain',
            textDecoration: 'none',
            children: e(ne, {
              spacing: 'small200',
              blockAlignment: 'center',
              children: [
                e(Ae, { source: 'pen', appearance: 'monochrome' }),
                e(Z, { children: c }),
              ],
            }),
          }),
        }),
      ],
    })
  );
}
function vh({ paymentLine: s }) {
  const t = D(),
    n = Ct();
  switch (s.method.redemptionSource) {
    case 'STORE_CREDIT':
      return e(oe, {
        children: [
          e(ne, {
            spacing: 'small100',
            blockAlignment: 'center',
            children: [
              e(Ve, { name: 'store_credit' }),
              e(Z, {
                children: t('payment.store_credit.label', 'Store credit'),
              }),
            ],
          }),
          e(Y, {
            inlineAlignment: 'end',
            emphasis: 'bold',
            children:
              s.cost &&
              n(s.cost.amount, {
                form: 'short',
                currency: s.cost.currencyCode,
              }),
          }),
        ],
      });
    case 'CUSTOM': {
      const a = s.method.redemptionContent,
        i = Ra(a);
      return e(oe, {
        columns: ['70%', '30%'],
        children: [
          e(ne, {
            spacing: 'small100',
            blockAlignment: 'center',
            children: [
              e(Ve, { name: 'gift_card' }),
              e(Z, {
                children: t(
                  'payment.gift_card_wrapper.gift_card_label',
                  { identifier: La(i) },
                  'Gift card %{identifier}'
                ),
              }),
            ],
          }),
          e(Y, {
            inlineAlignment: 'end',
            emphasis: 'bold',
            children:
              s.cost &&
              n(s.cost.amount, {
                form: 'short',
                currency: s.cost.currencyCode,
              }),
          }),
        ],
      });
    }
    default:
      return null;
  }
}
function Sh({ open: s, onClose: t }) {
  const n = D(),
    a = Ha(),
    i = qa(a),
    { canApplyGiftCards: r } = hs(),
    o = kt(),
    c = Ne(o);
  B(() => {
    c.current = o;
  }, [o]);
  let d = '';
  i && r
    ? (d = n(
        'payment.gift_card_store_credit.manage_label',
        'Manage gift cards or store credit'
      ))
    : r
    ? (d = n('payment.gift_card_wrapper.manage_label', 'Manage gift cards'))
    : (d = n('payment.store_credit.manage_label', 'Manage store credit'));
  const l = () => {
    (c.current || (!r && i)) && t();
  };
  return e(ts, {
    title: d,
    open: s,
    onClose: t,
    children: e(I, {
      children: [
        e(yc, {}),
        e(Ga, { afterAppliedRedeemablesChange: l }),
        e(zs, {
          afterAppliedRedeemablesChange: l,
          autoSelect: !0,
          showHeading: !1,
        }),
      ],
    }),
  });
}
function Ph({ bannerId: s, errorType: t, children: n, ...a }) {
  const i = Ta(),
    { status: r, ...o } = a;
  return (
    B(() => {
      i.error('[Displayed Error] Error banner was rendered', { bannerId: s });
    }, [s, i]),
    e(rs, { errorType: t, id: s, status: r, ...o, children: n })
  );
}
function Di() {
  const s = D(),
    t = wa(),
    { progressing: n } = ye(),
    [a] = jo(),
    i = Un(),
    { notSupportedError: r } = xc(),
    { hasViolations: o } = be(sd),
    { hasViolations: c } = be(Da),
    { hasViolations: d } = be(td),
    { hasViolations: l } = be(nd),
    { hasViolations: p } = be(ad),
    { violations: m } = be(id),
    u = m.size === 1 && m.values().next().value.code === 'PAYMENTS_METHOD',
    g = F({
      businessCustomer: !0,
      shopPay: i && t.type === 'success',
      default: !1,
    }),
    { hasViolations: h } = be(rd),
    f = Zo(),
    { message: y } = Nc(),
    { hasError: P, error: k } = ps(Nt, !0),
    { hasError: E } = Ko(),
    { hasError: _ } = Qo(),
    b = zt(k ? { type: 'payment', code: k } : void 0),
    [S] = Jo(),
    [v] = fc(),
    w = Mc(),
    A = Qa(),
    R = Ne(!1),
    x = Ft();
  if (n) return null;
  let M,
    G = 'critical';
  return (
    S && !Xo(v) && ((R.current = !0), (M = S)),
    f && ((R.current = !0), (M = f)),
    (w || (A && R.current)) &&
      (M = s(
        'payment.generic_incorrect_card_info',
        'Your payment details couldn’t be verified. Check your card details and try again.'
      )),
    P &&
      k &&
      b &&
      !R.current &&
      a !== 'GOOGLE_PAY' &&
      a !== 'APPLE_PAY' &&
      !x &&
      (M = b),
    t.type === 'failed' &&
      t.negotiationStage === 'completion' &&
      (t.fetchFailed
        ? (M = s(
            'order_errors.network_failure',
            "Your order couldn't be submitted because of a network error. Check your connection and try again."
          ))
        : t.reason === 'decision_rule_block'
        ? (M = s(
            'payment_errors.decision_rule_block',
            'There was an issue processing your payment. Please contact the store owner.'
          ))
        : (M = s(
            'order_errors.creation_failure',
            'There was an issue creating your order. Try again, or contact us for more details.'
          ))),
    _ &&
      !R.current &&
      (M = s(
        'order_errors.creation_failure',
        'There was an issue creating your order. Try again, or contact us for more details.'
      )),
    E &&
      !R.current &&
      (M = s(
        'order_errors.inventory_reservation_failure',
        'Some items are no longer available.'
      )),
    h &&
      (M = s(
        'store_credit_errors.generic_error',
        'There was a problem with your store credit. Try again or reload the page.'
      )),
    c &&
      (M = s(
        'payment.expired_payment_method',
        'Selected payment method has expired'
      )),
    (o || l) &&
      (M = s(
        'payment.generic_incorrect_card_info',
        'Your payment details couldn’t be verified. Check your card details and try again.'
      )),
    p &&
      (M = s(
        'payment_errors.method_not_available',
        'The requested payment method is not available. Choose another payment method and try again.'
      )),
    d &&
      (M = s(
        'payment_errors.generic_error',
        'There was an issue processing your payment. Try again or use a different payment method.'
      )),
    g &&
      u &&
      ((M = s(
        'payment_errors.available_methods_updated',
        'Available payment methods have been updated.'
      )),
      (G = 'info')),
    r && ((M = r), (G = 'critical')),
    y && (M = y),
    M
      ? e(Eh, { identifier: 'PaymentErrorBanner', status: G, children: M })
      : null
  );
}
function Eh({ children: s, identifier: t, status: n }) {
  const a = ed();
  return (
    B(() => {
      setTimeout(a);
    }, [a]),
    n === 'critical' || n === 'warning'
      ? e(Ph, {
          errorType: Ge.PaymentError,
          bannerId: t,
          status: n,
          children: s,
        })
      : e(ls, { status: n, children: s })
  );
}
function kh({ expandRollup: s }) {
  const t = es(),
    n = kt(),
    a = Ts();
  return t
    ? a
      ? e(ks, { vaulted: !0, reason: 'giftCard' })
      : n
      ? e(Sn, {})
      : e(I, {
          spacing: 'small200',
          children: [e(Sn, {}), e(Mh, { expandRollup: s })],
        })
    : e(ks, { vaulted: !0, reason: 'freeOrder' });
}
function Mh({ expandRollup: s }) {
  const t = F({
    shopPay: () => e(tu, { handleNoValidCards: () => s(!0) }),
    default: Ih,
  });
  return e(t, {});
}
function Ih() {
  const s = K().paymentLines.value,
    t = z(
      () =>
        s.filter(
          (n) => n.method.type !== 'giftCard' && n.method.type !== 'redeemable'
        )[0],
      [s]
    );
  return e(I, {
    spacing: 'small400',
    children: [e(od, { paymentLine: t }), e(_c, {})],
  });
}
function Sn() {
  const s = D(),
    t = Ct(),
    n = dd('STORE_CREDIT'),
    { paymentLines: a } = hs(),
    i = F({ shopPay: 'small200', default: 'base' }),
    r = [...n, ...a];
  if (!r.length) return null;
  const o = ' - ';
  return e(I, {
    spacing: 'small200',
    children: r.map((c) => {
      const d = c.cost
        ? e(Z, {
            children: [
              o,
              t(c.cost.amount, {
                currency: c.cost.currencyCode,
                form: 'short',
              }),
            ],
          })
        : null;
      switch (c.method.redemptionSource) {
        case 'STORE_CREDIT':
          return e(
            ne,
            {
              blockAlignment: 'center',
              spacing: i,
              children: [
                e(Ve, { name: 'store_credit' }),
                e(Y, {
                  children: [
                    s('payment.store_credit.label', 'Store credit'),
                    d,
                  ],
                }),
              ],
            },
            dt(c.method)
          );
        case 'CUSTOM': {
          const l = c.method.redemptionContent,
            p = Ra(l);
          return e(
            ne,
            {
              blockAlignment: 'center',
              spacing: i,
              children: [
                e(Ve, { name: 'gift_card' }),
                e(Y, {
                  children: [
                    s(
                      'payment.gift_card_wrapper.gift_card_label',
                      { identifier: La(p) },
                      'Gift card %{identifier}'
                    ),
                    d,
                  ],
                }),
              ],
            },
            dt(c.method)
          );
        }
        default:
          return null;
      }
    }),
  });
}
const Pn = (s) => e(He, { children: s });
function Dh({
  initiallyOpen: s,
  errorBanner: t,
  onToggle: n,
  alternativePaymentMethodComponent: a,
}) {
  const i = D(),
    r = Qa(),
    o = Ic(),
    {
      hasAnyPaymentError: c,
      errors: { hasReceiptPaymentFailure: d },
    } = Ah(),
    l = j('purchase.checkout.payment-method-list.render-before'),
    p = j('purchase.checkout.payment-method-list.render-after'),
    m = Rs([...l, ...p]),
    u = Hs([...l, ...p]),
    g = es(),
    h = Ts(),
    f = F({ businessCustomer: !1, default: !g || h }),
    { currentReturnSection: y } = We(),
    P = F({
      businessCustomer: !y || y === 'VaultedPayment',
      default: y === 'VaultedPayment',
    }),
    k = s || P;
  B(() => {
    s && _(s);
  }, [s]);
  const [E, _] = V(k);
  Wa();
  const b = K().paymentLines.value,
    S = Oa(),
    v = b.some(
      (H) => H.method.type === Ia.CreditCard && H.method.requiresCvvConfirmation
    ),
    w = C(() => {
      _((H) => {
        H && o();
        const Q = !H;
        return n?.(Q), Q;
      });
    }, [o, n]),
    A = e(kh, { expandRollup: _ }),
    x = t === void 0 ? c && e(U, { children: [e(Di, {}), e(W, {})] }) : t,
    {
      PaymentMethodSelector: M,
      PaymentErrorHandler: G,
      PurchaseOrderNumberField: se,
      PaymentAction: de,
    } = me(),
    { canApplyGiftCards: ae } = hs(),
    ce = F({ payPal: d || ae, googlePay: !1, default: !0 }),
    fe = F({ googlePay: !0, default: !1 });
  B(() => {
    r && _(!0);
  }, [E, _, r]);
  const [q, N] = V(!1),
    $ = f
      ? null
      : e(I, {
          spacing: 'base',
          children: [
            e(Ch, { openRedeemablesModal: () => N(!0) }),
            e(Ii, {
              children: [
                e(ee, { extensions: l, render: Pn }),
                e(M, {}),
                e(zs, {}),
                e(bh, { openRedeemablesModal: () => N(!0) }),
                e(Sh, { open: q, onClose: () => N(!1) }),
                a,
                e(ee, { extensions: p, render: Pn }),
                e(se, { showHeading: !1 }),
              ],
            }),
          ],
        });
  return (
    B(() => {
      m && _(!0);
    }, [m]),
    e(Xe, {
      target: 'cart.paymentLines[0]',
      children: [
        e(ie, {
          open: E,
          id: 'payment',
          label: i('payment.payment_method', 'Payment method'),
          summary: A,
          onToggle: ce ? w : void 0,
          error: x || v,
          disabled: u,
          action: fe ? e(de, {}) : void 0,
          renderChildrenWhenCollapsed: !0,
          children: $,
        }),
        S &&
          e(U, {
            padding: ['large100', 'none'],
            border: 'none',
            children: e(ja, {}),
          }),
        e(G, {}),
      ],
    })
  );
}
function wh() {
  return e(U, {
    padding: ['base', 'none'],
    children: e(He, {
      children: e(I, { spacing: 'small200', children: e(Fa, { heading: !1 }) }),
    }),
  });
}
function Rh({ errorBanner: s, onToggle: t } = {}) {
  const n = cd(),
    a = K(),
    i = te(a.billingAddress),
    r = os(i),
    o = D(),
    [c, d] = V(!1),
    l = Ne(!0),
    { hasViolations: p, clearViolations: m } = be(ld);
  B(() => {
    p && d(!0);
  }, [d, p]),
    B(() => {
      if (l.current) {
        l.current = !1;
        return;
      }
      m();
    }, [m, i]);
  const { BillingAddressEdit: u } = me(),
    g = C(() => {
      d((f) => {
        const y = !f;
        return t?.(y), y;
      });
    }, [t]),
    h =
      n && a.billingAddressOption.value === 'shipping'
        ? o('billing.same_as_shipping', 'Same as shipping address')
        : r;
  return e(ie, {
    id: 'billingAddress',
    label: o('billing.billing_address_title', 'Bill to'),
    open: c,
    onToggle: g,
    error: s ?? p,
    summary: h,
    children: e(u, { addressType: 'billing' }),
  });
}
const Lh = 'shipping';
function wi({ additionalFieldGroups: s, children: t, settings: n }) {
  const { shippingAddress: a } = K(),
    i = _a(),
    { AddressForm: r } = me();
  return e($t, {
    impressionType: 'delivery_address',
    impressionFeatures: [],
    children: e(r, {
      id: 'shippingAddressForm',
      addressType: Lh,
      address: a,
      countries: i,
      settings: n,
      addressErrors: ud,
      additionalFieldGroups: s,
      showSavedAddressSelector: !1,
      children: t,
    }),
  });
}
function Th(s) {
  const t = pd(),
    n = D(),
    { hasStorefront: a } = Be(),
    i = e(J, {
      size: 'base',
      onPress: s.onClose,
      children: n('stock.continue_cta_label', 'Continue checkout'),
    }),
    r =
      a &&
      e(J, {
        to: t.cart(),
        kind: 'plain',
        children: e(ne, {
          spacing: 'small200',
          blockAlignment: 'center',
          children: e(Z, {
            children: n('stock.return_to_store_label', 'Return to store'),
          }),
        }),
      });
  return e(Ot, {
    title: n('stock.price_update.title', 'Price update'),
    padding: !0,
    open: !0,
    onClose: s.onClose,
    size: 'large',
    accessibilityLabel: n('stock.price_update.title', 'Price update'),
    children: e(I, {
      spacing: 'loose',
      children: [
        e(Y, {
          children: n(
            'stock.price_update.description',
            'Prices for these items have changed and are updated in your cart.'
          ),
        }),
        e(U, {
          children: e(Fc, {
            loading: s.loading,
            lineItems: s.lineItems,
            type: hd.PriceChange,
          }),
        }),
        e(ne, {
          spacing: 'large300',
          blockAlignment: 'center',
          inlineAlignment: 'end',
          children: [r, i],
        }),
      ],
    }),
  });
}
function Oh() {
  const { hasViolations: s } = be(Sa),
    t = D(),
    n = s
      ? t(
          'shipping_errors.shipping_method_not_available_due_to_unsatisfied_conditions',
          'Items in the cart do not meet price or weight requirements to qualify for shipping. Update your cart and try again.'
        )
      : t(
          'shipping_errors.shipping_method_not_available_generic.one',
          "Your order cannot be shipped to the selected address. Review your address to ensure it's correct and try again, or select a different address."
        );
  return e(Xe, {
    target: 'cart.deliveryGroups[0].deliveryAddress',
    children: e(rs, {
      status: 'critical',
      title: t('shipping_errors.title', 'Shipping not available'),
      errorType: Ge.DeliveryError,
      children: n,
    }),
  });
}
const Vh = 'billing_address_selector',
  it = 'shipping_address',
  En = 'custom_billing_address';
function xh() {
  const s = D(),
    t = ca(),
    { billingAddressOption: n } = K(),
    a = n.value === 'shipping' ? it : En,
    [i, r] = V(a);
  B(() => {
    r(a);
  }, [a]);
  const o = (c) => {
    (n.value = c === it ? 'shipping' : 'custom'), r(c);
  };
  return (
    la(),
    e(O, {
      children:
        t === 'form'
          ? e(hn, {})
          : e(Dt, {
              name: Vh,
              value: i,
              onChange: o,
              variant: 'group',
              children: [
                e(Ss, {
                  id: it,
                  children: s(
                    'payment.same_billing_address_label',
                    'Same as shipping address'
                  ),
                }),
                e(Ss, {
                  id: En,
                  details: e(hn, {}),
                  children: s(
                    'payment.different_billing_address_label',
                    'Use a different billing address'
                  ),
                }),
              ],
            }),
    })
  );
}
const Nh = {
    Tips: ph,
    Rewards: le,
    MarketingDisclosure: le,
    CashRedemption: le,
    SubscriptionPolicy: le,
    PurchaseOptionsAgreement: tc,
    ContactForm: fh,
    VaultedContact: Ut,
    VaultedPayment: Dh,
    VaultedShippingMethods: qt,
    VaultedDeliveryAddress: Ys,
    VaultedBillingAddress: Rh,
    DeliveryAddressEdit: wi,
    PaymentMethodSelector: pi,
    GiftCardRedemption: le,
    PriceChangeModal: Th,
    BillingAddressEdit: Mt,
    PaymentMethods: hu,
    ReviewNotice: le,
    Captcha: Pc,
    PaymentErrorHandler: le,
    SignUpContact: le,
    InvalidShippingMethodBanner: Oh,
    VaultedDelivery: li,
    PurchaseOrderNumberField: le,
    NoticeBanners: le,
    VaultedPickupPoint: wh,
    StoreCreditRedemption: le,
    BillingAddressSelector: xh,
    MobileOrderSummary: vc,
    EditDetailsBlock: le,
    CheckoutAsGuest: le,
    AddressForm: Aa,
    Installments: le,
    DeliveryHeading: Si,
    BillingSection: le,
    PaymentAction: le,
  },
  Bh = {
    [Bt]: th,
    googlePay: Kc,
    shopPay: null,
    payPal: Eu,
    buyWithPrime: Vu,
    amazonPay: Ju,
    customerAccount: fp,
    businessCustomer: Mp,
    externalVault: eh,
    sdkCartHints: uh,
  };
function kn({ children: s }) {
  const [t] = Va(),
    n = z(() => ({ ...Nh, ...Bh[t]?.features }), [t]);
  return t === 'shopPay'
    ? e(_u, { children: s })
    : e(Ac.Provider, { value: n, children: s });
}
function Fh({
  filteredAvailableDeliveryAddresses: s,
  selectedAddressId: t,
  handleChange: n,
}) {
  const a = z(
      () => (s ? new Map(s.map((r) => [r.id, r.address])) : new Map()),
      [s]
    ),
    i = z(() => new Map(), []);
  return e(Qn.Provider, {
    value: !0,
    children: e(ns, {
      id: 'modal_shipping_address',
      addressType: 'shipping',
      selectedId: t,
      onChange: n,
      choices: i,
      ephemeralAddressChoices: a,
    }),
  });
}
function zh({ shippingAddress: s }) {
  const { nameLine: t, primary: n, secondary: a } = yt({ address: s }),
    i = `${t}, ${n}`;
  return e(U, {
    padding: 'large100',
    background: 'subdued',
    borderRadius: 'base',
    children: e(Z, {
      appearance: 'accent',
      children: [
        e(Y, { emphasis: 'bold', children: i }),
        e(Y, { children: a }),
      ],
    }),
  });
}
function $h() {
  const s = D(),
    t = K(),
    n = t.mustSelectProvidedAddress.value,
    a = t.availableDeliveryAddresses.value,
    [i] = Fn(),
    { setSelectedAddress: r, selectedAddress: o } = ri(),
    c = Ln(),
    d = c ? md(c) : !1,
    { recordImmediately: l } = Qe(),
    { name: p } = Be(),
    [m] = gd(),
    [u, g] = V(o?.id),
    h = z(
      () =>
        n ? a : a?.filter((M) => !i.find((G) => Es(G.address, M.address))),
      [i, a, n]
    ),
    f = z(() => i?.some((M) => (o ? Es(M.address, o.address) : !1)), [o, i]),
    y = h?.length === 0,
    P = a && a.length >= 1 && !y && !f,
    k = i?.length >= 1,
    E = !!(!n && P && k && !d),
    [_, b] = V(E);
  B(() => {
    _ &&
      l({
        schemaId: 'shopify_pay_payment_page_ui_impression/2.0',
        payload: {
          elementText:
            h?.length === 1 ? 'single_address' : 'multiple_addresses',
          elementType: 'shop_pay_merchant_set_address_modal',
          shopAccountUuid: m,
        },
      });
  }, [_]);
  const S = C(
      (M) => {
        l({
          schemaId: 'shopify_pay_payment_page_ui_interaction/1.1',
          payload: { action: M },
        });
      },
      [l]
    ),
    v = C(() => {
      S('shop_pay_proposed_address_modal_continue');
      const M = h?.find((G) => G.id === u);
      r(M, 'shipping_address'), b(!1);
    }, [h, u, r, S]),
    w = C(() => {
      S('shop_pay_proposed_address_modal_use_saved_address');
      const M = Gn(i);
      M && r(M, 'shipping_address'), b(!1);
    }, [r, i, S]),
    A = z(() => (h ? new Map(h.map((M) => [M.id, M])) : new Map()), [h]),
    R = C(
      (M) => {
        const G = A.get(M);
        g(G.id);
      },
      [A, g]
    ),
    x =
      h?.length === 1
        ? e(zh, { shippingAddress: h[0].address })
        : e(Fh, {
            filteredAvailableDeliveryAddresses: h,
            selectedAddressId: u,
            handleChange: R,
          });
  return e(Ot, {
    size: 'large',
    open: _,
    padding: !0,
    title: s('shop_pay.review_address_modal.title', 'Review address'),
    onClose: v,
    children: [
      e(O, {
        children: s(
          'shop_pay.review_address_modal.subtitle',
          { count: h?.length || 0, merchant: p },
          {
            one: 'This order will be shipped to the address provided by %{merchant}.',
            other:
              'This order will be shipped to an address provided by %{merchant}. Select a shipping address.',
          }
        ),
      }),
      e(W, { spacing: 'base' }),
      x,
      e(W, { spacing: 'large200' }),
      e(I, {
        spacing: 'small400',
        children: [
          e(J, {
            kind: 'primary',
            inlineSize: 'fill',
            onPress: v,
            children: s(
              'shop_pay.review_address_modal.continue',
              'Continue with this address'
            ),
          }),
          e(J, {
            kind: 'secondary',
            inlineSize: 'fill',
            onPress: w,
            children: s(
              'shop_pay.review_address_modal.use_saved_address',
              'Change address'
            ),
          }),
        ],
      }),
    ],
  });
}
const Uh = {
  title: 'Shop',
  style: { fill: 'var(--x-default-color-icon)', width: 44, height: 17 },
};
function Gh() {
  const t = D()('shop_pay_remember_me.secure_label', 'Secure and encrypted');
  return e(oe, {
    columns: ['fill', 'auto'],
    children: [
      e(oe, {
        columns: ['auto', 'fill'],
        spacing: 'small400',
        blockAlignment: 'center',
        children: [
          e(Ae, { size: 'extraSmall', source: 'lock' }),
          e(Y, { appearance: 'subdued', size: 'small', children: t }),
        ],
      }),
      e(U, { children: e(yd, { ...Uh }) }),
    ],
  });
}
function Hh() {
  const s = D();
  return e(I, {
    spacing: 'none',
    children: [
      e(W, { spacing: 'small100' }),
      e(Ce, {
        level: 2,
        children: s('shop_pay_remember_me.title', 'Remember me'),
      }),
      e(W, {}),
      e(Oe, { sectionId: 'rememberMe', children: e(Za, {}) }),
      e(W, { spacing: 'small100' }),
      e(Gh, {}),
    ],
  });
}
function qh() {
  const { acceptTipPayments: s } = Be(),
    t = ti(),
    { shopifyInstallments: n } = xa();
  Wa();
  const a = Ht(),
    i = Oa(),
    r = Na(),
    {
      Tips: o,
      PurchaseOrderNumberField: c,
      GiftCardRedemption: d,
      StoreCreditRedemption: l,
      Installments: p,
      PaymentMethodSelector: m,
    } = me(),
    { isOrderEditCheckout: u } = Fe(),
    g = r?.tippingPaymentAllowed ?? !0,
    h = !u && s && g,
    f = F({ shopPay: h && !n(), default: h }),
    y = _h({ showTips: f, billingFormPosition: a }),
    P = j('purchase.checkout.payment-method-list.render-before'),
    k = j('purchase.checkout.payment-method-list.render-after');
  return e(Xe, {
    target: 'cart.paymentLines[0]',
    children: e(I, {
      children: [
        e(Yh, {}),
        e(ee, { extensions: P }),
        e(Di, {}),
        e(l, {}),
        e(p, {}),
        e(I, {
          spacing: 'large400',
          children: [
            e(Ii, {
              dynamicPaymentExtensions: y.shift() || [],
              children: [
                e(m, {}),
                e(ee, { extensions: k }),
                e(ee, { extensions: y.shift() || [] }),
                e(d, {}),
              ],
            }),
            i && e(ja, {}),
            e(c, { showHeading: !1 }),
          ],
        }),
        f &&
          e(O, {
            children: [
              e(Oe, { sectionId: 'tips', children: e(o, {}) }),
              e(ee, { extensions: y.shift() || [] }),
            ],
          }),
        t && e(Hh, {}),
        e(ee, { extensions: y.flat() }),
      ],
    }),
  });
}
function Yh() {
  const s = D(),
    n = Os()
      ? `${s(
          'payment.billing_must_match_shipping_notice',
          'Your payment method’s billing address must match the shipping address.'
        )} `
      : '',
    a = s(
      'payment.card_security_notice',
      'All transactions are secure and encrypted.'
    );
  return e(I, {
    spacing: 'small400',
    children: [
      e(Ce, { level: 1, children: s('payment.title', 'Payment') }),
      e(Y, { appearance: 'subdued', children: n + a }),
    ],
  });
}
function Wh() {
  const s = D(),
    { availableDeliveryMethodsLoading: t, progressiveShippingRatesLoading: n } =
      yi(),
    a = t && !n,
    { selectedDeliveryMethod: i } = gi({
      onChange: () => {},
      prerequisitesLoading: t || a,
    }),
    r = i
      ? s(
          'order_summary.updated_shipping_method',
          { shipping_method: i.title },
          'Updated shipping method: %{shipping_method}'
        )
      : void 0;
  return (
    B(() => {
      if (r) return _d({ content: r });
    }, [r]),
    null
  );
}
function jh() {
  return fd('ONE_TIME_PURCHASE') ? e(Wh, {}) : null;
}
function Zh() {
  const { negotiate: s } = ye(),
    t = xs(),
    n = K(),
    a = te(n.shippingAddress),
    i = te(n.billingAddress),
    r = Ta(),
    { value: o = [] } = qn(),
    c = Ad(o),
    d = bd(o),
    { shippingRequired: l } = xe(),
    p = l ? a.countryCode : i.countryCode,
    m = t?.value?.countryCode,
    u = JSON.stringify(t?.value, (g, h) => (h === void 0 ? null : h));
  B(() => {
    c ||
      d ||
      (m &&
        p !== m &&
        (r.counter({ name: 'country_code_mismatch', value: 1 }),
        r.warn(
          '[EnsureBackAndFrontEndCountryCodeAlignment] There was a mismatch between the preselected and the buyerIdentity countryCode on checkout load.',
          {
            selectedCountryCode: p,
            buyerIdentityCountryCode: m,
            buyerIdentity: u,
          }
        ),
        s({ silenceViolations: ['all'], progression: !1 })));
  }, []);
}
function Kh({ showSmsMarketingOptIn: s = !1 }) {
  const t = j('Checkout::Contact::RenderAfter'),
    n = j('Checkout::Dynamic::Render', 'INFORMATION1'),
    a = j('Checkout::Dynamic::Render', 'INFORMATION2'),
    { ContactForm: i } = me();
  return e(O, {
    children: [
      n.length
        ? e(O, {
            children: [
              e(ee, { extensions: n, spacing: 'base' }),
              e(W, { spacing: 'large300' }),
            ],
          })
        : null,
      e($t, {
        impressionType: 'contact',
        impressionFeatures: [],
        children: [
          e(i, { showSmsMarketingOptIn: s }),
          t.length
            ? e(O, { children: [e(W, {}), e(ee, { extensions: t })] })
            : null,
          a.length
            ? e(O, {
                children: [
                  e(W, { spacing: 'large300' }),
                  e(ee, { extensions: a, spacing: 'large200' }),
                ],
              })
            : null,
        ],
      }),
    ],
  });
}
function Qh() {
  const s = D(),
    { setSelectedAddress: t, addresses: n } = bi('shipping'),
    a = C(() => {
      n.length > 0 && t(n[0]);
    }, [n, t]);
  return n.length > 0
    ? e(oe, {
        inlineAlignment: 'start',
        children: e(ge, {
          id: 'save_shipping_information',
          textDecoration: 'none',
          onPress: a,
          children: s(
            'customer_account.saved_address_option_link',
            'Use a saved address'
          ),
        }),
      })
    : null;
}
function Jh({ showSmsMarketingOptIn: s = !1 }) {
  return (
    ci(),
    e(I, {
      spacing: 'large300',
      children: [e(Wd, {}), e(Xh, { showSmsMarketingOptIn: s })],
    })
  );
}
const Mn = (s) => e(He, { children: s });
function Xh({ showSmsMarketingOptIn: s }) {
  const t = ht(),
    { method: n } = Zn(),
    a = D(),
    { activeWalletSessionAtom: i } = us(),
    { value: r } = ea(),
    o = Ls(),
    c = j('Checkout::DeliveryAddress::RenderBefore'),
    d = j('purchase.checkout.delivery-address.render-after'),
    { hasMultipleDeliveryGroups: l, onlyDeliveryGroupType: p } = ya(),
    { extensionsBefore: m, extensionsAfter: u } = fa({
      hasMultipleDeliveryGroups: l,
      targeted: !1,
    }),
    g = Rt(),
    h = ga(),
    { negotiate: f } = ye(),
    y = Le(),
    P = C(
      ({ shipping: _ }) => {
        y.read(i).value ||
          f({
            include: ['shippingAddress'],
            fieldsToResolve: ['deliveryNext'],
            silenceViolations: ['non-delivery-address'],
            runListenersOnError: !0,
          }),
          y.write(_, !0),
          g('sectionComplete', {
            section: 'deliveryAddress',
            timestamp: new Date(),
          }),
          h({ type: 'section_complete', section: 'deliveryAddress' });
      },
      [y, i, f, g, h]
    ),
    k = C(
      ({ shipping: _ }) => {
        y.write(_, !1);
      },
      [y]
    ),
    E = s ? e(za, {}) : null;
  switch (n) {
    case 'PICKUP_POINT':
      return e(O, {
        children: [
          e(Oe, { sectionId: 'pickupPoints', children: e(Fa, {}) }),
          E,
        ],
      });
    case 'PICK_UP':
      return e(O, {
        children: [e(Oe, { sectionId: 'localPickup', children: e(Kd, {}) }), E],
      });
    default:
      return e(Oe, {
        sectionId: 'shipping',
        children: [
          e(He, {
            accessibilityLabel: a(
              'delivery_options.shipping_address',
              'Shipping address'
            ),
            children: e(I, {
              spacing: 'base',
              children: [
                e(ee, { extensions: c }),
                e(I, {
                  spacing: 'large300',
                  children: [
                    e(Cd, {
                      children: e(jd, {
                        onValid: P,
                        onInvalid: k,
                        children: e(wi, {
                          children: [e(Qh, {}), e(Zd, {}), E],
                        }),
                      }),
                    }),
                    e(ee, { extensions: d }),
                    e(I, {
                      spacing: o ? 'small400' : 'base',
                      children: [
                        e(Ce, {
                          level: 2,
                          children: a(
                            'shipping.shipping_method_title',
                            'Shipping method'
                          ),
                        }),
                        e(vd, {
                          children: [
                            mt('shipping.shipping_method_notice', t)
                              ? e(Y, {
                                  children: a(
                                    'shipping.shipping_method_notice',
                                    ' '
                                  ),
                                })
                              : null,
                            e(ee, {
                              extensions: m,
                              options: {
                                groupType: p && Ps(p),
                                includeDeliverySelectionGroups: !1,
                              },
                              render: Mn,
                            }),
                            e(Sd, { children: [e(fi, {}), e(zc.Preload, {})] }),
                            e(ee, {
                              extensions: u,
                              options: {
                                groupType: p && Ps(p),
                                includeDeliverySelectionGroups: !1,
                              },
                              render: Mn,
                            }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
          }),
          r?.refuseDutiesPermitted &&
            e(He, {
              accessibilityLabel: a(
                'shipping.duties_and_taxes_title',
                'Duties and taxes'
              ),
              children: e(I, {
                spacing: 'base',
                children: [
                  e(Ce, {
                    level: 2,
                    children: a(
                      'shipping.duties_and_taxes_title',
                      'Duties and taxes'
                    ),
                  }),
                  e(ei, {}),
                ],
              }),
            }),
        ],
      });
  }
}
function em({ showSmsMarketingOptIn: s = !1 }) {
  const t = D(),
    n = Os(),
    { NoticeBanners: a, DeliveryHeading: i } = me(),
    r = j('Checkout::Dynamic::Render', 'DELIVERY1');
  return e(as, {
    children: e(I, {
      children: [
        e(I, {
          spacing: 'small400',
          children: [
            e(i, {}),
            n &&
              e(Y, {
                appearance: 'subdued',
                children: t(
                  'shipping.shipping_used_as_billing_notice',
                  'This will also be used as your billing address for this order.'
                ),
              }),
          ],
        }),
        e(a, { section: 'delivery' }),
        e(Xn, { children: e(Jh, { showSmsMarketingOptIn: s }) }),
        e(ee, { extensions: r }),
      ],
    }),
  });
}
function sm() {
  const s = K(),
    t = s.email.value,
    n = s.phone.value,
    a = D(),
    { isOrderEditCheckout: i } = Fe(),
    r = Qd(),
    [o, c] = V(!1),
    d = F({ customerAccount: t && typeof t == 'string' && r, default: !1 }),
    { VaultedContact: l } = me(),
    p = F({ businessCustomer: !1, shopPay: !1, default: !0 }),
    m =
      d &&
      e($c, {
        email: t,
        open: o,
        showPopover: (u) => {
          c(u);
        },
      });
  if (i && p) {
    const u = t || n;
    return e(O, {
      children: [
        e(ie, {
          id: 'contact',
          label: a('contact.contact_method_title', 'Contact'),
          summary: u ? e('p', { children: u }) : e(ke, {}),
        }),
        m,
      ],
    });
  }
  return e(O, { children: [e(l, { emailAddress: t }), m] });
}
const tm = 'ILN3z',
  bs = {
    DivideChildren: tm,
    'DivideChildren--no-initial-divider': 'TiyE2',
    'DivideChildren--no-final-divider': 'wyrwY',
    'DivideChildren--final-mobile-divider': '_8S1mj',
  };
function In({ hideLastDivider: s }) {
  const t = cs(),
    { negotiate: n } = ye(),
    { isOrderEditCheckout: a } = Fe(),
    { shippingRequired: i } = xe(),
    r = es(),
    { shippingRequired: o } = xe(),
    c = a && o,
    {
      VaultedPayment: d,
      ReviewNotice: l,
      VaultedDelivery: p,
      VaultedBillingAddress: m,
      EditDetailsBlock: u,
    } = me(),
    g = Ja(),
    h = wc(),
    f = F({ guest: !0, default: !1 }),
    y = F({ businessCustomer: t.payment, guest: !0, default: !1 }),
    P = F({ businessCustomer: !0, default: !1 }),
    k = t.delivery && (i || (c && a)),
    E = F({ businessCustomer: !i, default: !1 }),
    _ = St(),
    b = [
      ...(t.contact ? [e(sm, {}, 'contact')] : []),
      ...(k ? [e(p, {}, 'delivery')] : []),
      ...w(),
    ];
  if (
    (B(() => {
      b.length > 0 && n({ silenceViolations: ['all'] });
    }, []),
    b.length === 0)
  )
    return null;
  const S = !i && !r;
  return e(U, {
    ...(_
      ? {
          border: S ? 'none' : 'base',
          borderRadius: 'large',
          padding: S ? 'none' : ['small500', 'none', 'small500', 'base'],
        }
      : {}),
    children: [
      h ? e(Rc, {}) : null,
      h
        ? e(Pd, { above: 'small', children: e(W, { spacing: 'large100' }) })
        : null,
      g && e(l, {}),
      e('div', {
        className: ft({
          [bs.DivideChildren]: !_,
          [bs['DivideChildren--no-final-divider']]: s || y === !0,
          [bs['DivideChildren--no-initial-divider']]: f,
          [bs['DivideChildren--final-mobile-divider']]: P,
        }),
        children: b,
      }),
    ],
  });
  function w() {
    if (a) return t.payment ? [e(d, {}, 'payment')] : [];
    const A = [];
    return (
      E && A.push(e(m, {}, 'businessCustomerBilling')),
      t.payment &&
        (A.push(e(d, {}, 'payment')),
        t.billing && !E && A.push(e(m, {}, 'billingAddress'))),
      _ && A.push(e(u, {})),
      A
    );
  }
}
function nm(
  { includeContactAfterExtensions: s } = { includeContactAfterExtensions: !1 }
) {
  const t = cs(),
    n = j('Checkout::Contact::RenderAfter'),
    a = j('Checkout::Dynamic::Render', 'INFORMATION1'),
    i = j('Checkout::Dynamic::Render', 'INFORMATION2'),
    r = j('Checkout::Dynamic::Render', 'DELIVERY1'),
    o = j('Checkout::Dynamic::Render', 'DELIVERY2'),
    c = j('Checkout::Dynamic::Render', 'PAYMENT1'),
    d = j('Checkout::Dynamic::Render', 'PAYMENT2');
  return z(() => {
    let l = [];
    return (
      t.contact && (l = [...(s ? n : []), ...a, ...i]),
      t.delivery && (l = [...l, ...r, ...o]),
      t.payment && (l = [...l, ...c, ...d]),
      l
    );
  }, [t, s, n, a, i, r, o, c, d]);
}
const am = '_9QNMB',
  im = 'rTLEi',
  Dn = { MaybeExtensionsSection: am, RuntimeExtensionsContainer: im };
function rm({ children: s }) {
  const t = F({ shopPay: !0, default: !1 }),
    n = Bs('simulated'),
    { searchParams: a } = Ed(),
    i = n && !!a.get('shop_pay_sim');
  return i || t
    ? e(kn, { children: e(Uc, { simulated: i, children: [s, e(ut, {})] }) })
    : e(kn, { children: [s, e(ut, {})] });
}
function ut() {
  const s = K().email.value,
    { progress: t } = ye(),
    { shippingRequired: n } = xe(),
    a = es(),
    i = cs(),
    [r] = Va(),
    o = kd(),
    c = bc(),
    { postPurchaseEnabled: d } = Md(),
    l = D(),
    p = Id(),
    m = Dd(),
    u = wd(),
    { shopifyInstallments: g } = xa(),
    { isOrderEditCheckout: h } = Fe(),
    { currentDetour: f } = Rd(),
    y = Cs(Hd),
    {
      acceptTipPayments: P,
      merchantPolicies: k,
      emailMarketing: E,
      smsMarketing: _,
    } = Be(),
    b = Ld(),
    S = Rt(),
    { setChatHideTriggerNode: v } = Td(),
    w = Ja(),
    A = E !== 'OFF',
    R = Od(),
    x = ti(),
    M = St(),
    G = Na(),
    { value: se } = xs(),
    de = Cs(qd),
    ae = b.hasViolation && b.lineItems.length > 0,
    ce = M && !a && !n;
  Zh(),
    B(() => {
      ae &&
        S('inventoryPriceChange', {
          element: { tagName: 'modal' },
          timestamp: new Date(),
          visible: !0,
        });
    }, [ae, S]);
  const fe = C(() => {
      b.updateProposal();
    }, [b]),
    q = te(K().localizationExtensions),
    N = q.length > 0,
    $ = k?.find((Me) => Me.handle === 'subscription-policy'),
    H = ot({ base: !0, medium: !1 }),
    Q = Se.default('block').when(
      { viewportInlineSize: { min: 'medium' } },
      'none'
    ),
    ue = Se.default('none').when(
      { viewportInlineSize: { min: 'medium' } },
      'block'
    ),
    L = ot({ base: !1, small: !0 }),
    X = Se.default('none').when(
      { viewportInlineSize: { min: 'small' } },
      'block'
    ),
    pe = Vd(),
    ve = F({
      guest: pe,
      customerAccount: pe,
      sdkCartHints: pe,
      externalVault: pe,
      default: !1,
    }),
    gs = G?.tippingPaymentAllowed ?? !0,
    jt = i.payment && P && gs,
    Zt = F({ shopPay: jt && !g() && !M, default: jt }),
    Li = $ != null,
    Ti = z(
      () =>
        y && f?.type === 'thankYou'
          ? 'Checkout::ThankYou::Dynamic::Render'
          : 'Checkout::Dynamic::Render',
      [f?.type, y]
    ),
    Oi = j(Ti, 'ORDER_SUMMARY4'),
    Kt = j('Checkout::Contact::RenderAfter'),
    Qt = F({ shopPay: p && !!(H && !L), default: !1 }),
    Vi = F({ shopPay: A, default: A && i.contact }),
    xi = F({ shopPay: $h, default: O }),
    Ni = de && !xd(se?.countryCode),
    Jt = F({
      businessCustomer: !1,
      sdkCartHints: !!(A && i.contact && s),
      default: Vi && !Ni && !h,
    }),
    Xt = F({
      shopPay: 'belowPayment',
      default: i.payment ? 'belowPayment' : 'abovePayment',
    });
  let ys = F({ shopPay: !1, businessCustomer: !1, default: _ !== 'OFF' });
  G && !G.smsMarketingEnabled && (ys = !1);
  const Zs = n && !i.delivery ? 'delivery' : i.contact ? 'root' : 'contact',
    Bi = F({ shopPay: !i.payment, default: !1 }),
    en = Jt && Xt === 'belowPayment',
    Fi = Jt && Xt === 'abovePayment',
    sn = en && !H,
    tn = en && H,
    Ks = !h && Fi && !u?.acceptsEmailMarketing,
    Qs = !h && ys && Zs === 'root' && !u?.acceptsSmsMarketing,
    nn = F({ shopPay: O, sdkCartHints: O, default: as }),
    Js = F({ guest: i.delivery, default: !1 }),
    zi = Js && !(i.contact && i.payment),
    Xs =
      i.contact &&
      !(i.delivery && i.payment) &&
      Kt.length > 0 &&
      (Ks || Qs || H)
        ? Kt
        : void 0,
    $i = nm({ includeContactAfterExtensions: Xs === void 0 }),
    Ui = !!m.value,
    {
      Tips: an,
      Rewards: Gi,
      CashRedemption: Hi,
      SubscriptionPolicy: qi,
      PriceChangeModal: Yi,
      Captcha: Wi,
      MarketingDisclosure: et,
      BillingSection: rn,
      SignUpContact: ji,
      PurchaseOptionsAgreement: Zi,
      MobileOrderSummary: Ki,
      CheckoutAsGuest: on,
    } = me(),
    dn = Nd().isPartner(),
    { reset: Qi } = We(),
    { walletPaymentMethods: Ji } = us(),
    Xi = Jd(Ji),
    er = Cs(Pa);
  Bd((Me) => {
    Me.type === 'success' && Me.nextPage?.id === 'review' && Qi();
  });
  const sr = C(
      (Me) => {
        v(H && Me ? Me : null);
      },
      [H, v]
    ),
    {
      main: { section: tr },
    } = Fd(),
    Te = zd(tr),
    nr = ce ? 'none' : ['none', 'large200', 'large200', 'large200'];
  return e(O, {
    children: [
      e(I, {
        spacing: Se.default('none').when(
          { viewportInlineSize: { min: 'extraSmall' } },
          'large200'
        ),
        children: [
          h
            ? e(I, {
                padding: Se.default([
                  'large200',
                  'large200',
                  'none',
                  'large200',
                ]).when({ viewportInlineSize: { min: 'extraSmall' } }, 'none'),
                children: e($d, {}),
              })
            : null,
          e(Vt, { section: 'top' }),
          e(
            Ma,
            {
              onSubmit: () => t(void 0, { skipToCompletion: w }),
              children: [
                e('div', {
                  ref: Xi,
                  children: e(vs, {
                    condition: !Te,
                    hideDivider: M,
                    padding: M ? nr : void 0,
                    children: [
                      ve &&
                        e(O, {
                          children: [
                            e(vs, {
                              condition: Te,
                              hideDivider: !0,
                              padding: Qt
                                ? ['none', 'large200', 'large200', 'large200']
                                : void 0,
                              children: e(I, {
                                spacing: 'none',
                                children: e(Oe, {
                                  sectionId: 'expressCheckout',
                                  children: e($e, {
                                    section: 'expressCheckout',
                                    children: e(Xd, {}),
                                  }),
                                }),
                              }),
                            }),
                            e(ec, {}),
                          ],
                        }),
                      e(vs, {
                        condition: Te,
                        padding:
                          !ve && Qt
                            ? ['none', 'large200', 'large200', 'large200']
                            : void 0,
                        children: e(I, {
                          spacing: 'none',
                          children: [
                            !i.contact &&
                              e(_s, {
                                section: 'contact',
                                children: e($e, {
                                  section: 'contact',
                                  children: e(Kh, {
                                    showSmsMarketingOptIn:
                                      !h && ys && Zs === 'contact',
                                  }),
                                }),
                              }),
                            !Js && e(In, { hideLastDivider: Te }),
                            R &&
                              x &&
                              e(O, {
                                children: [
                                  e(W, { spacing: 'small100' }),
                                  e(Za, {}),
                                ],
                              }),
                            tn &&
                              !Te &&
                              e(nn, {
                                children: e(et, { renderAsVaulted: !0 }),
                              }),
                            !Te &&
                              e($e, {
                                section: 'contact',
                                children: e(pt, {
                                  renderAsVaulted: !0,
                                  showMarketingDisclosure: Ks,
                                  showSmsMarketingOptIn: Qs,
                                  afterContactExtensions: Xs,
                                }),
                              }),
                            e(U, {
                              display: Q,
                              children: e(rn, {
                                children: e(W, { spacing: 'small100' }),
                              }),
                            }),
                          ],
                        }),
                      }),
                    ],
                  }),
                }),
                e(ji, {}),
                Te &&
                  e($e, {
                    section: 'contact',
                    children: e(pt, {
                      showMarketingDisclosure: Ks,
                      showSmsMarketingOptIn: Qs,
                      afterContactExtensions: Xs,
                    }),
                  }),
                e(Ri, { extensions: $i }),
                zi &&
                  n &&
                  e(Sc, {
                    condition: Js,
                    accessibilityLabel: l(
                      'shipping.delivery_title',
                      'Delivery'
                    ),
                    children: e(In, { hideLastDivider: Te }),
                  }),
                !i.delivery &&
                  n &&
                  e(Xe, {
                    target: 'cart.deliveryGroups[0].deliveryAddress',
                    children: e(_s, {
                      section: 'delivery',
                      children: e($e, {
                        section: 'delivery',
                        children: e(Oe, {
                          sectionId: 'delivery',
                          children: e(em, {
                            showSmsMarketingOptIn:
                              !h && ys && Zs === 'delivery',
                          }),
                        }),
                      }),
                    }),
                  }),
                e(tt, {
                  min: 'medium',
                  accessibilityLabel: l('payment.title', 'Payment'),
                  hideDivider: !0,
                  children: [
                    !i.payment &&
                      e(_s, {
                        section: 'payment',
                        children: e($e, {
                          section: 'payment',
                          children: e(tt, {
                            max: 'medium',
                            accessibilityLabel: l('payment.title', 'Payment'),
                            children: e(qh, {}),
                          }),
                        }),
                      }),
                    e(Hi, { source: ai.Root, vaultedMethods: i.payment }),
                    N &&
                      e(as, {
                        accessibilityLabel: l(
                          'localized_fields.additional_information.title',
                          'Additional information'
                        ),
                        children: e(I, {
                          padding: H
                            ? 'none'
                            : ['large400', 'none', 'none', 'none'],
                          children: [
                            e(Ce, {
                              level: 2,
                              children: l(
                                'localized_fields.additional_information.title',
                                'Additional information'
                              ),
                            }),
                            q.map((Me, ar) =>
                              e(
                                Cc,
                                { localizationExtension: Me, index: ar },
                                Me.key
                              )
                            ),
                          ],
                        }),
                      }),
                    tn && Te && e(nn, { children: e(et, {}) }),
                    !h &&
                      Zt &&
                      e(U, {
                        display: Q,
                        children: e(Oe, {
                          sectionId: 'tips',
                          children: e(an, { renderInSection: H }),
                        }),
                      }),
                    e(_s, {
                      section: 'summary',
                      children: e($e, {
                        section: 'summary',
                        children: e('div', {
                          ref: sr,
                          children: [
                            e(tt, {
                              max: 'medium',
                              hideDivider: !0,
                              padding: M
                                ? ['none', 'large200', 'none', 'large200']
                                : void 0,
                              children: [
                                e(Ki, {}),
                                e(I, {
                                  spacing: 'large400',
                                  children: [
                                    e(I, {
                                      spacing: 'base',
                                      children: [
                                        sn &&
                                          Bi &&
                                          e(I, {
                                            spacing: 'none',
                                            children: [
                                              e(W, { spacing: 'base' }),
                                              e(Ud, {}),
                                            ],
                                          }),
                                        sn && e(et, {}),
                                        !h &&
                                          Zt &&
                                          e(U, {
                                            display: ue,
                                            children: e(Oe, {
                                              sectionId: 'tips',
                                              children: e(an, {}),
                                            }),
                                          }),
                                        Ui &&
                                          e(I, {
                                            padding: H
                                              ? 'none'
                                              : [
                                                  'large400',
                                                  'none',
                                                  'none',
                                                  'none',
                                                ],
                                            children: e(nc, {
                                              textProps: {
                                                appearance: 'subdued',
                                                size: 'small',
                                              },
                                            }),
                                          }),
                                        e(U, {
                                          display: ue,
                                          children: e(rn, {}),
                                        }),
                                      ],
                                    }),
                                    e(I, {
                                      spacing: 'large200',
                                      children: [
                                        o && e(Zi, {}),
                                        c && e(Wi, {}),
                                        e(Lc, {}),
                                        Li && e(qi, { policy: $ }),
                                        H &&
                                          e(ee, {
                                            extensions: Oi,
                                            spacing: 'large200',
                                          }),
                                      ],
                                    }),
                                  ],
                                }),
                                e(Gi, {}),
                                !dn &&
                                  e(O, {
                                    children: [
                                      !M && e(W, { spacing: 'large100' }),
                                      e(U, {
                                        inlineAlignment: 'center',
                                        children: e(on, {}),
                                      }),
                                      !M &&
                                        e(U, {
                                          display: X,
                                          children: e(W, { spacing: 'base' }),
                                        }),
                                    ],
                                  }),
                              ],
                            }),
                            dn &&
                              e(O, {
                                children: [
                                  e(W, { spacing: 'large100' }),
                                  e(U, {
                                    inlineAlignment: 'center',
                                    children: e(on, {}),
                                  }),
                                  e(W, { spacing: 'base' }),
                                ],
                              }),
                          ],
                        }),
                      }),
                    }),
                  ],
                }),
              ],
            },
            r
          ),
          d && e(Gd, {}),
        ],
      }),
      ae && e(Yi, { loading: b.loading, lineItems: b.lineItems, onClose: fe }),
      n && e(jh, {}),
      er && e(xi, {}),
      e(sc, { id: 'OnePage' }),
    ],
  });
}
function pt({
  showMarketingDisclosure: s,
  showSmsMarketingOptIn: t,
  afterContactExtensions: n,
  renderAsVaulted: a,
}) {
  const { MarketingDisclosure: i } = me();
  return !s && !t && !n
    ? null
    : e(Xe, {
        target: 'cart.buyerIdentity',
        children: e(vs, {
          condition: !a,
          children: e(I, {
            spacing: a ? 'base' : void 0,
            padding: a ? ['base', 'none', 'none', 'none'] : void 0,
            children: [
              (s || t) &&
                e(I, {
                  spacing: s && t ? 'base' : 'none',
                  children: [s && e(i, {}), t && e(za, {})],
                }),
              n && e(ee, { extensions: n }),
            ],
          }),
        }),
      });
}
function Ri({ extensions: s }) {
  return e('div', {
    className: Dn.MaybeExtensionsSection,
    children: e(as, {
      children: e('div', {
        id: Dn.RuntimeExtensionsContainer,
        children: e(ee, { spacing: 'base', extensions: s }),
      }),
    }),
  });
}
const qm = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      OnePageContent: ut,
      PartialVaultedMarketingConsentMarkup: pt,
      VaultedExtensionsSection: Ri,
      default: rm,
    },
    Symbol.toStringTag,
    { value: 'Module' }
  )
);
export {
  ns as A,
  Ah as B,
  ai as C,
  Oh as D,
  Fm as E,
  Dh as F,
  Di as G,
  Rh as H,
  Um as I,
  fu as J,
  Bu as K,
  qt as L,
  ll as M,
  Ys as N,
  Nh as O,
  $m as P,
  wm as Q,
  le as R,
  Gm as S,
  Ut as T,
  Hm as U,
  ju as V,
  qm as W,
  Rm as a,
  ms as b,
  Tm as c,
  Vm as d,
  Nm as e,
  xm as f,
  Qc as g,
  ri as h,
  Bm as i,
  vl as j,
  Gt as k,
  Om as l,
  Gs as m,
  jl as n,
  li as o,
  Ql as p,
  cl as q,
  Lm as r,
  ui as s,
  zm as t,
  ii as u,
  pi as v,
  je as w,
  gh as x,
  Ms as y,
  tu as z,
};
