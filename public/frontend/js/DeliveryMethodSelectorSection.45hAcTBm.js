const __vite__mapDeps = (
  i,
  m = __vite__mapDeps,
  d = m.f ||
    (m.f = [
      'component-ShopPayVerificationSwitch.BssOwqND.js',
      'app.YFeVIJ1k.js',
      'assets/app.whj6cDzT.css',
      'publishMessage.C2H334tF.js',
      'useUnauthenticatedErrorModal.Dgap6hbC.js',
      'index.lnCcFIPd.js',
      'LegacyVaultedShippingMethods.DGTCZkTx.js',
      'Rollup.D_DVU1MA.js',
      'assets/Rollup.o9Mx-fKL.css',
      'SubscriptionPriceBreakdown.GhzR2flD.js',
      'assets/SubscriptionPriceBreakdown.Bqs0s4oM.css',
      'MarketsProDisclaimer.BPp3T8HM.js',
      'ShopPayLogo.qW-3ANH5.js',
      'assets/ShopPayLogo.D_HPU8Dh.css',
      'index.DcTYqCBo.js',
      'PickupPointCarrierLogo.BqXvsPcc.js',
      'assets/PickupPointCarrierLogo.C0wRU6wV.css',
      'hooks.aHDY8Amc.js',
      'assets/ShopPayVerificationSwitch.DVQdwG9J.css',
      'component-GooglePayButton.CoXCxGsp.js',
      'useGooglePaySdk.C0yKvhOd.js',
      'assets/GooglePayButton.C9QQ9NQG.css',
      'component-FacebookPayButton.kfKbptd5.js',
      'assets/FacebookPayButton.CTYBjZ8U.css',
    ])
) => i.map((i) => d[i]);
import {
  m as ee,
  at as U,
  c0 as ce,
  e as L,
  Z as Oe,
  cx as Ve,
  cB as on,
  T as H,
  c as ue,
  aO as Q,
  ji as en,
  jZ as Ge,
  q as N,
  y as O,
  a as e,
  j_ as Lt,
  d as J,
  J as ye,
  fc as Be,
  l as ve,
  aj as Re,
  k as an,
  c5 as It,
  cg as wt,
  jp as Vn,
  bP as le,
  a8 as $,
  jq as Te,
  az as B,
  cM as Mt,
  p as pe,
  fA as Tt,
  j$ as sn,
  o as Ce,
  k0 as Nt,
  k1 as xt,
  k2 as Dt,
  k3 as _n,
  k4 as Ne,
  k5 as Ot,
  k6 as Vt,
  V as j,
  jr as bn,
  bT as Bt,
  jj as ze,
  an as Rt,
  k7 as zt,
  k8 as we,
  cN as Bn,
  k9 as Ft,
  il as Wt,
  n as Rn,
  N as rn,
  eP as Ht,
  ka as Ut,
  u as cn,
  i6 as qt,
  em as ln,
  kb as $t,
  hp as Gt,
  hu as Yt,
  A as oe,
  h as x,
  cD as zn,
  a9 as de,
  aB as X,
  bH as dn,
  bI as un,
  _ as pn,
  eD as Fn,
  kc as jt,
  cA as Kt,
  cE as Jt,
  ak as Zt,
  bS as Qt,
  dw as Xt,
  bc as eo,
  bs as no,
  je as Fe,
  kd as to,
  ke as oo,
  I as me,
  aa as K,
  ab as Z,
  kf as Pn,
  fR as ao,
  kg as so,
  kh as We,
  cy as io,
  aN as hn,
  cC as vn,
  c7 as ke,
  c8 as ro,
  dm as Se,
  fL as mn,
  ki as co,
  kj as lo,
  Q as Cn,
  fY as uo,
  eQ as po,
  e_ as he,
  aM as Ee,
  r as gn,
  kk as ho,
  kl as mo,
  ae as ne,
  km as Wn,
  hJ as go,
  iF as Hn,
  iG as fo,
  g6 as Un,
  kn as yo,
  bB as ko,
  ga as _o,
  g3 as Ye,
  ko as bo,
  gb as nn,
  ad as Po,
  ac as je,
  v as Ae,
  bm as vo,
  kp as Co,
  kq as So,
  kr as Eo,
  ks as Ao,
  aG as He,
  bt as qn,
  w as Lo,
  eW as Io,
  h9 as wo,
  kt as Mo,
  ku as To,
  kv as No,
  kw as xo,
  kx as Do,
  ky as Oo,
  j as Vo,
  kz as Bo,
  ax as Ro,
  bR as zo,
  C as Fo,
  kA as Wo,
  fQ as Ho,
  cs as $n,
  cc as ge,
  kB as Uo,
  ce as fe,
  a7 as qo,
  kC as $o,
  kD as Go,
  aK as Yo,
  D as Ue,
  E as be,
  kE as jo,
  aI as xe,
  kF as Ko,
  ei as Jo,
  d9 as Zo,
  bM as Sn,
  dg as Gn,
  jI as Yn,
  da as Qo,
  ej as Xo,
  dZ as qe,
  d7 as ea,
  dS as Le,
  kG as na,
  kH as ta,
  kI as ie,
  b1 as jn,
  d_ as Kn,
  aQ as Jn,
  dp as Zn,
  dn as Qn,
  c2 as Xn,
  kJ as De,
  hd as oa,
  kK as et,
  gK as aa,
  kL as nt,
  cR as tn,
  fw as tt,
  kM as $e,
  kN as ot,
  kO as at,
  jk as st,
  aA as it,
  cP as rt,
  av as fn,
  c1 as ct,
  aW as lt,
  fm as En,
  ay as yn,
  a3 as dt,
  a4 as ut,
  kP as pt,
  S as _e,
  d4 as sa,
  bj as ia,
  kQ as ra,
  kR as ca,
  kS as la,
  fy as da,
  kT as ua,
  by as kn,
  fH as pa,
  d3 as ha,
  du as ma,
  bl as ga,
  ig as fa,
  kU as ya,
  bh as ka,
  di as _a,
  bO as ba,
  cZ as Pa,
  kV as va,
  d$ as Ca,
  fG as Sa,
} from './app.js';
import { u as Ea, b as Aa } from './useUnauthenticatedErrorModal.Dgap6hbC.js';
import { u as ht } from './LegacyVaultedShippingMethods.DGTCZkTx.js';
import { b as mt, P as La, a as gt } from './MarketsProDisclaimer.BPp3T8HM.js';
import { S as Ia } from './ShopPayLogo.qW-3ANH5.js';
import { u as wa } from './index.DcTYqCBo.js';
import {
  i as Ma,
  M as Ta,
  c as Na,
  a as xa,
  m as Da,
  P as Oa,
} from './PickupPointCarrierLogo.BqXvsPcc.js';
import { u as Va } from './hooks.aHDY8Amc.js';
var Pe = ((n) => (
    (n.C1InlineModal = 'c1_inline_modal'),
    (n.C1Modal = 'c1_modal'),
    (n.C1ModalShopPay = 'c1_modal_shop_pay'),
    (n.C1ModalShopPaySignIn = 'c1_modal_shop_pay_sign_in'),
    (n.PaymentRequest = 'payment_request'),
    n
  ))(Pe || {}),
  Me = ((n) => (
    (n.LoginLink = 'login_link'),
    (n.ErrorBannerConfirm = 'error_banner_confirm'),
    (n.ErrorModalClearEmail = 'error_modal_clear_email'),
    (n.ErrorModalContinue = 'error_modal_continue'),
    n
  ))(Me || {});
function Ba() {
  const n = ee(),
    { shippingAddress: t } = U(),
    a = ce(t.fields.countryCode),
    o = L(),
    c = Oe(),
    r = ce(Ve?.flow) === on.UnauthenticatedUser,
    s = (a && n.countrySpecific[a]?.contactInfoOptions) ?? n.contactInfoOptions,
    i = c || r || !s.includes('PHONE');
  return H(
    () =>
      i
        ? o('field_errors.email_blank', 'Enter an email')
        : o(
            'field_errors.email_or_phone_blank',
            'Enter an email or phone number'
          ),
    [i, o]
  );
}
const Ke = ue(!1),
  Je = ue(!1);
function Ra({ onValid: n, onInvalid: t, children: a }) {
  const o = Q(),
    c = en(new Set()),
    r = H(
      () =>
        ue((l) => {
          const u = l(c);
          let p = !1,
            g = u.size > 0;
          for (const f of u) {
            const [m, h, y] = f,
              k = Ge(m) ? l(m) : m.value;
            h(k) && (g = !1), k !== y && (p = !0);
          }
          return { valid: g, changed: p };
        }),
      [c]
    ),
    s = N(
      (l, u) => {
        const p = Ge(l) ? o.read(l).value : l.value,
          g = [l, u, p];
        return (
          o.write(c, (f) => {
            const m = new Set(f);
            return m.add(g), m;
          }),
          () => {
            o.write(c, (f) => {
              const m = new Set(f);
              return m.delete(g), m;
            });
          }
        );
      },
      [o, c]
    ),
    i = N(
      (l) => {
        l.valid
          ? n?.({ contact: Ke, shipping: Je })
          : t?.({ contact: Ke, shipping: Je }),
          o.write(c, (u) => {
            const p = new Set(u);
            for (const g of u) {
              const [f, m] = g;
              p.delete(g);
              const h = Ge(f) ? o.read(f).value : f.value,
                y = [f, m, h];
              p.add(y);
            }
            return p;
          });
      },
      [o, c, n, t]
    );
  O(() => {
    const l = o.read(r).value;
    i(l);
  }, []),
    O(
      () =>
        o.subscribe(r, ({ value: l }) => {
          if (l.changed) return i(l);
        }),
      [o, r, i]
    );
  const d = H(() => ({ registerValidator: s, contact: Ke, shipping: Je }), [s]);
  return e(Lt.Provider, { value: d, children: a });
}
function za({ isShopPay: n, label: t }) {
  const a = L(),
    [o, c] = J(U().acceptMarketing),
    { acceptEmailMarketing: r } = U(),
    { negotiate: s } = ye(),
    i = Be(),
    { checkoutSessionIdentifier: d, sourceId: l } = ve(),
    { id: u, myshopifyDomain: p } = ee(),
    g = Re(),
    f = an();
  function m(k) {
    c(k), (r.value = k), s({});
    const _ = {
      schemaId: Mt.EmailMarketingOptInInteraction,
      payload: {
        checkoutToken: d || l,
        shopId: Number(pe(u)),
        shopifyDomain: p,
        action: k ? 'click_email_opt_in' : 'unclick_email_opt_in',
        origin: n ? 'payment_page' : 'contact_info_page',
        checkoutVersion: g ? 'checkout_one_redesign' : 'checkout_one',
      },
    };
    i.record(_);
  }
  const h = It(),
    y = wt('marketing.disclaimer.description_html', h)
      ? e($, {
          size: 'small',
          appearance: 'subdued',
          children: e(Vn, {
            children: a(
              'marketing.disclaimer.description_html',
              {
                privacy_policy_link: e(le, {
                  external: !0,
                  to: f.storefront('policies/privacy-policy'),
                  appearance: 'monochrome',
                  children: a(
                    'marketing.disclaimer.privacy_policy',
                    'Privacy Policy'
                  ),
                }),
                terms_of_service_link: e(le, {
                  external: !0,
                  to: f.storefront('policies/terms-of-service'),
                  appearance: 'monochrome',
                  children: a(
                    'marketing.disclaimer.terms_of_service',
                    'Terms of Service'
                  ),
                }),
              },
              ' '
            ),
          }),
        })
      : null;
  return e(B, {
    spacing: 'small200',
    children: [
      e(Te, {
        id: 'marketing_opt_in',
        name: 'marketing_opt_in',
        checked: o,
        onChange: m,
        children:
          t ??
          a(
            'marketing.accept_marketing_checkbox_label',
            'Email me with news and offers'
          ),
      }),
      y,
    ],
  });
}
function Fa() {
  const n = L(),
    t = an(),
    { smsMarketing: a } = ee(),
    {
      phone: o,
      acceptSmsMarketing: c,
      smsMarketingPhone: r,
      shippingAddress: s,
    } = U(),
    { addresses: i } = Tt(),
    d = sn(),
    l = c.value,
    u = Ce(),
    { handleSmsMarketingConsent: p } = Nt(),
    [g] = J(s.fields.phone),
    [f, m] = J(r),
    h = !o.value && i.length === 0;
  O(() => {
    if (!f) {
      const S = h ? g : o.value;
      m(S ?? '');
    }
  }, []),
    xt(s.fields.phone, (S) => {
      h && a === 'OFF' && m(S || '');
    }),
    Dt();
  const [, y] = J(_n);
  function k(S) {
    y(void 0), p(S);
  }
  Ne(() => {
    o.value && !u && m(o.value);
  });
  const _ = n(
      'field_errors.sms_marketing_phone_invalid',
      'Enter a valid phone number'
    ),
    C = Ot(_),
    E = Re(),
    b = !!u,
    w = !o.value,
    v = H(() => ({ state: { phone: r }, errors: { phone: _n } }), [r]);
  if (a === 'OFF') return null;
  const P = e($, {
    size: 'small',
    appearance: 'subdued',
    children: e(Vn, {
      children: n(
        'marketing.sms.disclaimer.description_html',
        {
          privacy_policy_link: e(le, {
            external: !0,
            to: t.storefront('policies/privacy-policy'),
            appearance: 'monochrome',
            children: n(
              'marketing.sms.disclaimer.privacy_policy',
              'Privacy Policy'
            ),
          }),
          terms_of_service_link: e(le, {
            external: !0,
            to: t.storefront('policies/terms-of-service'),
            appearance: 'monochrome',
            children: n(
              'marketing.sms.disclaimer.terms_of_service',
              'Terms of Service'
            ),
          }),
        },
        'By signing up via text, you agree to receive recurring automated marketing messages, including cart reminders, at the phone number provided. Consent is not a condition of purchase. Reply STOP to unsubscribe. Reply HELP for help. Message frequency varies. Msg & data rates may apply. View our %{privacy_policy_link} and %{terms_of_service_link}.'
      ),
    }),
  });
  return e(ze, {
    ...v,
    children: E
      ? e(B, {
          spacing: 'base',
          children: e(Vt, {
            defaultOpen: l,
            children: [
              e(Te, {
                id: 'sms_marketing_opt_in',
                name: 'sms_marketing_opt_in',
                checked: l,
                onChange: k,
                toggles: 'smsMarketingOptInDisclosureContent',
                'aria-controls': 'acceptSmsMarketingCollapsible',
                children: n(
                  'marketing.accept_sms_checkbox_label',
                  'Text me with news and offers'
                ),
              }),
              e(j, {
                id: 'smsMarketingOptInDisclosureContent',
                children: [
                  e(B, {
                    padding: ['none', 'none', 'base', 'none'],
                    children: e(bn, {
                      countryCode: d ?? '',
                      label: n(
                        'marketing.sms.mobile_phone_number',
                        'Mobile phone number'
                      ),
                      disabled: b ? !1 : !w,
                      caretPosition: 0,
                      prefillCountryCode: !0,
                      icon: 'mobile',
                      ...(l ? C : {}),
                    }),
                  }),
                  P,
                ],
              }),
            ],
          }),
        })
      : e(B, {
          spacing: 'base',
          children: [
            e(Te, {
              id: 'sms_marketing_opt_in',
              name: 'sms_marketing_opt_in',
              checked: l,
              onChange: k,
              'aria-expanded': l,
              'aria-controls': 'acceptSmsMarketingCollapsible',
              children: n(
                'marketing.accept_sms_checkbox_label',
                'Text me with news and offers'
              ),
            }),
            e(Bt, {
              open: l,
              id: 'acceptSmsMarketingCollapsible',
              children: e(j, {
                children: e(B, {
                  padding: ['none', 'none', 'base', 'none'],
                  children: [
                    e(bn, {
                      countryCode: d ?? '',
                      label: n(
                        'marketing.sms.mobile_phone_number',
                        'Mobile phone number'
                      ),
                      disabled: b ? !1 : !w,
                      caretPosition: 0,
                      prefillCountryCode: !0,
                      icon: 'mobile',
                      ...(l ? C : {}),
                    }),
                    P,
                  ],
                }),
              }),
            }),
          ],
        }),
  });
}
function Wa(n, t, a = 'PHONE') {
  const { phone: o } = U(),
    c = Q();
  return (
    Rt((r) => {
      if (a !== 'EMAIL' && r.type === 'error') {
        for (const s of r.violations)
          if (
            !(s.__typename !== 'UnprocessableTermViolation' || !zt.has(s.code))
          )
            if (s.code === 'BUYER_IDENTITY_EMAIL_REQUIRED') {
              const i = s.localizedMessage ?? s.nonLocalizedMessage;
              c.write(we, i);
            } else {
              const i = n || (s.localizedMessage ?? s.nonLocalizedMessage);
              c.write(we, i), c.write(Bn, void 0);
            }
      }
    }),
    Ft(o, we, a === 'PHONE' ? t : void 0)
  );
}
function ft() {
  const { shopPay: n } = Wt(),
    t = Rn(),
    a = rn('simulated'),
    { checkoutSessionIdentifier: o = '' } = ve(),
    c = Ht(),
    { value: r } = Ut(),
    s = cn(qt),
    { redactPiiUntilConsent: i } = ln() || {},
    d = i === !0,
    l = t.searchParams.get($t);
  O(() => {
    Gt(Yt, l ? o : 'false');
  }, []);
  const u = r && !s;
  return H(() => !!(!a && n() && !l && !c && !u && !d), [a, n, l, c, u, d]);
}
function yt({ emailInput: n, email: t, isShopPayUnauthenticatedUser: a }) {
  const o = oe(''),
    c = a ? Pe.C1ModalShopPay : void 0,
    [r, s] = x(c),
    [i, d] = x(!1),
    [l, u] = x(!1),
    [p, g] = J(Ve?.shopPayVerificationTrigger),
    f = t.trim(),
    m = N(
      (h, y) => {
        y && (o.current = y), a || u(!h), d(h);
      },
      [a, o]
    );
  return (
    O(() => {
      p &&
        (m(!0),
        g(null),
        a &&
          [Me.LoginLink, Me.ErrorModalClearEmail].includes(p.source) &&
          (s(Pe.C1ModalShopPaySignIn),
          p.source === Me.ErrorModalClearEmail &&
            window.dispatchEvent(new Event('shop_pay_verification_reset'))));
    }, [p]),
    O(() => {
      f !== o.current && (u(!1), d(!1));
    }, [f, o]),
    O(() => {
      u(!1);
    }, [n]),
    {
      modalUrlOrigin: c,
      modalUpdatedOrigin: r,
      shopPayVerificationVisible: i,
      showShopPayVerificationToggle: l,
      showShopPayVerification: m,
      setModalUpdatedOrigin: s,
      setShowShopPayVerificationToggle: u,
    }
  );
}
function Ha() {
  const n = document.cookie.includes('_tracking_consent='),
    t = document.cookie.includes('_cmp_a=');
  return n && t;
}
function Ua() {
  const { email: n } = U();
  Ne(() => {
    zn(n.value, 'invalid') === 'invalid' || Ha();
  });
}
const qa = 'rdvNk',
  $a = '_2RkQB',
  Ga = { MobilePhoneIcon: qa, wobble: $a, 'scale-up-bounce': 'i0YRL' };
function Ya({ onPress: n }) {
  const t = L();
  return e(X, {
    accessibilityLabel: t(
      'shop_pay.verification_toggle',
      'Activate Shop Pay SMS input to checkout with Shop Pay'
    ),
    onPress: n,
    children: e('div', {
      className: Ga.MobilePhoneIcon,
      children: e(de, {
        source: 'mobile',
        size: 'fill',
        appearance: 'monochrome',
      }),
    }),
  });
}
const kt = dn({
  load: () =>
    un(() =>
      pn(
        () => import('./component-ShopPayVerificationSwitch.BssOwqND.js'),
        __vite__mapDeps([
          0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
        ])
      )
    ),
});
function ja({
  addressType: n = 'shipping',
  disabled: t,
  label: a,
  onInputValueChange: o,
  caretPosition: c,
  inputMode: r,
  type: s = 'email',
  violationMessage: i,
  autoFocus: d = !1,
  onInlineValidation: l,
  isShopPayUnauthenticatedUser: u,
  contactInfoOption: p,
}) {
  const g = Fn(),
    f = L(),
    m = ft(),
    h = jt(i, l, p),
    [y, k] = x(h.value ?? ''),
    { userStatus: _ } = Kt(),
    C = oe(null),
    [E] = Ea(),
    b = N(
      (q) => {
        h.onInput(q), h.onChange(q), k(q);
      },
      [h]
    ),
    {
      modalUrlOrigin: w,
      modalUpdatedOrigin: v,
      shopPayVerificationVisible: P,
      showShopPayVerificationToggle: S,
      showShopPayVerification: M,
      setModalUpdatedOrigin: D,
      setShowShopPayVerificationToggle: W,
    } = yt({ emailInput: y, email: h.value, isShopPayUnauthenticatedUser: u });
  O(() => {
    c !== void 0 &&
      C.current &&
      h?.value &&
      c < h.value.length &&
      C.current.setSelectionRange(c, c);
  }, [h.value, c]),
    Ua();
  const A = N(() => {
    h.clearError(), b(''), C.current?.focus();
  }, [h, b]);
  function R() {
    if (_ === Jt.Loading) return e(Zt, { size: 'small' });
    if (E)
      return e(Qt, { onPress: A, children: e(de, { source: 'errorFill' }) });
  }
  const G = g
    ? e(kt, {
        popoverActivator: C,
        email: y,
        onSetEmail: b,
        open: P,
        showPopover: M,
        showToggle: W,
        urlOrigin: w,
        updatedOrigin: v,
      })
    : null;
  return {
    textFieldProps: {
      label: a ?? f('contact.email_label', 'Email'),
      id: 'email',
      name: 'email',
      type: s,
      ref: C,
      autocomplete: { field: 'email', group: n },
      disabled: t,
      autoFocus: d,
      inputMode: r,
      ...h,
      onInput: async (q) => {
        const T = q.trim();
        h.onInput(T),
          k(T),
          u && D(Pe.C1ModalShopPay),
          o && o(T, C?.current?.selectionStart || 0);
      },
      error: E ? E.error : h.error,
      autoCapitalize: s === 'text' ? 'off' : void 0,
      accessory: R(),
    },
    insideElement:
      m && S
        ? e(Ya, {
            onPress: () => {
              M(!0), u && D(Pe.C1ModalShopPay);
            },
          })
        : null,
    afterElement: m ? G : null,
  };
}
function Ka({
  onInputTypeChange: n,
  onInlineEmailValidation: t,
  onInlinePhoneValidation: a,
}) {
  const { shippingRequired: o } = Xt(),
    [c] = eo(),
    r = no(),
    { contactInfoOptions: s, countrySpecific: i } = ee(),
    d = ce(Ve?.flow) === on.UnauthenticatedUser,
    l = L(),
    u = Oe(),
    { email: p, phone: g } = U(),
    f = sn(),
    m = g.value,
    h = p.value,
    [y, k] = x(m !== '' && (h === '' || !h) && !d ? 'PHONE' : 'EMAIL'),
    [_, C] = x(0),
    E = Q(),
    b = l('contact.email_or_phone_label', 'Email or mobile phone number'),
    w = l(
      'field_errors.email_or_phone_invalid',
      'Enter a valid email or a mobile phone number'
    ),
    v = Wa(w, a, y),
    P = async (V, z) => {
      D(V), z !== void 0 && C(z);
    },
    S = H(() => (f && i[f]?.contactInfoOptions) ?? s, [f, s, i]),
    M = u || d || !S.includes('PHONE'),
    D = N(
      async (V) => {
        if (V === '') return;
        const z = M || /([A-Za-z]|\.|@)/.test(V);
        z && y !== 'EMAIL'
          ? (k('EMAIL'), (g.value = ''), (p.value = V))
          : !z && y !== 'PHONE' && (k('PHONE'), (p.value = ''), (g.value = V));
      },
      [M, y, g, p]
    );
  O(() => {
    n && n(y);
  }, [n, y]),
    O(
      function () {
        (!S.includes('PHONE') || d) &&
          y !== 'EMAIL' &&
          (k('EMAIL'), h === '' && m !== '' && ((g.value = ''), (p.value = m)));
      },
      [S]
    ),
    Fe(async ({ reason: V, parts: z }) =>
      V !== 'progression'
        ? { behavior: 'allow' }
        : {
            behavior: 'allow',
            perform() {
              const I = z.phone.peek();
              I !== '' &&
                E.read(z.deliveryLines).value.forEach((te) => {
                  E.write(te, {
                    ...E.read(te).value,
                    deliveryMethodOptions: {
                      ...E.read(te).value.deliveryMethodOptions,
                      phone: I,
                    },
                  });
                });
            },
          }
    );
  const W = Rn(),
    A = an(),
    R = H(
      () =>
        (typeof window > 'u' ||
          document.activeElement === document.body ||
          r.value) &&
        !W.pathname.includes(A.stockProblems()) &&
        !r.isStandard(),
      [W.pathname, r, A]
    ),
    G = to({
      autoFocus: R,
      countryCode: '',
      label: b,
      onInputValueChange: P,
      caretPosition: _,
      inputMode: 'text',
      disableFormatting: !0,
      ...v,
    }),
    q = M
      ? void 0
      : {
          label: b,
          onInputValueChange: P,
          violationMessage: w,
          type: 'text',
          caretPosition: _,
          inputMode: 'text',
        },
    T = ja({
      autoFocus: R,
      addressType: o ? 'shipping' : 'billing',
      disabled: c.status === 'loading',
      ...q,
      isShopPayUnauthenticatedUser: d,
      onInlineValidation: y === 'PHONE' ? Ja : t,
      contactInfoOption: y,
    });
  return e(oo, { ...(y === 'PHONE' ? G : T), afterElement: T.afterElement });
}
function Ja() {}
function Za({ showLogoutLink: n, logoutUrl: t }) {
  const a = L(),
    o = Ce(),
    c = ft(),
    r = rn('simulated'),
    {
      email: s,
      phone: i,
      firstName: d,
      lastName: l,
    } = (o?.__typename === 'CustomerProfile' ? o : void 0) ?? {},
    u = d || l,
    { phone: p } = U(),
    g = `(${s ?? i})`,
    f = ce(Ve.flow) === on.UnauthenticatedUser,
    {
      modalUrlOrigin: m,
      modalUpdatedOrigin: h,
      shopPayVerificationVisible: y,
      showShopPayVerification: k,
    } = yt({ isShopPayUnauthenticatedUser: f, email: s || '' });
  return (
    O(() => {
      p.value = '';
    }, []),
    e(Z, {
      children: [
        e(me, {
          blockAlignment: 'center',
          children: e(B, {
            spacing: 'small400',
            children: [
              e(K, {
                children: u
                  ? `${a(
                      'general.display_name',
                      { firstName: d ?? '', lastName: l ?? '' },
                      '{{firstName}} {{lastName}}'
                    )} ${g}`
                  : g,
              }),
              n && !r
                ? e(me, {
                    children: e(le, {
                      to: t,
                      children: a(
                        'customer_account.sign_out_link_label',
                        'Log out'
                      ),
                    }),
                  })
                : null,
            ],
          }),
        }),
        s &&
          c &&
          e(kt, {
            email: s,
            open: y,
            showPopover: k,
            urlOrigin: m,
            updatedOrigin: h,
          }),
      ],
    })
  );
}
function Qa() {
  const n = L();
  return e(Z, {
    children: e(K, {
      appearance: 'subdued',
      size: 'small',
      accessibilityLive: 'polite',
      children: n(
        'marketing.sms.disclaimer.description_transactional_html',
        {
          privacy_policy_modal_link: e(Pn, { handle: 'privacy-policy' }),
          terms_of_service_modal_link: e(Pn, { handle: 'terms-of-service' }),
        },
        'You may receive text messages related to order confirmation and shipping updates. Reply STOP to unsubscribe. Reply HELP for help. Message frequency varies. Msg & data rates may apply. View our %{privacy_policy_modal_link} and %{terms_of_service_modal_link}.'
      ),
    }),
  });
}
const Xa = 'ZZ';
function qi({
  additionalFormComponents: n,
  hideAllOptIns: t = !1,
  showSmsMarketingOptIn: a = !1,
  showEmailMarketingOptIn: o = !0,
  onValidateEmailInput: c,
}) {
  const r = L(),
    s = Q(),
    i = Ce(),
    { emailMarketing: d } = ee(),
    { loggedIn: l, showLogoutLink: u, logoutUrl: p } = ao(),
    f = ln()?.smsMarketingEnabled === !1,
    m = cn(so),
    { value: h } = We(),
    y = h?.countryCode,
    [k, _] = x(o && An(d, 'EMAIL', m, y, i)),
    [C, E] = x(!1),
    b = sn(),
    { validatePhoneNumber: w } = io(),
    { negotiate: v } = ye(),
    { activeWalletSessionAtom: P } = hn(),
    S = N(
      (Y) => {
        _(o && An(d, Y, m, y)), E(!1);
      },
      [d, m, y, o]
    ),
    M = Ba(),
    D = N(
      (Y) => {
        const ae = vn(Y, M),
          se = zn(Y, r('field_errors.email_invalid', 'Enter a valid email'));
        return ae || se || c?.(Y);
      },
      [M, c, r]
    ),
    W = N(
      (Y) => {
        const ae = vn(
          Y,
          r(
            'field_errors.email_or_phone_blank',
            'Enter an email or phone number'
          )
        );
        if (ae) return E(!ae), ae;
        const se = w(Y, b ?? Xa)
          ? void 0
          : r('field_errors.address_phone_blank', 'Enter a valid phone number');
        return E(!se), se;
      },
      [r, w, b]
    ),
    A = ke(),
    R = ro(),
    G = N(
      ({ contact: Y }) => {
        s.read(P).value ||
          v({ silenceViolations: ['all'], include: ['contactInfo'] }),
          s.write(Y, !0),
          A('sectionComplete', { section: 'contact', timestamp: new Date() }),
          R({ type: 'section_complete', section: 'contact' });
      },
      [P, v, s, A, R]
    ),
    q = N(
      ({ contact: Y }) => {
        s.write(Y, !1);
      },
      [s]
    ),
    { email: T, phone: V } = U(),
    z = en(T.value);
  Ne(() => {
    s.write(z, T.value);
  });
  const I = en(V.value);
  Ne(() => {
    s.write(I, V.value);
  });
  const te = H(
    () => ({ state: { phone: I, email: z }, errors: { phone: we, email: Bn } }),
    [z, I]
  );
  return e(mn, {
    children: e(Se, {
      target: 'cart.buyerIdentity',
      children: [
        l
          ? e(Za, { showLogoutLink: u, logoutUrl: p })
          : e(ze, {
              ...te,
              children: e(Ra, {
                onValid: G,
                onInvalid: q,
                children: e(Ka, {
                  onInputTypeChange: S,
                  onInlineEmailValidation: D,
                  onInlinePhoneValidation: W,
                }),
              }),
            }),
        n,
        !t &&
          e(Z, {
            children: [
              C && !f ? e(Qa, {}) : null,
              k ? e(za, {}) : null,
              a ? e(Fa, {}) : null,
            ],
          }),
      ],
    }),
  });
}
function An(n, t, a, o, c) {
  const r = a && !co(o);
  return n !== 'OFF' && t === 'EMAIL' && !r && !c?.acceptsEmailMarketing;
}
function $i() {
  const n = L(),
    t = Ce(),
    { shopPayEnabled: a } = ee(),
    { value: o } = We(),
    [c, r] = J(U().rememberMe),
    s = !!o?.rememberMe || c,
    [i, d] = x(s),
    { negotiate: l } = ye(),
    p = ln()?.saveShippingAddressCheckboxEnabled ?? !0,
    g = !!t,
    [f] = J(U().shippingAddress),
    m = !a && p && !g && !f.oneTimeUse,
    h = N(
      (y) => {
        d(y), r(y), l({});
      },
      [d, l, r]
    );
  return m
    ? e(Te, {
        id: 'save_shipping_information',
        name: 'save_shipping_information',
        checked: i,
        onChange: h,
        children: n(
          'customer_account.save_my_information_label',
          'Save this information for next time'
        ),
      })
    : null;
}
const es = ['GooglePay', 'PayPal', 'Venmo', 'FacebookPay'];
function Gi({ id: n }) {
  return (
    lo({
      id: n,
      stage: ({ pendingComponents: t }) =>
        es.some((o) => t.has(o)) ? Cn.Usable : Cn.Complete,
    }),
    null
  );
}
const Ze = 'AmazonPayButtonContainer',
  ns = 'rMk2p',
  ts = { AmazonPayButton: ns };
function os() {
  const { value: n } = uo(),
    { value: t } = po(),
    { inMemoryAmazonPayParts: a } = hn(),
    o = t?.find((m) => m.type === 'walletsPlatform' && m.name === he.AmazonPay),
    { configurationParams: c } = o || {},
    r = ce(a.sdkStatus),
    [s, i] = J(a.buttonStatus),
    d = ke(),
    l = Q(),
    u = r.status === 'available' && r.sdk.Pay,
    p = Ee(),
    g = n && n.amount > 0 ? n.amount.toFixed(2) : void 0,
    f = n && n.currencyCode;
  return (
    O(() => {
      const { buttonStatus: m } = a;
      return (
        l.write(m, { status: 'not_rendered' }),
        () => {
          l.read(m).value.status === 'rendered' &&
            l.write(m, { status: 'not_rendered' });
        }
      );
    }, []),
    O(() => {
      if (!o || !u || s.status === 'rendered' || !document.getElementById(Ze))
        return;
      const h = {
          ...c,
          ...(g &&
            f && { estimatedOrderAmount: { amount: g, currencyCode: f } }),
        },
        { createCheckoutSessionConfig: y, ...k } = h,
        _ = u.renderButton(`#${Ze}`, k);
      _?.onClick(() => {
        _.initCheckout(h),
          d('acceleratedCheckoutStarted', {
            walletName: he.AmazonPay,
            timestamp: new Date(),
          });
      }),
        i({ status: 'rendered' });
    }, [u, c, o, i, s.status, g, f, d]),
    e('div', { ref: p('amazon_pay'), id: Ze, className: ts.AmazonPayButton })
  );
}
const as = 'vT2w7',
  ss = 'f1x20',
  is = 'hKWGx',
  Ln = { ApplePayButton: as, dark: ss, light: is };
function rs({ supportedNetworks: n, color: t }) {
  const a = L(),
    o = gn(),
    c = ho(),
    r = Ee(),
    s = mo(),
    i = !1;
  return e('button', {
    ref: r('apple_pay'),
    className: ne(Ln.ApplePayButton, Ln[t]),
    lang: o,
    onClick: () => s(c({ asPaymentMethod: i, supportedNetworks: n }).session),
    type: 'button',
    'aria-label': a('brand.apple_pay', 'Apple Pay'),
  });
}
const cs = dn({
  load: () =>
    un(() =>
      pn(
        () => import('./component-GooglePayButton.CoXCxGsp.js'),
        __vite__mapDeps([19, 1, 2, 20, 21])
      )
    ),
});
function ls() {
  return e(mt, { id: 'GooglePay', children: e(cs, {}) });
}
const ds = 'Xicuw',
  us = '_1f3te',
  In = { Button: ds, 'Button--contrast': 'oHCaH', ShopPayLogoWrapper: us },
  ps = 'shop-pay-button';
function hs() {
  const n = Be(),
    { id: t } = ee(),
    a = Wn(),
    o = Aa({ foregroundColor: Po }),
    c = go(),
    r = Hn(),
    s = fo(c, r),
    [, i] = Un(),
    d = yo(ko.DirectCheckoutCheckout),
    l = Ee(),
    u = ke(),
    p = _o(Ye.ShopifyPay),
    { setEditorShopPay: g } = ht(),
    f = N(() => {
      const y = parseInt(pe(t), 10),
        k = bo(Ye.ShopifyPay, nn.Success, y, a);
      n?.recordImmediately(k),
        u('acceleratedCheckoutStarted', {
          walletName: Ye.ShopifyPay,
          timestamp: new Date(),
        }),
        p(),
        i('SHOP_PAY');
    }, [t, n, a, i, p, u]),
    m = N(
      (y) => {
        if (g) {
          y.preventDefault(), g(!0);
          return;
        }
        f();
      },
      [f, g]
    ),
    h = ne(In.Button, { [In['Button--contrast']]: !o && !s });
  return e('a', {
    id: ps,
    href: d,
    ref: l('shop_pay'),
    className: h,
    'aria-label': 'Shop Pay',
    onClick: m,
    children: e(Ia, { size: 'medium' }),
  });
}
const ms = dn({
  load: () =>
    un(() =>
      pn(
        () => import('./component-FacebookPayButton.kfKbptd5.js'),
        __vite__mapDeps([22, 1, 2, 23])
      )
    ),
});
function gs() {
  return e(mt, { id: 'FacebookPay', children: e(ms, {}) });
}
const fs = (n) =>
    je(
      'svg',
      {
        xmlns: 'http://www.w3.org/2000/svg',
        'aria-hidden': 'true',
        viewBox: '0 0 102 20',
        ...n,
      },
      je('path', {
        fill: '#333e48',
        d: 'M75.19 1.786q-1.492 0-2.815.98v5.94q1.343 1.024 2.774 1.023 2.898 0 2.899-3.96 0-3.983-2.858-3.983m-2.962-.277A5.9 5.9 0 0 1 73.93.444a4.9 4.9 0 0 1 1.85-.362q1.009 0 1.827.383a3.76 3.76 0 0 1 1.387 1.108q.567.723.872 1.757t.305 2.332q0 1.32-.326 2.385-.326 1.066-.914 1.81a4.1 4.1 0 0 1-1.429 1.16 4.2 4.2 0 0 1-1.87.416q-1.89 0-3.256-1.256v4.983q0 .426-.42.426h-1.24q-.42 0-.42-.426V.827q0-.426.42-.426h.925q.42 0 .483.426l.105.682zm13.194 8.37a4.2 4.2 0 0 0 1.45-.277 5.5 5.5 0 0 0 1.45-.81V6.62q-.526-.127-1.104-.202a9 9 0 0 0-1.124-.075q-2.374 0-2.374 1.853 0 .81.441 1.246t1.261.437m-2.458-7.625-.158.053a.6.6 0 0 1-.179.033q-.273 0-.273-.384V1.38q0-.298.084-.415t.337-.224q.671-.299 1.66-.48.986-.18 1.974-.18 1.995 0 2.942.83.945.831.945 2.577v7.284q0 .426-.42.426h-.903q-.4 0-.463-.405l-.105-.702a5.7 5.7 0 0 1-1.67 1.022 4.9 4.9 0 0 1-1.817.362q-1.513 0-2.395-.863-.883-.862-.883-2.31 0-1.556 1.092-2.481 1.094-.927 2.942-.927 1.177 0 2.647.362V3.852q0-1.15-.504-1.619-.505-.47-1.764-.469-1.472 0-3.09.49zm14.16 10.84q-.568 1.47-1.314 2.109-.744.639-1.943.639-.672 0-1.197-.15a.6.6 0 0 1-.336-.202q-.105-.138-.105-.437V14.5q0-.405.315-.405.105 0 .315.043t.567.043q.799 0 1.24-.384.441-.383.798-1.406l.4-1.086-4.056-10.137q-.146-.361-.146-.511 0-.256.294-.256h1.26q.336 0 .463.106.125.107.251.47l2.942 8.263L99.708.976q.126-.36.252-.469.126-.106.462-.106h1.177q.294 0 .294.256 0 .15-.147.51zM40.15 15.47c-3.761 2.814-9.216 4.31-13.912 4.31-6.583 0-12.51-2.466-16.996-6.572-.352-.322-.038-.763.385-.513 4.84 2.855 10.825 4.574 17.006 4.574 4.17 0 8.753-.877 12.971-2.691.636-.273 1.17.425.547.891',
      }),
      je('path', {
        fill: '#333e48',
        d: 'M41.717 13.657c-.482-.624-3.181-.296-4.394-.148-.368.044-.425-.281-.093-.517 2.153-1.533 5.682-1.09 6.092-.577.413.518-.108 4.104-2.127 5.816-.31.263-.605.122-.468-.225.455-1.15 1.471-3.724.99-4.349M37.429 2.06V.57A.365.365 0 0 1 37.8.193l6.59-.001c.21 0 .38.155.38.376v1.278c-.003.214-.18.494-.496.938L40.86 7.722c1.267-.03 2.607.163 3.757.818.26.148.33.367.35.582v1.59c0 .218-.237.472-.485.34-2.028-1.077-4.718-1.194-6.96.013-.23.124-.47-.126-.47-.345V9.209c0-.242.005-.656.246-1.024l3.953-5.75H37.81a.37.37 0 0 1-.38-.375M13.4 11.365h-2.005a.38.38 0 0 1-.358-.343L11.038.595a.38.38 0 0 1 .387-.375h1.866a.38.38 0 0 1 .365.35v1.36h.037C14.18.615 15.096 0 16.331 0c1.253 0 2.039.614 2.6 1.93C19.418.615 20.521 0 21.7 0c.842 0 1.758.351 2.32 1.141.635.878.505 2.15.505 3.27l-.002 6.58a.38.38 0 0 1-.387.374h-2.001a.38.38 0 0 1-.36-.374V5.463c0-.438.037-1.535-.056-1.952-.15-.703-.6-.9-1.179-.9-.486 0-.991.33-1.197.855-.206.527-.188 1.405-.188 1.997v5.527a.38.38 0 0 1-.386.375h-2.002a.38.38 0 0 1-.36-.374l-.001-5.528c0-1.163.186-2.874-1.235-2.874-1.44 0-1.384 1.668-1.384 2.874l-.001 5.527a.38.38 0 0 1-.387.375m37.059-9.236c-1.478 0-1.571 2.04-1.571 3.312 0 1.273-.02 3.993 1.552 3.993 1.554 0 1.628-2.194 1.628-3.532 0-.877-.038-1.93-.3-2.764-.224-.724-.673-1.01-1.31-1.01zM50.439 0c2.975 0 4.584 2.59 4.584 5.88 0 3.181-1.777 5.705-4.584 5.705-2.918 0-4.508-2.59-4.508-5.814C45.93 2.523 47.539 0 50.439 0m8.441 11.365h-1.997a.38.38 0 0 1-.36-.374L56.52.561a.38.38 0 0 1 .386-.34L58.764.22c.175.009.32.13.356.291v1.595h.038C59.72.68 60.505 0 61.89 0c.898 0 1.778.329 2.339 1.229.524.834.524 2.237.524 3.247v6.561a.38.38 0 0 1-.385.328H62.36a.38.38 0 0 1-.357-.328V5.376c0-1.141.13-2.809-1.253-2.809-.487 0-.936.33-1.16.834-.281.636-.319 1.272-.319 1.975v5.614a.386.386 0 0 1-.39.375m-24.684.075a.41.41 0 0 1-.473.047c-.665-.56-.785-.82-1.149-1.354-1.1 1.136-1.879 1.477-3.304 1.477-1.687 0-3-1.055-3-3.166 0-1.65.882-2.77 2.138-3.32 1.087-.484 2.606-.572 3.769-.704v-.264c0-.484.037-1.055-.245-1.473-.243-.374-.712-.528-1.124-.528-.765 0-1.444.397-1.611 1.22-.035.183-.167.364-.348.374l-1.943-.214c-.164-.037-.346-.17-.299-.425C27.055.721 29.183 0 31.09 0c.975 0 2.25.263 3.018 1.011.975.924.881 2.155.881 3.497v3.165c0 .952.39 1.37.757 1.882.128.185.156.405-.007.54-.409.348-1.136.988-1.537 1.35zm-2.02-4.953v-.44c-1.45 0-2.98.314-2.98 2.045 0 .88.45 1.473 1.218 1.473.562 0 1.069-.352 1.387-.923.394-.704.376-1.363.376-2.155zM7.926 11.44a.41.41 0 0 1-.473.047c-.667-.56-.786-.82-1.15-1.354C5.204 11.27 4.425 11.61 3 11.61c-1.688 0-3-1.055-3-3.166 0-1.65.88-2.77 2.137-3.32 1.087-.484 2.606-.572 3.768-.704v-.264c0-.484.038-1.055-.243-1.473-.244-.374-.713-.528-1.125-.528-.764 0-1.444.397-1.61 1.22-.036.183-.168.364-.35.374l-1.94-.214c-.165-.037-.347-.17-.3-.425C.783.721 2.911 0 4.818 0c.975 0 2.25.263 3.018 1.011.975.924.882 2.155.882 3.497v3.165c0 .952.39 1.37.756 1.882.128.185.157.405-.006.54a79 79 0 0 0-1.537 1.35zm-2.02-4.953v-.44c-1.45 0-2.982.314-2.982 2.045 0 .88.45 1.473 1.219 1.473.562 0 1.069-.352 1.387-.923.394-.704.375-1.363.375-2.155z',
      })
    ),
  ys = 'dczKO',
  ks = { AmazonPayClassicButton: ys };
function _s() {
  const { id: n, currencyCode: t, checkoutPublicAccessToken: a } = ee(),
    o = gn(),
    c = L(),
    r = Ae(),
    { value: s } = We(),
    { value: i } = vo(),
    d = Oe(),
    { paymentLines: l, discountLines: u } = U(),
    p = Ee(),
    { checkoutSessionIdentifier: g, type: f } = ve(),
    [, m] = Un(),
    h = ke(),
    y = async () => {
      m('AMAZON_PAY_CLASSIC'),
        h('acceleratedCheckoutStarted', {
          walletName: he.AmazonPay,
          timestamp: new Date(),
        }),
        await Co({
          logger: r,
          checkoutSessionIdentifier: g,
          sourceType: f,
          shopId: n,
          shopCurrency: t,
          buyerCurrency: s?.presentmentCurrency,
          countryCode: s?.countryCode,
          merchandiseLines: i,
          hasSellingPlan: d,
          checkoutPublicAccessToken: a,
          locale: o,
          discountLines: u.peek(),
          paymentLines: l.peek(),
        });
    };
  return e('button', {
    ref: p('amazon_pay_classic'),
    className: ks.AmazonPayClassicButton,
    lang: o,
    onClick: y,
    type: 'button',
    'aria-label': c('brand.amazon_pay', 'Amazon Pay'),
    children: e(fs, {}),
  });
}
const bs = 'wccDB',
  Ps = { PortableWalletsButton: bs };
function vs({ wallet: n }) {
  const { id: t } = ee(),
    a = Ae(),
    o = ve(),
    { value: c } = We(),
    { countryCode: r, presentmentCurrency: s } = c ?? {},
    d = So(n)?.configurationParams,
    l = Ee(),
    u = ke(),
    p = N(() => {
      u('acceleratedCheckoutStarted', { walletName: n, timestamp: new Date() });
    }, [u, n]);
  return d
    ? e('shopify-wallet-button', {
        ref: l(`${n}`),
        'wallet-config': JSON.stringify({ name: n, wallet_params: d }),
        'access-token': 'abc-123',
        'shop-id': t,
        'cart-id': o.sourceId,
        'buyer-country': r ?? 'US',
        'buyer-currency': s ?? 'USD',
        className: Ps.PortableWalletsButton,
        'page-type': Ao,
        onClick: p,
      })
    : (a.notify(
        new Eo(
          `[PortableWalletsButton] Attempted to render wallet button for ${n}, but no config was found.`
        )
      ),
      null);
}
function Cs() {
  const n = L();
  return e(qn, {
    open: !0,
    blocking: !0,
    accessibilityLabel: n(
      'wallets.payment_in_progress_title',
      'Payment in progress'
    ),
    children: e(B, {
      spacing: 'loose',
      padding: 'large200',
      children: [
        e(He, {
          level: 1,
          children: n(
            'wallets.payment_in_progress_title',
            'Payment in progress'
          ),
        }),
        e(K, {
          children: n(
            'wallets.payment_in_progress_body',
            'Your payment is being processed. Your order will be completed soon.'
          ),
        }),
      ],
    }),
  });
}
const Ss = 'o1z23',
  Es = '_4aXW0',
  As = 'DUnBb',
  Ls = 'kTI19',
  Is = 'JH5oc',
  ws = 'pUo2R',
  Ms = '_5SdgT',
  Ts = 'RKgRy',
  Ns = 'xaCBY',
  xs = 'iRnuh',
  Ds = 'Pnahu',
  Os = 'OTERX',
  Vs = 'WTXfy',
  Bs = 'qLVAT',
  Rs = 'CPknh',
  zs = 'XHLFs',
  F = {
    Header: Ss,
    Text: Es,
    Layout: As,
    StackWrapper: Ls,
    SkeletonWrapper: Is,
    ButtonWrapper: ws,
    loading: Ms,
    subsequentLoad: Ts,
    disableIframe: Ns,
    Stack: xs,
    ShopPayEmphasis: Ds,
    Container: Os,
    DrawerLink: Vs,
    InnerDrawerLink: Bs,
    ShowVenmo: Rs,
    DrawerHideButtons: zs,
  },
  Fs = 'express-checkout-wallets-wrapper';
function Ws({
  buttonCount: n,
  venmoStatus: t,
  children: a,
  waitUntilLoaded: o = !0,
  walletPaymentMethods: c,
}) {
  const r = Re(),
    [s, i] = x(!0),
    [d, l] = x(!1);
  Lo(() => {
    const R = t?.status !== 'not_eligible' && t?.status === 'rendered';
    l(R);
  }, [t]);
  const u = L(),
    p = Io(),
    [g, f] = wo(),
    [, m] = Mo(),
    [h] = To(),
    y = No(),
    k = o ? y : !1,
    [_, C] = x(!1),
    E = Oe(),
    { id: b } = ee(),
    w = xo(),
    v = Be(),
    P = Wn();
  Do(c, n);
  const S = N(
      (R, G) => {
        const q = parseInt(pe(b), 10),
          T = Oo({
            state: G,
            shopId: q,
            nascarData: { ...R, walletsRenderedCount: n },
            paymentMethods: c,
          });
        v?.record(T);
      },
      [b, v, n, c]
    ),
    M = wa(
      p?.status === 'failed' && p.failure.type === 'payment' && r
        ? p?.failure
        : void 0
    );
  p?.status === 'failed' &&
    (g === 'APPLE_PAY' || g === 'GOOGLE_PAY' || g === 'FACEBOOK_PAY') &&
    m(M);
  const D = c.some((R) => R.name === 'SHOP_PAY');
  O(() => {
    !k && !_ && C(!0);
  }, [k, _]),
    O(() => {
      p?.status === 'failed' && p.failure.type === 'payment' && w();
    }, [p, p?.status]),
    O(
      () =>
        function () {
          f(void 0), m(void 0);
        },
      []
    );
  const W = u(
      'alternative_payment_method_banner.express_checkout',
      'Express checkout'
    ),
    A = Vo('worker-version') !== 'fast';
  return e(Z, {
    children: [
      e(j, {
        className: F.Container,
        'data-count': n,
        children: [
          e('div', {
            className: ne(F.Header),
            children: e(Bo, { className: F.Text, children: W }),
          }),
          e('div', {
            className: F.StackWrapper,
            children: [
              e('div', {
                className: F.Layout,
                children: [
                  e(Hs, {
                    loading: k,
                    hideWallets: s,
                    shopPayEmphasis: D,
                    children: [...Array(n).keys()]
                      .filter((R, G) => G <= 3)
                      .map((R) => e(Ro, { delay: A }, R)),
                  }),
                  e('div', {
                    id: Fs,
                    className: ne(F.Stack, F.ButtonWrapper, {
                      [F.loading]: k,
                      [F.subsequentLoad]: k && _,
                      [F.DrawerHideButtons]: s,
                      [F.ShopPayEmphasis]: D,
                      [F.ShowVenmo]: d,
                    }),
                    children: a,
                  }),
                ],
              }),
              e('div', {
                className: F.DrawerLink,
                children: e(le, {
                  accessibilityLive: 'polite',
                  textDecoration: 'none',
                  onPress: () => {
                    s
                      ? (i(!1), S(P, nn.NascarDrawerOpen))
                      : (i(!0), S(P, nn.NascarDrawerClose));
                  },
                  children: e('div', {
                    className: F.InnerDrawerLink,
                    children: [
                      e(K, {
                        children: s
                          ? u(
                              'alternative_payment_method_banner.show_more_options',
                              'Show more options'
                            )
                          : u(
                              'alternative_payment_method_banner.hide_more_options',
                              'Hide more options'
                            ),
                      }),
                      e(de, {
                        source: s ? 'chevronDown' : 'chevronUp',
                        display: 'inline',
                        size: 'extraSmall',
                        appearance: 'monochrome',
                      }),
                    ],
                  }),
                }),
              }),
              E && e(La, { isForExpressCheckout: !0 }),
            ],
          }),
        ],
      }),
      h?.type === 'payment_cancelled_while_processing' && e(Cs, {}),
    ],
  });
}
function Hs({
  children: n,
  loading: t = !1,
  hideWallets: a,
  shopPayEmphasis: o,
}) {
  return zo(t, 'base') === 'exited'
    ? null
    : e('div', {
        className: ne(F.Stack, F.SkeletonWrapper, {
          [F.ShopPayEmphasis]: o,
          [F.DrawerHideButtons]: a,
        }),
        children: n,
      });
}
const Us = '_2SmAP',
  qs = 'eFu6h',
  Qe = { MessageWrapper: Us, SimulatedWalletWrapper: qs },
  $s = (n) => n;
function Yi() {
  const n = rn('simulated'),
    t = cn(Fo),
    a = L(),
    { walletPaymentMethods: o, buttonCount: c, venmoStatus: r } = hn(),
    s = o.some((_) => _.name === 'PAYPAL_EXPRESS' && _.venmoEnabled),
    i = Wo(),
    d = Ho(),
    { setEditorShopPay: l } = ht(),
    {
      expressCheckout: { button: { cornerRadius: u } = {} },
    } = $n(),
    p = ge('Checkout::Dynamic::Render', 'WALLETS1'),
    g = Uo(),
    f = t && n && g && !o.length;
  if (!d) return null;
  const m = !n;
  let h = o.map((_) => e(Ys, { method: _, triggerProgression: i }, _.name));
  const y = e(gt, {
    fundingSource: 'venmo',
    buttonColor: 'blue',
    progressToNextPage: i,
  });
  s && (h = [...h, y]);
  let k = t
    ? h.map((_, C) =>
        _ === y
          ? null
          : _.key === 'SHOP_PAY' && l
          ? _
          : e(
              j,
              {
                className: Qe.SimulatedWalletWrapper,
                children: e(j, {
                  className: ne([F.walletButton, F.Stack]),
                  inert: !0,
                  children: _,
                }),
              },
              _.key ?? C
            )
      )
    : e(j, {
        padding: 'large200',
        cornerRadius: 'base',
        blockAlignment: 'center',
        inlineAlignment: 'center',
        minInlineSize: 'fill',
        className: Qe.MessageWrapper,
        children: e(K, {
          children: a('payment.simulated_checkout', 'Preview coming soon'),
        }),
      });
  return (
    f &&
      (k = e(j, {
        padding: 'large200',
        cornerRadius: 'base',
        blockAlignment: 'center',
        inlineAlignment: 'center',
        minInlineSize: 'fill',
        className: Qe.MessageWrapper,
        children: e(K, {
          children: a(
            'payment.simulated_express_checkout',
            'Your wallets cannot be previewed due to your region or browser.'
          ),
        }),
      })),
    e('div', {
      style: { ...Gs(u) },
      children: [
        e(fe, { extensions: p, spacing: 'large200', render: $s }),
        p.length > 0 && e(qo, { spacing: 'large200' }),
        e(Ws, {
          buttonCount: f ? 1 : c,
          venmoStatus: r,
          waitUntilLoaded: m,
          walletPaymentMethods: o,
          children: n ? k : h,
        }),
      ],
    })
  );
}
function Gs(n) {
  return (
    n && { '--x-express-checkout-button-border-radius': $o(Go.borderRadius)(n) }
  );
}
function Ys({ method: n, triggerProgression: t }) {
  const a = Yo();
  switch (n.name) {
    case 'APPLE_PAY':
      return e(rs, { supportedNetworks: n.supportedNetworks, color: a });
    case 'PAYPAL_EXPRESS':
      return e(gt, { progressToNextPage: t });
    case 'SHOP_PAY':
      return e(hs, {});
    case 'GOOGLE_PAY':
      return e(ls, {});
    case 'FACEBOOK_PAY':
      return e(gs, {});
    case 'AMAZON_PAY_CLASSIC':
      return e(_s, {});
    case he.AmazonPay:
      return e(os, {});
    case he.BuyWithPrime:
      return e(vs, { wallet: he.BuyWithPrime });
    default:
      return null;
  }
}
function ji() {
  const n = L(),
    {
      divider: { borderStyle: t, borderWidth: a },
    } = Ue(),
    {
      main: {
        divider: { borderStyle: o = t, borderWidth: c = a } = {},
        section: r,
        spacing: s,
      },
    } = $n(),
    i = be.default(['large100', 'none', 'large300', 'none']),
    l = jo(r)
      ? be
          .default([s ?? 'base', 'none'])
          .when({ viewportInlineSize: { min: 'extraSmall' } }, [
            s ?? 'large200',
            'none',
          ])
      : i;
  return e(j, {
    padding: l,
    children: e(xe, {
      borderStyle: o,
      size: Ko(c),
      children: e($, {
        inlineAlignment: 'center',
        children: e(K, {
          appearance: 'subdued',
          children: n('alternative_payment_method_banner.or', 'OR'),
        }),
      }),
    }),
  });
}
const js = ue(!0),
  Ks = ue(0);
function Ki(n) {
  const t = oe(null),
    [a, o] = J(Ks),
    c = ke(),
    [r, s] = J(js);
  return (
    O(() => {
      const i = t.current?.clientHeight,
        d = i !== void 0 && i !== a && !r,
        l = n.map((u) => u.name);
      d &&
        c('expressCheckoutSetChange', {
          timestamp: new Date(),
          paymentMethods: l,
        }),
        s(!1),
        o(i || 0);
    }, [a, n, c, r, s, o]),
    t
  );
}
var re = {
  Tabs: 'qbjone6',
  TabList: 'qbjone8 qbjone7 _1fragem28 _1fragemmg',
  Tab: 'qbjonea qbjone9 _1fragemf0 _1fragemgt _1fragemd7 _1fragemim _1fragemlj _1fragem28 _1fragem6t _1fragemmc',
  TabPanel: 'qbjonec',
  tabSelected: 'qbjoneb',
  backgroundColorVariant: {
    base: 'qbjonef qbjoned _1fragemnb _1fragemsy',
    transparent: 'qbjoneg qbjonee _1fragemt6',
  },
};
const Js = Gn('Tabs'),
  _t = Jo(null);
function Zs({ tabs: n, selected: t, ariaLabel: a, onChange: o, children: c }) {
  const r = Zo(void 0, Js),
    s = oe(null),
    i = n.length - 1,
    d = Sn.count(c),
    {
      control: { background: l = 'base' },
    } = Ue(),
    u = N(
      (m) => {
        const h = t - 1 < 0 ? i : t - 1,
          y = t + 1 > i ? 0 : t + 1,
          _ = new Map([
            ['ArrowLeft', h],
            ['Left', h],
            ['ArrowRight', y],
            ['Right', y],
            ['Home', 0],
            ['End', i],
          ]).get(m.key);
        _ != null && (m.preventDefault(), o(_));
      },
      [o, t, i]
    );
  O(() => {
    const { current: m } = s;
    if (m != null)
      return (
        m.addEventListener('keydown', u, !1),
        () => {
          m.removeEventListener('keydown', u, !1);
        }
      );
  }, [s, u]),
    O(() => {
      d !== n.length &&
        console.warn(
          `<Tabs /> has ${n.length} tabs and ${d} children. A mismatch will cause some content to be unavailable.`
        );
    }, [d, n.length]);
  const p = [],
    g = [];
  Sn.forEach(c, (m, h) => {
    const y = n[h];
    if (y != null) {
      const { label: k, icon: _ } =
        typeof y == 'string' ? { label: y, icon: void 0 } : y;
      p.push(
        e(
          Qs,
          { label: k, icon: _, selected: t, onChange: o, id: r, index: h },
          k
        )
      );
    }
    g.push(e(Xs, { index: h, children: m }));
  });
  const f = H(() => ({ id: r, selected: t }), [r, t]);
  return e(_t.Provider, {
    value: f,
    children: e('div', {
      className: re.Tabs,
      children: [
        e('div', {
          ref: s,
          role: 'tablist',
          'aria-label': a,
          className: ne(re.TabList, re.backgroundColorVariant[l]),
          children: p,
        }),
        g,
      ],
    }),
  });
}
function Qs({ label: n, icon: t, index: a, selected: o, onChange: c, id: r }) {
  if (a == null) throw new Yn('`index` is missing');
  const s = oe(null),
    i = oe(!1),
    d = o === a,
    l =
      t == null
        ? n
        : e(me, {
            spacing: 'small400',
            blockAlignment: 'center',
            children: [
              e(de, { source: t, appearance: 'monochrome' }),
              e('span', { children: n }),
            ],
          }),
    u = Qo();
  return (
    O(() => {
      s.current && d && i.current ? s.current.focus() : (i.current = !0);
    }, [s, d]),
    e('button', {
      type: 'button',
      role: 'tab',
      'aria-selected': d,
      id: `${r}Tab${a}`,
      'aria-controls': `${r}TabPanel${a}`,
      onClick: () => c(a),
      className: ne(re.Tab, d && re.tabSelected),
      ref: s,
      tabIndex: u ? -1 : void 0,
      children: l,
    })
  );
}
function Xs({ index: n, children: t }) {
  const { selected: a, id: o } = ei(),
    c = a === n,
    {
      control: { background: r = 'base' },
    } = Ue();
  return e('div', {
    role: 'tabpanel',
    id: `${o}TabPanel${n}`,
    'aria-labelledby': `${o}Tab${n}`,
    hidden: !c,
    className: ne(re.TabPanel, re.backgroundColorVariant[r]),
    children: t,
  });
}
function ei() {
  const n = Xo(_t);
  if (n == null) throw new Yn('No tabs found in context');
  return n;
}
const ni = [
    {
      featureType: 'poi',
      elementType: 'labels',
      stylers: [{ visibility: 'off' }],
    },
    {
      featureType: 'transit',
      elementType: 'labels',
      stylers: [{ visibility: 'off' }],
    },
    { elementType: 'labels.text.fill', stylers: [{ color: '#737373' }] },
    {
      featureType: 'landscape',
      elementType: 'geometry.fill',
      stylers: [{ color: '#f0f0f0' }],
    },
    {
      featureType: 'poi',
      elementType: 'geometry.fill',
      stylers: [{ color: '#e6e6e6' }],
    },
    { featureType: 'poi.business', stylers: [{ visibility: 'off' }] },
    {
      featureType: 'poi.park',
      elementType: 'geometry.fill',
      stylers: [{ color: '#d0ecd3' }],
    },
    {
      featureType: 'road.arterial',
      elementType: 'geometry.stroke',
      stylers: [{ saturation: -100 }],
    },
    {
      featureType: 'road.local',
      elementType: 'geometry.stroke',
      stylers: [{ saturation: -100 }],
    },
    {
      featureType: 'road.local',
      elementType: 'labels.icon',
      stylers: [{ saturation: -100 }],
    },
    {
      featureType: 'transit',
      elementType: 'labels.icon',
      stylers: [{ saturation: -100 }, { lightness: 15 }],
    },
    {
      featureType: 'water',
      elementType: 'geometry.fill',
      stylers: [{ color: '#d1e6f5' }],
    },
  ],
  ti =
    'https://cdn.shopify.com/shopifycloud/checkout-web/assets/c1.en/assets/buyer-pin.BsPJAGmj.svg',
  oi =
    'https://cdn.shopify.com/shopifycloud/checkout-web/assets/c1.en/assets/default-selected-pin.fbcUsoX1.svg',
  ai = 'VVdZM',
  si = { PickupPointMap: ai },
  wn = [
    { horizontal: 15, vertical: 0 },
    { horizontal: -15, vertical: 0 },
    { horizontal: 0, vertical: -15 },
    { horizontal: 0, vertical: -15 },
  ],
  Mn = 6378,
  Tn = 2 / 1e3;
function ii(n, t) {
  const a = { latitude: 0, longitude: 0 },
    o = t.filter(
      (s) =>
        Math.abs(s.latitude - n.latitude) < Tn &&
        Math.abs(s.longitude - n.longitude) < Tn
    ).length;
  if (o === 0) return a;
  const c = Math.min(o, wn.length) - 1,
    r = wn[c];
  return (
    (a.longitude =
      ((r.horizontal / 1e3 / Mn) * (180 / Math.PI)) /
      Math.cos((n.latitude * Math.PI) / 180)),
    (a.latitude += (r.vertical / 1e3 / Mn) * (180 / Math.PI)),
    a
  );
}
function ri({ onPickupPointSelect: n }) {
  const t = Q(),
    a = Hn(),
    { pickupPoints: o, proposedPickupPoint: c } = qe(),
    r = t.read(c).value?.handle,
    { locationAddress: s } = U(),
    i = t.read(s.fields.coordinates).value,
    d = [],
    l = o.map((k, _) => {
      const C = k.pickupLocation,
        E = r === k.handle,
        b = Ma(C.carrierCode),
        w = E ? h(b, C) : y(b, C),
        S = E
          ? { width: 68, height: 78 }
          : b
          ? { width: 40, height: 40 }
          : { width: 30, height: 30 },
        M = {
          latitude: C.address.coordinates?.latitude || 0,
          longitude: C.address.coordinates?.longitude || 0,
        },
        D = ii(M, d);
      return (
        d.push(M),
        {
          title: C.name,
          label: C.carrierName,
          blockInfoWindow: !0,
          position: {
            lat: M.latitude + D.latitude,
            lng: M.longitude + D.longitude,
          },
          zIndex: E ? 1001 : 0,
          image: w,
          style: S,
          id: k.handle,
          notInBounds: !E && _ > 5,
          clusterable: !E,
        }
      );
    }),
    u = { lat: i?.latitude ?? 0, lng: i?.longitude ?? 0 };
  l.push({
    id: 'buyer',
    image: ti,
    notInBounds: !1,
    position: u,
    style: { width: 36, height: 36 },
    blockInfoWindow: !0,
    clusterable: !1,
    zIndex: 1e3,
  });
  const p = l.find((k) => k.id === r)?.position || u,
    g = {
      clustererOptions: {
        averageCenter: !0,
        clusterClass: 'pickup_point_map__cluster',
        styles: {
          height: 32,
          width: 32,
          textColor: '#ffffff',
          textSize: 16,
          textLineHeight: 32,
          fontFamily:
            "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",
        },
      },
      mapOptions: {
        gestureHandling: 'greedy',
        scrollwheel: !0,
        center: p,
        boundsPadding: 0,
        panToCenter: !0,
        maxZoom: 19,
        styles: a ? Da : ni,
      },
    };
  return e(Ta, {
    className: si.PickupPointMap,
    markers: l,
    title: 'Shopify HQ',
    mapId: 'test_map_id',
    onMarkerSelect: n,
    options: g,
    blockSize: 286,
  });
  function h(k, _) {
    return k ? Na(_.carrierCode) : oi;
  }
  function y(k, _) {
    return k ? xa(_.carrierCode) : _.carrierLogoUrl;
  }
}
const ci = 'dbhwQ',
  li = 'BzKwB',
  di = 'k0DAZ',
  ui = 'tqSRi',
  Xe = { Rates: ci, RateEntry: li, LocationName: di, Capitalized: ui };
function pi({ businessHours: n }) {
  const t = L();
  return e(B, {
    spacing: 'small400',
    children: n
      ? e(Z, {
          children: [
            e($, {
              emphasis: 'bold',
              size: 'small',
              children: t('pickup_point.business_hours', 'Opening hours'),
            }),
            e(hi, { businessHours: n }),
          ],
        })
      : e($, {
          size: 'small',
          appearance: 'subdued',
          children: t(
            'pickup_point.no_business_hours',
            'No opening hours available'
          ),
        }),
  });
}
function hi({ businessHours: n }) {
  const t = ea(),
    a = L(),
    { geolocation: o } = Le(),
    c = H(() => na(o?.country.code), [o]),
    r = ta(c),
    s = {};
  if (
    (r.forEach((u) => {
      s[ie[u]] = n.filter((p) => p.day === ie[u].toUpperCase());
    }),
    r.every((u) => {
      const p = s[ie[u]];
      return p.length === 1
        ? p[0].openingTime === '00:00' && p[0].closingTime === '23:59'
        : !1;
    }))
  )
    return e(K, {
      size: 'small',
      appearance: 'subdued',
      children: a('pickup_point.open_twenty_four_hours', 'Open 24/7'),
    });
  const d = [],
    l = [];
  return (
    r.forEach((u) => {
      if (
        (d.push(
          e(
            K,
            { size: 'small', children: [t(ie[u].toLowerCase()), ':'] },
            ie[u]
          )
        ),
        s[ie[u]].length === 0)
      )
        l.push(
          e(K, {
            size: 'small',
            children: a('pickup_point.location_is_currently_closed', 'Closed'),
          })
        );
      else {
        let p = '';
        s[ie[u]].forEach((g) => {
          p = `${p}${p === '' ? '' : ', '}${g.openingTime} - ${g.closingTime}`;
        }),
          l.push(e(K, { size: 'small', children: p }));
      }
    }),
    e(me, {
      children: [
        e(B, { spacing: 'none', children: d }),
        e(B, { spacing: 'none', children: l }),
      ],
    })
  );
}
function bt({ pickupPoint: n, displayExtraDetails: t }) {
  const a = L(),
    o = jn(),
    { pickupLocation: c } = n,
    r = Kn(c.address, { hiddenFields: ['countryCode'] }),
    s = !c.fromDeliveryOptionGenerator,
    i = (l, u) =>
      l === 0
        ? a('shipping.free_rate_label', 'Free')
        : o(l, { form: 'short', currency: u }),
    d = n.cost.amount === 0 ? 'uppercase' : void 0;
  return e(B, {
    spacing: 'small100',
    children: [
      e(Jn, {
        spacing: 'small400',
        columns: ['75%', '25%'],
        children: [
          e(B, {
            spacing: 'small500',
            children: [
              e(B, {
                spacing: 'none',
                children: [
                  e($, {
                    children: e('span', {
                      className: ne(Xe.LocationName, s && Xe.Capitalized),
                      children: s ? c.name?.toLowerCase() : c.name,
                    }),
                  }),
                  e($, {
                    appearance: 'subdued',
                    size: 'small',
                    children: e('span', {
                      className: s && Xe.Capitalized,
                      children: s ? r?.toLowerCase() : r,
                    }),
                  }),
                ],
              }),
              e(Oa, { pickupLocation: c }),
            ],
          }),
          e(B, {
            spacing: 'none',
            children: e($, {
              emphasis: 'bold',
              inlineAlignment: 'end',
              children: e(K, {
                letterCase: d,
                children: i(n.cost.amount, n.cost.currencyCode),
              }),
            }),
          }),
        ],
      }),
      t && e(pi, { businessHours: c.businessHours }),
    ],
  });
}
const mi = 'Ak386',
  gi = 'IKBAC',
  fi = 'BONgC',
  Ie = { Paginator: mi, PaginatorCaption: gi, Button: fi };
function Pt({
  page: n,
  pageCount: t,
  currentPageLabel: a,
  onPageChange: o,
  firstPage: c = 1,
}) {
  const r = L(),
    s = N(
      (l) => () => {
        o(n + l);
      },
      [n, o]
    ),
    i = n <= c,
    d = n >= t + c - 1;
  return e('div', {
    className: Ie.Paginator,
    children: [
      e('div', {
        className: Ie.Button,
        children: e(X, {
          onPress: s(-1),
          disabled: i,
          kind: 'plain',
          inlineSize: 'fill',
          children: e(de, {
            source: 'arrowLeft',
            appearance: i ? void 0 : 'monochrome',
            accessibilityLabel: r(
              'pickup_point.paginator.next_accessibility_label',
              'Next page'
            ),
          }),
        }),
      }),
      e('div', {
        className: Ie.PaginatorCaption,
        children: e($, { children: a }),
      }),
      e('div', {
        className: Ie.Button,
        children: e(X, {
          onPress: s(1),
          disabled: d,
          kind: 'plain',
          inlineSize: 'fill',
          children: e(de, {
            source: 'arrowRight',
            appearance: d ? void 0 : 'monochrome',
            accessibilityLabel: r(
              'pickup_point.paginator.previous_accessibility_label',
              'Previous page'
            ),
          }),
        }),
      }),
    ],
  });
}
const yi = 'ErqSa',
  ki = { PickupPointList: yi };
function _i({ pickupPoints: n, index: t, displayExtraDetails: a }) {
  const o = L(),
    c = Q(),
    { proposedPickupPoint: r, setProposedPickupPoint: s } = qe(),
    [, i] = x(''),
    d = N(
      (b) => {
        s({ pickupPointHandle: b[0] }), i(b[0]);
      },
      [s, i]
    ),
    l = c.read(r).value?.handle,
    u = 6,
    p = N(
      (b) => {
        const w = n.findIndex((v) => v.handle === b);
        return Math.floor(w / u) + 1;
      },
      [n]
    ),
    [g, f] = x(l ? p(l) : 1),
    m = N((b) => {
      f(b);
    }, []),
    h = H(() => n.slice((g - 1) * u, g * u), [n, g, u]),
    y = Math.ceil(n.length / u),
    k = (g - 1) * u + 1,
    _ = Math.min(g * u, n.length);
  O(() => {
    l && f(p(l));
  }, [l, p, t]);
  const C =
      n.length === 0
        ? o('pickup_point.no_pickup_points_found', 'No pickup points found')
        : o(
            'pickup_point.paginator.header',
            { first: k, last: _, count: n.length },
            {
              one: 'Showing %{first} - %{last} of %{count} point',
              other: 'Showing %{first} - %{last} of %{count} points',
            }
          ),
    E =
      n.length === 0
        ? o('pickup_point.no_pickup_points_found', 'No pickup points found')
        : o(
            'pickup_point.paginator.selected_page',
            { first: k, last: _, count: n.length },
            {
              one: '%{first} - %{last} of %{count} point',
              other: '%{first} - %{last} of %{count} points',
            }
          );
  return e('div', {
    className: ki.PickupPointList,
    children: e(Zn, {
      id: 'pickup-points-option-list',
      selectedItems: l ? [l] : [],
      onChange: d,
      children: [
        e(j, {
          padding: 'small100',
          border: ['none', 'none', 'base', 'none'],
          children: e($, { inlineAlignment: 'center', children: C }),
        }),
        h.map((b) =>
          e(
            Qn,
            {
              id: b.handle,
              children: e(bt, {
                pickupPoint: b,
                displayExtraDetails: !!(a && b.handle === l),
              }),
            },
            b.handle
          )
        ),
        e(j, {
          borderRadius: ['none', 'none', 'base', 'base'],
          children: e(Pt, {
            page: g,
            pageCount: y,
            currentPageLabel: E,
            onPageChange: m,
          }),
        }),
      ],
    }),
  });
}
function bi({ negotiating: n }) {
  const t = L(),
    [a, o] = x(0),
    c = Q(),
    [, r] = x(null),
    {
      proposedPickupPoint: s,
      pickupPoints: i,
      setProposedPickupPoint: d,
    } = qe(),
    l = N(
      (h) => {
        d({ pickupPoint: i[h - 1] }), r(i[h - 1]?.handle);
      },
      [d, i]
    ),
    u = N(
      (h) => {
        const y = String(h);
        d({ pickupPointHandle: y }), r(y);
      },
      [d, r]
    ),
    p = c.read(s).value,
    g = H(() => i.findIndex((h) => h.handle === p?.handle) + 1, [i, p?.handle]);
  if (n)
    return e(Xn, {
      text: t(
        'pickup_point.waiting_on_pickup_point_location_notice',
        'Searching for pickup points...'
      ),
    });
  const f =
      i.length === 0
        ? t('pickup_point.no_pickup_points_found', 'No pickup points found')
        : t(
            'pickup_point.paginator.selected_pickup_point_label',
            { pickup_point_index: g, count: i.length },
            {
              one: '%{pickup_point_index} of %{count} point',
              other: '%{pickup_point_index} of %{count} points',
            }
          ),
    m = i.some(({ pickupLocation: h }) => h.businessHours);
  return e(Zs, {
    tabs: [
      { label: t('pickup_point.selector_tab_map', 'Map'), icon: 'map' },
      { label: t('pickup_point.selector_tab_list', 'List'), icon: 'list' },
    ],
    selected: a,
    onChange: o,
    ariaLabel: t('pickup_point.selector_tabs', 'Pickup point selector'),
    children: [
      e(j, {
        children: [
          e(ri, { onPickupPointSelect: u }),
          e(Pt, {
            page: g,
            pageCount: i.length,
            currentPageLabel: f,
            onPageChange: l,
          }),
          e(xe, {}),
          p &&
            e(j, {
              padding: 'base',
              children: e(bt, { pickupPoint: p, displayExtraDetails: m }),
            }),
        ],
      }),
      e(_i, { pickupPoints: i, index: a, displayExtraDetails: m }),
    ],
  });
}
const Pi = Gn('AutocompleteSingleAddressField');
function vt({
  address: n,
  onSelect: t,
  value: a,
  country: o,
  hiddenFields: c = [
    'firstName',
    'lastName',
    'company',
    'zoneCode',
    'countryCode',
    'phone',
  ],
  ...r
}) {
  const { value: s, setValue: i } = Va({
    addressType: r.addressType,
    countryCode: o.code,
    initialAddressQuery: n.coordinates ? De(n, o, c) : a,
  });
  function d(l) {
    i(De(l, o, c)), t && t(l);
  }
  return e(et, {
    id: oa(void 0, Pi),
    onSelect: d,
    value: s,
    countryCode: o.code,
    ...r,
  });
}
const Nn = ue('');
function vi({ onSearch: n, loading: t, addressAutoFocus: a }) {
  const o = L(),
    { geolocation: c } = Le(),
    { shippingCountries: r, loading: s } = aa(),
    { locationAddress: i } = U(),
    d = Q(),
    l = H(() => nt({ countryCode: void 0, address: void 0 }), []),
    u = tn(i.fields.countryCode, l.countryCode),
    { details: p, loading: g } = tt(u.value),
    f = H(() => p ?? c.country, [p, c.country]),
    [m, h] = J(l.address),
    y = H(() => (r?.length ? r : [{ value: f.code, label: f.name }]), [r, f]),
    k = g || s || t,
    _ = 'location address',
    C = o('pickup_point.search_button', 'Search'),
    E = o('pickup_point.address_label', 'Address'),
    b = N(
      (A) =>
        De(A, f, [
          'company',
          'firstName',
          'lastName',
          'phone',
          'countryCode',
          'zoneCode',
        ]),
      [f]
    ),
    w = d.read(i).value,
    [v, P] = J(Nn);
  O(() => {
    const A = d.read(i).value;
    P(b(A));
  }, [i, d, b, P]);
  const S = $e(i);
  Ci(i, l);
  const M = f.zones,
    D = () => {
      M.length || (w.zoneCode = void 0), n(w);
    },
    W = {
      errors: l,
      state: { countryCode: i.fields.countryCode, address: Nn },
    };
  return e(Se, {
    target: 'cart.deliveryGroups[0].deliveryAddress',
    children: e(ze, {
      ...W,
      children: e(mn, {
        children: [
          e(ot, {
            children: e(at, {
              name: 'countryCode',
              label: f.labels.country,
              options: y,
              required: !0,
              autocomplete: { group: 'shipping', field: 'country' },
              readonly: t,
              ...u,
              onChange: (A) => {
                S({ countryCode: A }), h(void 0);
              },
            }),
          }),
          e(B, {
            spacing: 'small400',
            children: [
              e(st, {
                columns: ['fill', 'auto'],
                children: [
                  e(vt, {
                    autoFocus: a,
                    address: w,
                    error: !!m,
                    country: f,
                    name: _,
                    label: E,
                    onSelect: (A) => {
                      P(b(A)), S(A);
                    },
                    value: v,
                    onInput: (A) => {
                      A ? h(void 0) : P('');
                    },
                    onChange: (A) => P(A),
                    field: 'address1',
                    allowAllCountries: !0,
                  }),
                  e(X, {
                    disabled: !w.coordinates || !v,
                    onPress: D,
                    loading: k,
                    children: C,
                  }),
                ],
              }),
              m && e(it, { controlID: _, children: m?.message ?? m }),
            ],
          }),
        ],
      }),
    }),
  });
}
function Ci(n, t) {
  const a = L(),
    o = Q(),
    c = Ae(),
    r = oe(!0);
  Fe(async () => {
    if (r.current) return (r.current = !1), { behavior: 'allow' };
    const s = o.read(n).value,
      i = new Map();
    return (
      s.coordinates ||
        i.set(
          'address',
          a('field_errors.address_address1_blank', 'Enter an address')
        ),
      rt(s.countryCode) ||
        i.set(
          'countryCode',
          a('field_errors.address_country_blank', 'Select a country/region')
        ),
      i.size
        ? (c.leaveBreadcrumb('Blocking address errors', {
            errors: Array.from(i).map(([, d]) => d),
          }),
          {
            behavior: 'block',
            reason: fn.UnknownReason,
            perform: () => {
              for (const [d, l] of i) o.write(t[d], l);
            },
          })
        : { behavior: 'allow' }
    );
  });
}
const Si = { timeout: 8e3, enableHighAccuracy: !0 };
function Ct({ onSuccess: n, onError: t, options: a = Si }) {
  const o = L(),
    [c, r] = x(!1),
    [s, i] = x(void 0),
    d = o('pickup_point.geolocation.shared_location_button', 'Use my location'),
    l = o(
      'pickup_point.geolocation.errors.unsuported_by_browser',
      'Getting geolocation is not supported by your browser. Try again or use a different browser.'
    ),
    u = o(
      'pickup_point.geolocation.errors.permission_not_allowed',
      'Allow sharing your location.'
    ),
    p = o(
      'pickup_point.geolocation.errors.permission_denied',
      "Couldn't get your location. Try again."
    ),
    g = (h) => {
      r(!1), n(h);
    },
    f = (h) => {
      r(!1), i(h.code === 3 ? p : u), t?.(h);
    };
  async function m() {
    if ((i(void 0), r(!0), navigator.permissions)) {
      const h = await navigator.permissions.query({ name: 'geolocation' });
      h.state === 'granted' || h.state === 'prompt'
        ? navigator.geolocation.getCurrentPosition(g, f, a)
        : i(p);
    } else
      navigator.geolocation
        ? navigator.geolocation.getCurrentPosition(g, f, a)
        : i(l);
  }
  return e(Z, {
    children: [
      e(X, {
        inlineSize: 'fill',
        kind: 'secondary',
        onPress: m,
        loading: c,
        children: e(me, {
          blockAlignment: 'center',
          spacing: 'small400',
          children: [e(de, { source: 'geolocation' }), e($, { children: d })],
        }),
      }),
      s ? e(it, { children: s }) : null,
    ],
  });
}
function Ji({ heading: n = !0 }) {
  const t = L(),
    { geolocation: a } = Le(),
    o = oe(!1),
    c = t('pickup_point.title', 'Pickup point'),
    r = t('pickup_point.or', 'or'),
    [s, i] = x(1),
    [d, l] = x(!1),
    { locationAddress: u } = U(),
    g = Q().read(u).value,
    f = $e(u),
    { negotiate: m } = ye(),
    { pickupPoints: h, setProposedPickupPoint: y } = qe(),
    [k, _] = x(!0),
    { value: C } = ct(),
    { value: E } = lt(),
    b =
      E?.status === 'unavailable' &&
      C?.some(({ code: T }) => T === 'DELIVERY_NO_DELIVERY_STRATEGY_AVAILABLE')
        ? t(
            'pickup_point.no_pickup_points_near_location',
            'No pickup points found near your location'
          )
        : void 0,
    [w, v] = x(b),
    P = ge('Checkout::PickupPoints::RenderBefore'),
    S = ge('Checkout::PickupPoints::RenderAfter'),
    M = N(
      (T) => {
        v((V) => (V === T ? void 0 : V));
      },
      [v]
    );
  O(
    () => (
      (o.current = !0),
      () => {
        o.current = !1;
      }
    ),
    []
  );
  const [D, W] = x(!1),
    A = N(() => {
      _(!1),
        W(!0),
        m({
          include: ['deliveryNext'],
          fieldsToResolve: ['deliveryNext'],
          silenceViolations: ['delivery-method'],
          onComplete: (T) => {
            switch (T.status) {
              case 'success':
              case 'error':
                if (o.current) {
                  W(!1);
                  const V = t(
                    'pickup_point.no_pickup_points_near_you',
                    'No pickup points found near the selected address'
                  );
                  if (T.negotiated.deliveryNext)
                    switch (T.negotiated.deliveryNext.status) {
                      case 'filled':
                        T.negotiated.deliveryNext.lines.length > 0
                          ? (i(2), M(V))
                          : (v(V), i(1));
                        break;
                      case 'unavailable':
                        v(V), i(1);
                        break;
                      default:
                        En(T.negotiated.deliveryNext);
                    }
                }
                break;
              case 'invalid':
              case 'stale':
              case 'denied':
              case 'throttled':
              case 'alreadyCompleted':
                break;
              default:
                En(T);
            }
          },
        });
    }, [m, M, v, t]);
  O(() => {
    g.coordinates && g.countryCode && k && (h && h.length > 0 ? i(2) : A());
  }, [i, g, A, h, k]);
  const R = N(
      (T) => {
        f({
          zoneCode: a.zone?.code,
          countryCode: a.country.code,
          coordinates: {
            latitude: T.coords.latitude,
            longitude: T.coords.longitude,
          },
        }),
          A();
      },
      [a, f, A]
    ),
    G = N(
      ({
        zoneCode: T,
        countryCode: V,
        coordinates: z,
        address1: I,
        address2: te,
        city: Y,
        postalCode: ae,
      }) => {
        f({
          zoneCode: T,
          countryCode: V,
          coordinates: z,
          address1: I,
          address2: te,
          city: Y,
          postalCode: ae,
        });
        const se = t(
          'pickup_point.could_not_resolve_address',
          "Your address couldn't be located. Try again or use a different address"
        );
        z ? (A(), M(se)) : v(se);
      },
      [f, A, M, t]
    );
  Ei(h.length > 0);
  const q =
    h.length === 0
      ? t(
          'pickup_point.no_pickup_points_near_location',
          'No pickup points found near your location'
        )
      : t(
          'pickup_point.number_of_pickup_points_near_location',
          { count: h.length },
          {
            one: '%{count} pickup point near your location',
            other: '%{count} pickup points near your location',
          }
        );
  return e(Se, {
    target: 'cart.deliveryGroups[0].deliveryAddress',
    children: e(yn, {
      accessibilityLabel: c,
      children: e(B, {
        children: [
          n
            ? e(He, { level: 2, children: c })
            : e(K, { appearance: 'subdued', children: c }),
          e(fe, { extensions: P, options: { isLocationFormVisible: s === 1 } }),
          s === 1 &&
            !D &&
            e(Z, {
              children: [
                e(Ct, { onSuccess: R }),
                e($, {
                  inlineAlignment: 'center',
                  appearance: 'subdued',
                  children: r,
                }),
                e(vi, { loading: !1, onSearch: G, addressAutoFocus: d }),
                w
                  ? e(dt, {
                      status: 'warning',
                      title: w,
                      errorType: ut.DeliveryError,
                    })
                  : null,
              ],
            }),
          s === 2 &&
            !D &&
            e(Z, {
              children: [
                e($, {
                  children: [
                    q,
                    ' ',
                    e(le, {
                      onPress: () => {
                        i(1),
                          l(!0),
                          f({
                            zoneCode: g.zoneCode,
                            countryCode: g.countryCode,
                            coordinates: void 0,
                          }),
                          y({ pickupPoint: void 0 });
                      },
                      children: t('pickup_point.change', 'Change'),
                    }),
                  ],
                }),
                e(bi, { negotiating: D }),
              ],
            }),
          D &&
            e(Xn, {
              text: t(
                'pickup_point.waiting_on_pickup_point_location_notice',
                'Searching for pickup points...'
              ),
            }),
          e(fe, { extensions: S, options: { isLocationFormVisible: s === 1 } }),
        ],
      }),
    }),
  });
}
function Ei(n) {
  const t = Ae();
  Fe(async ({ reason: a }) =>
    a === 'negotiation'
      ? { behavior: 'allow' }
      : n
      ? { behavior: 'allow' }
      : (t.leaveBreadcrumb('Pickup point not selected'),
        { behavior: 'block', reason: fn.UnknownReason, perform: () => {} })
  );
}
function St() {
  const n = L(),
    a = pt()?.methods ?? [],
    o = [1, 2],
    c = a.length > 0 ? a : o;
  return e(Z, {
    children: [
      e(_e, {
        size: 'base',
        inlineSize: 'large',
        children: n(
          'shipping.waiting_on_pickup_location_notice',
          'Getting available pick up locations'
        ),
      }),
      e(sa, {
        name: 'skeleton-loading',
        onChange: () => {},
        value: '',
        variant: 'group',
        hideRadioButton: c.length === 1,
        children: c.map((r) =>
          e(
            ia,
            {
              disabled: !0,
              id: `${r}`,
              secondaryContent: e(B, {
                spacing: 'none',
                inlineAlignment: 'end',
                children: [
                  e(_e, { inlineSize: 'small' }),
                  e(_e, { inlineSize: 'base' }),
                ],
              }),
              children: e(B, {
                spacing: 'none',
                children: [
                  e(_e, { inlineSize: 'small' }),
                  e(_e, { inlineSize: 'base' }),
                ],
              }),
            },
            `${r}`
          )
        ),
      }),
    ],
  });
}
const xn = ue('');
function Ai({ onSearch: n, searchOnSelect: t }) {
  const a = L(),
    { geolocation: o } = Le(),
    { pickupCountries: c, loading: r } = ra(),
    s = Q(),
    i = s.read(U().locationAddress).value,
    d = ca(() => la(i.address1 ? i : { countryCode: o.country.code })),
    l = H(() => nt({ countryCode: void 0, address: void 0 }), []),
    u = tn(d.fields.countryCode, l.countryCode),
    p = tn(d.fields.postalCode, l.address),
    { details: g, loading: f } = tt(u.value),
    m = H(() => g ?? o.country, [g, o.country]),
    [h] = J(l.address),
    y = H(() => (c?.length ? c : [{ value: m.code, label: m.name }]), [c, m]),
    k = N(
      (I) =>
        De(I, m, [
          'company',
          'firstName',
          'lastName',
          'phone',
          'countryCode',
          'zoneCode',
        ]),
      [m]
    ),
    _ = m.zones,
    C = s.read(d).value,
    [E, b] = J(xn),
    w = f || r,
    v = u.value ? da(u.value) : !1;
  Li(d, l);
  const P = $e(d);
  O(() => {
    const I = s.read(d).value;
    b(k(v ? I : { postalCode: I.postalCode }));
  }, [d, s, k, b, v]);
  const S = (I = C) => {
      I.coordinates
        ? (_.length || (I.zoneCode = void 0), n(I))
        : s.write(
            l.address,
            a(
              'local_pickup.could_not_resolve_address',
              "Your address couldn't be located. Try again or use a different address"
            )
          );
    },
    M = () => {
      (u.error || p.error) && (u.clearError(), p.clearError());
    },
    D = (I) => {
      P({ countryCode: I }), u.onChange(I), M();
    },
    W = (I) => {
      C.coordinates && P({ countryCode: u.value }), b(I), M();
    },
    A = (I) => {
      P(I), t && S(I);
    },
    R = t ? { source: 'magnify', position: 'end' } : void 0,
    G = v && t,
    q = G
      ? null
      : e(X, {
          disabled: !C.coordinates || !E.length,
          onPress: S,
          loading: w,
          children: a('local_pickup.search_button', 'Find stores'),
        }),
    T = G ? ['fill'] : ['fill', 'auto'],
    V = {
      errors: l,
      state: {
        countryCode: d.fields.countryCode,
        address: v ? xn : d.fields.postalCode,
      },
    },
    z = ua(h) ? h.message : h;
  return e(Se, {
    target: 'cart.deliveryGroups[0].deliveryAddress',
    children: e(ze, {
      ...V,
      children: e(mn, {
        children: [
          e(ot, {
            children: e(at, {
              name: 'countryCode',
              label: m.labels.country,
              options: y,
              required: !0,
              autocomplete: { group: 'shipping', field: 'country' },
              readonly: w,
              ...u,
              onChange: D,
            }),
          }),
          e(st, {
            columns: T,
            children: [
              v
                ? e(et, {
                    error: z,
                    countryCode: m.code,
                    name: 'location address',
                    label: a(
                      'local_pickup.location_address_search_label',
                      'Address'
                    ),
                    onSelect: A,
                    value: E,
                    onInput: W,
                    field: 'address1',
                    icon: R,
                  })
                : e(vt, {
                    country: m,
                    address: C,
                    field: 'address1',
                    name: 'postalCode',
                    label: m.labels.postalCode,
                    onSelect: (I) => {
                      P(I), b(k(I));
                    },
                    required: !0,
                    autocomplete: { group: 'shipping', field: 'postal-code' },
                    readonly: w,
                    error: z,
                    icon: R,
                    value: E,
                    onInput: (I) => {
                      I ? M() : b('');
                    },
                    onChange: (I) => b(I),
                    allowAllCountries: !0,
                  }),
              q,
            ],
          }),
        ],
      }),
    }),
  });
}
function Li(n, t) {
  const a = L(),
    o = Q(),
    c = Ae();
  Fe(async () => {
    const r = o.read(n).value,
      s = new Map();
    return (
      r.coordinates ||
        s.set(
          'address',
          a('field_errors.address_address1_blank', 'Enter an address')
        ),
      rt(r.countryCode) ||
        s.set(
          'countryCode',
          a('field_errors.address_country_blank', 'Select a country/region')
        ),
      s.size
        ? (c.leaveBreadcrumb('Blocking address errors', {
            errors: Array.from(s).map(([, i]) => i),
          }),
          {
            behavior: 'block',
            reason: fn.UnknownReason,
            perform: () => {
              for (const [i, d] of s) o.write(t[i], d);
            },
          })
        : { behavior: 'allow' }
    );
  });
}
function Et({
  locationFormVisible: n,
  toggleLocationFormVisibility: t,
  children: a,
  onLocationChange: o,
}) {
  const c = kn(),
    r = () => t(!1);
  return c
    ? e(Z, {
        children: [a, e(Ii, { open: n, onModalClose: r, onLocationChange: o })],
      })
    : n
    ? e(At, { onLocationChange: o })
    : a;
}
function Ii({ open: n, onModalClose: t, onLocationChange: a }) {
  const o = L();
  return e(qn, {
    padding: !0,
    title: o('local_pickup.toggle_location', 'Change my location'),
    open: n,
    onClose: t,
    size: 'auto',
    children: [
      e(At, { onLocationChange: a, changeLocationOnSelect: !0 }),
      e(j, {
        minBlockSize: be
          .default(320)
          .when({ viewportInlineSize: { min: 'small' } }, 120),
      }),
      e(X, {
        onPress: t,
        inlineSize: 'fill',
        kind: 'plain',
        size: 'extraLarge',
        children: o('local_pickup.cancel', 'Cancel'),
      }),
    ],
  });
}
const At = ({
  onLocationChange: n,
  changeLocationOnSelect: t,
  hideFormOnGeoCoordinatesShare: a,
}) => {
  const { geolocation: o } = Le(),
    { locationAddress: c } = U(),
    r = $e(c),
    s = L(),
    [i, d] = x(!0),
    l = (g) => {
      a && d(!1),
        r({
          zoneCode: o.zone?.code,
          countryCode: o.country.code,
          coordinates: {
            latitude: g.coords.latitude,
            longitude: g.coords.longitude,
          },
        }),
        n(g);
    },
    u = (g) => {
      r(g), n(g);
    };
  return e(B, {
    children: [
      e(Ct, { onSuccess: l }),
      i
        ? e(B, {
            children: [
              e(Jn, {
                blockAlignment: 'center',
                columns: ['fill', 'auto', 'fill'],
                children: [
                  e(xe, { direction: 'inline' }),
                  e(j, {
                    padding: ['none', 'base'],
                    children: e(K, {
                      appearance: 'subdued',
                      children: s('local_pickup.or', 'OR'),
                    }),
                  }),
                  e(xe, { direction: 'inline' }),
                ],
              }),
              e(Ai, { searchOnSelect: t, onSearch: u }),
            ],
          })
        : e(X, {
            inlineAlignment: 'start',
            kind: 'plain',
            onPress: () => d(!0),
            children: s(
              'shipping.local_pickup.search_address',
              'Search for address'
            ),
          }),
    ],
  });
};
function wi(n) {
  const { selectedDeliveryMethodHandle: t, methods: a = [] } = n || {},
    o = Be(),
    c = ve(),
    { id: r } = ee(),
    s = kn(),
    i = Ce(),
    d = (p) => p.handle === t,
    l = a.find(d)?.originLocation?.id,
    u = a.findIndex(d);
  return (p = 'checkout_pickup_change_buyer_location') =>
    o.record({
      schemaId: 'local_pickup_checkout/3.1',
      payload: {
        eventType: p,
        checkoutToken: c.checkoutSessionIdentifier || '',
        shopId: parseInt(pe(r), 10),
        locationId: l && pe(l),
        selectedLocationRank: u,
        userId: i?.id ? parseInt(pe(i.id), 10) : void 0,
        numberLocationsFound: a.length || 0,
        checkoutSurface: s ? 'shop_pay' : 'guest_checkout',
      },
    });
}
const Dn = 5;
function Mi(n, t) {
  const a = wi({ methods: n, selectedDeliveryMethodHandle: t }),
    [o, c] = x(Dn),
    r = H(() => n.slice(0, o), [n, o]);
  O(() => {
    const l = n.findIndex((p) => p.handle === t);
    l >= o && c(l + 1);
  }, [n, o, t]);
  const s = n.length - r.length,
    i = r.length >= n.length;
  return {
    revealedMethods: r,
    amountLeft: s,
    allRevealed: i,
    revealMore: () => {
      i || (c((l) => l + Dn), a('checkout_pickup_buyer_reveal_more'));
    },
  };
}
function Ti(n, t) {
  const a = t && (t.unit === 'MILES' ? 'mi' : 'km');
  return [
    t &&
      t.value.toLocaleString(n, {
        minimumFractionDigits: 0,
        maximumFractionDigits: 1,
      }),
    a,
  ]
    .join(' ')
    .trim();
}
function Zi() {
  const t = L()('delivery_options.pick_up_locations', 'Store locations');
  return e(Se, {
    target: 'cart.deliveryGroups[0].deliveryAddress',
    children: e(yn, {
      accessibilityLabel: t,
      children: e(B, {
        children: [e(He, { level: 2, children: t }), e(Ni, {})],
      }),
    }),
  });
}
function Ni() {
  const n = Fn(),
    t = L(),
    { negotiating: a } = pa(),
    o = pt(),
    c = e(St, {}),
    [r, s] = x(!1),
    i = ha(),
    [d, l] = x(!1),
    u = N(() => l((v) => !v), []),
    p = N(() => l(!1), []),
    { deliveryLines: g, locationAddress: f } = U(),
    m = ce(g),
    h = ce(f),
    y = Kn(h) || '',
    { negotiate: k } = ye(),
    { state: _ } = ma(),
    C = ge('Checkout::PickupLocations::RenderBefore'),
    E = ge('Checkout::PickupLocations::RenderAfter'),
    b = () => {
      s(!0), p();
      const v = m.find((P) => {
        const S = _.read(P).value.id;
        return S && S === o?.id;
      });
      v && _.write(v.fields.deliveryMethodHandle, void 0),
        k({
          include: ['deliveryNext'],
          fieldsToResolve: ['deliveryNext'],
          onComplete: () => {
            s(!1);
          },
        });
    },
    w = e(X, {
      kind: 'plain',
      onPress: u,
      children: d
        ? t('local_pickup.cancel', 'Cancel')
        : t('local_pickup.toggle_location', 'Change my location'),
    });
  if (a || r || !n) return c;
  if (o) {
    const { methods: v, type: P } = o;
    return e(B, {
      children: [
        i
          ? e($, {
              children: t(
                'delivery_options.subscription_pickup_information',
                'This delivery method will apply to all items in this order and to all future orders for this subscription.'
              ),
            })
          : null,
        e(fe, { extensions: C, options: { isLocationFormVisible: d } }),
        e(ga, {
          spacing: be.when(
            { viewportInlineSize: { min: 'medium' } },
            'large500'
          ),
          columns: be
            .default(['fill'])
            .when({ viewportInlineSize: { min: 'medium' } }, ['fill', 'auto']),
          inlineAlignment: 'start',
          blockAlignment: 'start',
          rows: 'auto',
          children: [
            e($, {
              appearance: 'subdued',
              children: t(
                'local_pickup.location_information',
                {
                  count: v.length,
                  address: h.address1
                    ? y
                    : t('local_pickup.your_location', 'your location'),
                },
                {
                  one: 'There is %{count} store with stock close to %{address}',
                  other:
                    'There are %{count} stores with stock close to %{address}',
                }
              ),
            }),
            w,
          ],
        }),
        e(Et, {
          locationFormVisible: d,
          toggleLocationFormVisibility: p,
          onLocationChange: b,
          children: e(Oi, { methods: v, type: P }),
        }),
        e(fe, { extensions: E, options: { isLocationFormVisible: d } }),
      ],
    });
  }
  return e(xi, {
    isLocationFormVisible: d,
    setFormVisibilityFalse: p,
    toggleFormVisibility: u,
    handleLocationChange: b,
  });
}
function xi({
  isLocationFormVisible: n,
  setFormVisibilityFalse: t,
  toggleFormVisibility: a,
  handleLocationChange: o,
}) {
  const c = L(),
    { value: r } = lt(),
    s = fa(),
    { value: i } = ct(),
    d = i?.some(({ code: p }) => ya.includes(p)),
    l = !s && r?.status === 'unavailable' && d,
    u = s && r?.status === 'unavailable' && r.hasNoDeliveryMethods;
  return l || u
    ? e(Z, {
        children: [
          e(me, {
            inlineAlignment: 'end',
            children: e(X, {
              kind: 'plain',
              onPress: a,
              children: n
                ? c('local_pickup.cancel', 'Cancel')
                : c('local_pickup.toggle_location', 'Change my location'),
            }),
          }),
          e(Et, {
            locationFormVisible: n,
            toggleLocationFormVisibility: t,
            onLocationChange: o,
            children: e(dt, {
              status: 'critical',
              errorType: ut.DeliveryError,
              children: c(
                'order_summary.no_pickup_location',
                'There are no pickup locations available.'
              ),
            }),
          }),
          e(Di, {}),
        ],
      })
    : e(St, {});
}
function Di() {
  return ka({ active: !0 }), null;
}
function On({ instructions: n }) {
  return e(j, {
    maxInlineSize: 200,
    children: e($, { appearance: 'subdued', size: 'small', children: n }),
  });
}
function Oi({ methods: n, type: t }) {
  const a = L(),
    o = gn(),
    c = jn(),
    { negotiate: r } = ye(),
    s = _a(),
    i = ba({ base: !0, medium: !1 }),
    [d, l] = Pa(t),
    {
      revealedMethods: u,
      amountLeft: p,
      allRevealed: g,
      revealMore: f,
    } = Mi(n, d),
    {
      setInverseGroupDeliveryMethodHandle: m,
      getInverseGroupDeliveryMethodHandle: h,
    } = va(n, t),
    y = kn(),
    k = N(
      ([P]) => {
        if ((l(P), s)) {
          const S = h(P);
          m(S);
        }
        r({ include: ['deliveryNext', 'merchandiseLines'] });
      },
      [l, s, r, h, m]
    ),
    {
      optionList: { typographyStyle: _ },
    } = Ue(),
    C = _ == null,
    E = (P, S) =>
      P === 0 ? a('shipping.free_rate_label', 'Free') : c(P, { currency: S }),
    b = ({ name: P, proximityLabel: S, distance: M }) => {
      let D = P || '';
      if (M || S) {
        const W = S || `(${Ti(o, M)})`;
        D = e(Z, {
          children: [P, ' ', e(K, { appearance: 'subdued', children: W })],
        });
      }
      return D;
    },
    w = u.length === 1,
    v = ge('purchase.checkout.pickup-location-option-item.render-after');
  return e(B, {
    children: [
      e(Zn, {
        id: 'local_pickup_methods',
        title: '',
        titleHidden: !0,
        selectedItems: d ? [d] : [],
        onChange: k,
        controlHidden: !y && u.length === 1,
        hideRadioButton: w,
        children: u.map(
          ({
            handle: P,
            cost: { amount: S, currencyCode: M },
            pickupLocation: D,
          }) => {
            const {
                address: W,
                instructions: A,
                name: R,
                distanceFromBuyer: G,
                proximityLabel: q,
              } = D,
              T = E(S, M),
              V = b({ name: R, distance: G, proximityLabel: q }),
              z =
                T === a('shipping.free_rate_label', 'Free')
                  ? 'uppercase'
                  : void 0;
            return e(
              Qn,
              {
                id: P,
                primaryContent: e(Z, {
                  children: [
                    e(Ca, {
                      address: W,
                      textSize: 'small',
                      textAppearance: 'subdued',
                      hiddenFields: ['postalCode', 'countryCode', 'phone'],
                    }),
                    A && (y || i) && e(On, { instructions: A }),
                  ],
                }),
                secondaryContent: e(Z, {
                  children: [
                    e(K, {
                      emphasis: C ? 'bold' : void 0,
                      style: _,
                      letterCase: z,
                      children: e('span', {
                        style: { display: 'flex', justifyContent: 'flex-end' },
                        children: T,
                      }),
                    }),
                    A && !y && !i && e(On, { instructions: A }),
                  ],
                }),
                tertiaryContent:
                  v?.length > 0 &&
                  e(fe, {
                    extensions: v,
                    options: { handle: P },
                    render: (Y) =>
                      e(B, {
                        padding: ['small100', 'none', 'none', 'none'],
                        spacing: 'small100',
                        children: Y,
                      }),
                  }),
                children: e($, { style: _, children: V }),
              },
              P
            );
          }
        ),
      }),
      !g &&
        e(j, {
          inlineAlignment: 'end',
          children: e(X, {
            inlineAlignment: 'end',
            kind: 'plain',
            onPress: f,
            children: a(
              'local_pickup.reveal_more_label',
              { count: p },
              {
                one: 'Show %{count} more location',
                other: 'Show %{count} more locations',
              }
            ),
          }),
        }),
    ],
  });
}
function Qi() {
  const t = L()('contact.delivery_option_title', 'Delivery method'),
    a = Sa(),
    o = Re();
  return a
    ? e(yn, {
        accessibilityLabel: t,
        children: e(B, {
          children: [o ? null : e(He, { level: 1, children: t }), a],
        }),
      })
    : null;
}
export {
  qi as C,
  Qi as D,
  Yi as E,
  Zi as L,
  Pe as M,
  Ji as P,
  $i as S,
  Fa as a,
  Gi as b,
  ji as c,
  Me as d,
  za as e,
  Ni as f,
  Ra as g,
  ft as h,
  Ki as u,
};
